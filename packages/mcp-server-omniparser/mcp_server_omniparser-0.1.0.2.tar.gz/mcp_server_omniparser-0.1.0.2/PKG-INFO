Metadata-Version: 2.4
Name: mcp-server-omniparser
Version: 0.1.0.2
Summary: MCP Server for UI automation using Microsoft OmniParser model for screen parsing and element detection
Home-page: https://github.com/yourusername/omniparser-mcp-server
Author: Your Name
Author-email: win10ogod <jmes100010@gmail.com>
License: MIT
Keywords: mcp,ui-automation,omniparser,computer-vision,screen-parsing
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: System :: Systems Administration
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: mcp>=1.0.0
Requires-Dist: torch
Requires-Dist: torchvision
Requires-Dist: transformers
Requires-Dist: ultralytics==8.3.70
Requires-Dist: opencv-python
Requires-Dist: pillow
Requires-Dist: numpy
Requires-Dist: pyautogui
Requires-Dist: screeninfo
Requires-Dist: easyocr
Requires-Dist: supervision==0.18.0
Requires-Dist: timm
Requires-Dist: einops==0.8.0
Requires-Dist: accelerate
Requires-Dist: pydantic>=2.0.0
Requires-Dist: asyncio
Requires-Dist: typing-extensions
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-asyncio; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: isort; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Requires-Dist: pre-commit; extra == "dev"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# OmniParser MCP Server

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![MCP](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io/)

ä¸€å€‹åŸºæ–¼Microsoft OmniParseræ¨¡å‹çš„MCP (Model Context Protocol) Serverï¼Œç”¨æ–¼UIè‡ªå‹•åŒ–å’Œå±å¹•è§£æã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- ğŸ–¥ï¸ **å±å¹•æˆªåœ–è§£æ**: ä½¿ç”¨OmniParseræ¨¡å‹è§£æUIæˆªåœ–ï¼Œè­˜åˆ¥å¯äº¤äº’å…ƒç´ 
- ğŸ–±ï¸ **éµé¼ æ¨¡æ“¬**: æ”¯æŒéµç›¤å’Œæ»‘é¼ æ“ä½œæ¨¡æ“¬
- ğŸªŸ **è¦–çª—ç®¡ç†**: é€£æ¥å’Œç®¡ç†ç‰¹å®šæ‡‰ç”¨ç¨‹å¼è¦–çª—
- ğŸŒ **å¤šå¹³å°æ”¯æŒ**: æ”¯æŒæ¡Œé¢æ‡‰ç”¨ã€ç€è¦½å™¨å’ŒéŠæˆ²
- ğŸ”§ **MCPå”è­°**: å®Œå…¨å…¼å®¹MCPå”è­°ï¼Œå¯èˆ‡æ”¯æŒMCPçš„AIåŠ©æ‰‹é›†æˆ

## ğŸ“‹ ç³»çµ±è¦æ±‚

- Python 3.10+
- Windows 10/11 (æ¨è–¦ï¼Œå®Œæ•´åŠŸèƒ½æ”¯æŒ)
- CUDAæ”¯æŒçš„GPU (æ¨è–¦)
- 8GB+ RAM
- 5GB+ å¯ç”¨ç£ç›¤ç©ºé–“

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å…‹éš†é …ç›®

```bash
git clone https://github.com/yourusername/omniparser-mcp-server.git
cd omniparser-mcp-server
```

### 2. å®‰è£ä¾è³´

```bash
# å‰µå»ºè™›æ“¬ç’°å¢ƒ (æ¨è–¦)
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£ä¾è³´
pip install -r requirements.txt
pip install -e .

# Windows ç”¨æˆ¶éœ€è¦é¡å¤–å®‰è£
pip install pywin32 psutil
```

### 3. ä¸‹è¼‰OmniParseræ¨¡å‹

```bash
# ä¸‹è¼‰æ¨¡å‹æ¬Šé‡ (éœ€è¦å…ˆå®‰è£ huggingface-cli)
pip install huggingface_hub

# ä¸‹è¼‰åˆ° weights ç›®éŒ„
mkdir -p weights
for f in icon_detect/{train_args.yaml,model.pt,model.yaml} icon_caption/{config.json,generation_config.json,model.safetensors}; do
    huggingface-cli download microsoft/OmniParser-v2.0 "$f" --local-dir weights
done
mv weights/icon_caption weights/icon_caption_florence
```

### 4. é…ç½®è¨­å®š

ç·¨è¼¯ `config.json` ç¢ºä¿æ¨¡å‹è·¯å¾‘æ­£ç¢ºï¼Œç„¶å¾Œå•Ÿå‹•æœå‹™å™¨ï¼š

```bash
omniparser-mcp-server
```

## ğŸ”§ MCP é…ç½®

### å®‰è£MCPæœå‹™å™¨

```bash
# ä½¿ç”¨ uvx å®‰è£ï¼ˆæ¨è–¦ï¼‰
uvx install mcp-server-omniparser

# æˆ–å¾æºç¢¼å®‰è£
uvx install git+https://github.com/win10ogod/omniparser-mcp-server.git
```

### Claude Desktop é…ç½®

åœ¨ Claude Desktop é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

**é…ç½®æ–‡ä»¶ä½ç½®ï¼š**
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`

**åŸºæœ¬é…ç½®ï¼š**
```json
{
  "mcpServers": {
    "omniparser": {
      "command": "uvx",
      "args": [
        "mcp-server-omniparser"
      ]
    }
  }
}
```

### æœå‹™å™¨é…ç½®

å‰µå»º `config.json` æ–‡ä»¶ä¾†é…ç½®æœå‹™å™¨è¡Œç‚º:

```json
{
    "omniparser": {
        "som_model_path": "weights/icon_detect/model.pt",
        "caption_model_name": "florence2",
        "caption_model_path": "weights/icon_caption_florence",
        "box_threshold": 0.05
    },
    "automation": {
        "screenshot_delay": 0.1,
        "action_delay": 0.5
    }
}
```

æ›´å¤šé…ç½®é¸é …è«‹åƒè€ƒ `mcp_config_examples.json` æ–‡ä»¶ã€‚

## MCPå·¥å…·

### å±å¹•è§£æå·¥å…·

- `parse_screen`: è§£æç•¶å‰å±å¹•æˆ–æŒ‡å®šè¦–çª—
- `get_elements`: ç²å–å±å¹•ä¸Šçš„å¯äº¤äº’å…ƒç´ åˆ—è¡¨
- `find_element`: æ ¹æ“šæè¿°æŸ¥æ‰¾ç‰¹å®šå…ƒç´ 

### æ“ä½œå·¥å…·

- `click_element`: é»æ“ŠæŒ‡å®šå…ƒç´ 
- `type_text`: è¼¸å…¥æ–‡å­—
- `drag_element`: æ‹–æ‹½å…ƒç´ 
- `scroll`: æ»¾å‹•é é¢

### è¦–çª—ç®¡ç†å·¥å…·

- `list_windows`: åˆ—å‡ºæ‰€æœ‰å¯ç”¨è¦–çª—
- `focus_window`: èšç„¦åˆ°æŒ‡å®šè¦–çª—
- `capture_window`: æˆªå–æŒ‡å®šè¦–çª—

## é–‹ç™¼

### é …ç›®çµæ§‹

```
omniparser-mcp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ omniparser_mcp/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ server.py          # MCPæœå‹™å™¨ä¸»å…¥å£
â”‚       â”œâ”€â”€ omniparser_client.py  # OmniParseræ¨¡å‹å®¢æˆ¶ç«¯
â”‚       â”œâ”€â”€ automation/        # è‡ªå‹•åŒ–æ“ä½œæ¨¡çµ„
â”‚       â”œâ”€â”€ window_manager/    # è¦–çª—ç®¡ç†æ¨¡çµ„
â”‚       â””â”€â”€ tools/            # MCPå·¥å…·å®šç¾©
â”œâ”€â”€ tests/
â”œâ”€â”€ config.json
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md
```

### é‹è¡Œæ¸¬è©¦

```bash
pytest tests/
```

## ğŸ“– æ–‡æª”

- [å®‰è£æŒ‡å—](INSTALL.md) - è©³ç´°çš„å®‰è£å’Œé…ç½®èªªæ˜
- [APIæ–‡æª”](docs/API.md) - MCPå·¥å…·APIåƒè€ƒ (å³å°‡æ¨å‡º)
- [ç¤ºä¾‹ä»£ç¢¼](examples/) - ä½¿ç”¨ç¤ºä¾‹å’Œæ¼”ç¤º

## ğŸ¤ è²¢ç»

æˆ‘å€‘æ­¡è¿æ‰€æœ‰å½¢å¼çš„è²¢ç»ï¼

### å¦‚ä½•è²¢ç»

1. Fork é€™å€‹å€‰åº«
2. å‰µå»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿä¸€å€‹ Pull Request

### é–‹ç™¼è¨­ç½®

```bash
# å…‹éš†æ‚¨çš„ fork
git clone https://github.com/yourusername/omniparser-mcp-server.git
cd omniparser-mcp-server

# å®‰è£é–‹ç™¼ä¾è³´
pip install -e ".[dev]"

# é‹è¡Œæ¸¬è©¦
pytest tests/ -v

# ä»£ç¢¼æ ¼å¼åŒ–
black src/ tests/
isort src/ tests/
```

## ğŸ› å•é¡Œå ±å‘Š

å¦‚æœæ‚¨ç™¼ç¾äº†bugæˆ–æœ‰åŠŸèƒ½è«‹æ±‚ï¼Œè«‹ï¼š

1. æª¢æŸ¥ [Issues](https://github.com/yourusername/omniparser-mcp-server/issues) ç¢ºèªå•é¡Œå°šæœªè¢«å ±å‘Š
2. å‰µå»ºæ–°çš„ Issue ä¸¦æä¾›è©³ç´°ä¿¡æ¯ï¼š
   - æ“ä½œç³»çµ±å’ŒPythonç‰ˆæœ¬
   - éŒ¯èª¤ä¿¡æ¯å’Œå †æ£§è·Ÿè¸ª
   - é‡ç¾æ­¥é©Ÿ
   - é æœŸè¡Œç‚º

## ğŸ“„ è¨±å¯è­‰

æœ¬é …ç›®æ¡ç”¨ MIT è¨±å¯è­‰ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è©³æƒ…ã€‚

## ğŸ™ è‡´è¬

- [Microsoft OmniParser](https://github.com/microsoft/OmniParser) - æ ¸å¿ƒUIè§£ææ¨¡å‹
- [Model Context Protocol](https://modelcontextprotocol.io/) - MCPå”è­°è¦ç¯„
- æ‰€æœ‰è²¢ç»è€…å’Œç”¨æˆ¶

## â­ Star History

å¦‚æœé€™å€‹é …ç›®å°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ â­ï¼

[![Star History Chart](https://api.star-history.com/svg?repos=yourusername/omniparser-mcp-server&type=Date)](https://star-history.com/#yourusername/omniparser-mcp-server&Date)

#!/usr/bin/env python3
"""
Claude++ æ—¥æœ¬èªUIç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
å…¨ã¦ã®æŠ€è¡“ç”¨èªã‚’æ—¥å¸¸ç”¨èªã«ç¿»è¨³ã—ã€åˆå¿ƒè€…ã«ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æä¾›ã—ã¾ã™ã€‚
"""

import logging
import random
from typing import Dict, List, Optional, Any
from enum import Enum
from datetime import datetime
import re


class MessageType(Enum):
    """ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç¨®é¡"""
    INFO = "info"
    SUCCESS = "success"
    WARNING = "warning"
    ERROR = "error"
    PROGRESS = "progress"
    HELP = "help"


class UIContext(Enum):
    """UIè¡¨ç¤ºã®æ–‡è„ˆ"""
    STARTUP = "èµ·å‹•æ™‚"
    WORK_START = "ä½œæ¥­é–‹å§‹"
    WORK_PROGRESS = "ä½œæ¥­ä¸­"
    WORK_SAVE = "ä¿å­˜"
    WORK_COMPLETE = "å®Œäº†"
    ERROR_RECOVERY = "ã‚¨ãƒ©ãƒ¼å¾©æ—§"
    HELP = "ãƒ˜ãƒ«ãƒ—"


class JapaneseUIManager:
    """æ—¥æœ¬èªUIç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - æŠ€è¡“ç”¨èªã‚’å®Œå…¨ã«éš è”½"""
    
    def __init__(self):
        self.logger = logging.getLogger('claude-plus.japanese_ui')
        
        # åŸºæœ¬ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
        self.base_messages = {
            # ä½œæ¥­é–‹å§‹é–¢é€£
            'work_start_new': [
                "æ–°ã—ã„ä½œæ¥­ã‚’é–‹å§‹ã—ã¾ã—ãŸ âœ¨",
                "ä½œæ¥­ã‚’å§‹ã‚ã¾ã™ ğŸš€",
                "æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã—ãŸ ğŸ“"
            ],
            'work_start_continue': [
                "å‰å›ã®ç¶šãã‹ã‚‰é–‹å§‹ã—ã¾ã™ ğŸ”„",
                "ä¸­æ–­ã—ã¦ã„ãŸä½œæ¥­ã‚’å†é–‹ã—ã¾ã™ â–¶ï¸",
                "å‰ã®ä½œæ¥­ã‚’å¼•ãç¶šãè¡Œã„ã¾ã™ ğŸ“–"
            ],
            'work_folder_ready': [
                "æ–°ã—ã„ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€ã‚’æº–å‚™ã—ã¾ã—ãŸ ğŸ“",
                "å°‚ç”¨ã®ä½œæ¥­ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç”¨æ„ã—ã¾ã—ãŸ ğŸ—ï¸",
                "ä½œæ¥­ç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸ ğŸ› ï¸"
            ],
            
            # ä¿å­˜é–¢é€£
            'auto_save': [
                "ä½œæ¥­å†…å®¹ã‚’è‡ªå‹•ä¿å­˜ã—ã¾ã—ãŸ ğŸ’¾",
                "é€²æ—ã‚’å®‰å…¨ã«ä¿å­˜ã—ã¾ã—ãŸ ğŸ”’",
                "ä½œæ¥­ãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸ ğŸ“¦"
            ],
            'manual_save': [
                "ä½œæ¥­ã‚’æ‰‹å‹•ä¿å­˜ã—ã¾ã—ãŸ âœ…",
                "ç¾åœ¨ã®çŠ¶æ…‹ã‚’è¨˜éŒ²ã—ã¾ã—ãŸ ğŸ“‹",
                "é€²æ—ã‚’ç¢ºå®šã—ã¾ã—ãŸ ğŸ¯"
            ],
            
            # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—é–¢é€£
            'cloud_backup': [
                "ã‚¯ãƒ©ã‚¦ãƒ‰ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸ â˜ï¸",
                "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã—ã¾ã—ãŸ ğŸŒ",
                "ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«åŒæœŸã—ã¾ã—ãŸ ğŸ”„"
            ],
            'local_backup': [
                "ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸ ğŸ’½",
                "ã“ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼å†…ã«ä¿å­˜ã—ã¾ã—ãŸ ğŸ–¥ï¸",
                "ä½œæ¥­ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡è£½ã—ã¾ã—ãŸ ğŸ“‹"
            ],
            
            # å®Œäº†é–¢é€£
            'work_complete': [
                "ä½œæ¥­ãŒå®Œäº†ã—ã¾ã—ãŸ ğŸ‰",
                "ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ä½œæ¥­çµ‚äº†ã§ã™ ğŸ‘",
                "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå®Œæˆã—ã¾ã—ãŸ âœ¨"
            ],
            'session_end': [
                "ä½œæ¥­ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™ ğŸ”š",
                "ä»Šæ—¥ã®ä½œæ¥­ã‚’ç· ã‚ããã‚Šã¾ã™ ğŸŒ…",
                "ä½œæ¥­ã‚’ä¸€æ—¦çµ‚äº†ã—ã¾ã™ â¸ï¸"
            ],
            
            # ã‚¨ãƒ©ãƒ¼ãƒ»å¾©æ—§é–¢é€£
            'auto_recovery': [
                "è‡ªå‹•ã§å•é¡Œã‚’è§£æ±ºã—ã¾ã—ãŸ ğŸ”§",
                "ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ä¿®å¾©ã—ã¾ã—ãŸ âš¡",
                "ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•å¯¾å¿œã—ã¾ã—ãŸ ğŸ›¡ï¸"
            ],
            'safe_recovery': [
                "å®‰å…¨ãªçŠ¶æ…‹ã«æˆ»ã—ã¾ã—ãŸ ğŸ”„",
                "å‰ã®å®‰å®šã—ãŸçŠ¶æ…‹ã«å¾©æ—§ã—ã¾ã—ãŸ ğŸ“š",
                "å•é¡Œç™ºç”Ÿå‰ã®çŠ¶æ³ã«å¾©å…ƒã—ã¾ã—ãŸ âª"
            ],
            'emergency_save': [
                "ç·Šæ€¥ä¿å­˜ã‚’å®Ÿè¡Œã—ã¾ã—ãŸ âš¡",
                "ä½œæ¥­ãƒ‡ãƒ¼ã‚¿ã‚’ç·Šæ€¥é¿é›£ã•ã›ã¾ã—ãŸ ğŸš¨",
                "å¤§åˆ‡ãªä½œæ¥­ã‚’å®ˆã‚Šã¾ã—ãŸ ğŸ›¡ï¸"
            ],
            
            # é€²æ—ãƒ»çŠ¶æ…‹é–¢é€£
            'analyzing': [
                "çŠ¶æ³ã‚’ç¢ºèªä¸­ã§ã™... ğŸ”",
                "ç¾åœ¨ã®ä½œæ¥­ã‚’åˆ†æä¸­... ğŸ“Š",
                "ã‚·ã‚¹ãƒ†ãƒ ãŒçŠ¶æ³ã‚’æŠŠæ¡ä¸­... ğŸ¤”"
            ],
            'preparing': [
                "æº–å‚™ä¸­ã§ã™... âš™ï¸",
                "ç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸­... ğŸ› ï¸",
                "ä½œæ¥­ã®æº–å‚™ã‚’ã—ã¦ã„ã¾ã™... ğŸ“‹"
            ],
            'processing': [
                "å‡¦ç†ä¸­ã§ã™... â³",
                "ä½œæ¥­ã‚’å®Ÿè¡Œä¸­... ğŸ”„",
                "ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ä½œä¸­... âš¡"
            ]
        }
        
        # ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ—¥æœ¬èªåŒ–ï¼ˆClaude Codeç‰¹æœ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’å«ã‚€ï¼‰
        self.error_translations = {
            # Claude Codeç‰¹æœ‰ã‚¨ãƒ©ãƒ¼
            'api key not found': "Claude APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'api quota exceeded': "Claude APIã®ä½¿ç”¨é‡åˆ¶é™ã«é”ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
            'model not available': "æŒ‡å®šã•ã‚ŒãŸAIãƒ¢ãƒ‡ãƒ«ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚åˆ¥ã®ãƒ¢ãƒ‡ãƒ«ã‚’è©¦ã—ã¾ã™ã€‚",
            'input must be provided': "å…¥åŠ›ãŒå¿…è¦ã§ã™ã€‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«å…¥åŠ›ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'context length exceeded': "å…¥åŠ›å†…å®¹ãŒé•·ã™ãã¾ã™ã€‚å†…å®¹ã‚’åˆ†å‰²ã—ã¦å‡¦ç†ã—ã¾ã™ã€‚",
            'rate limit exceeded': "ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã®åˆ¶é™ã«é”ã—ã¾ã—ãŸã€‚å°‘ã—å¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¾ã™ã€‚",
            'invalid request': "ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚å†…å®¹ã‚’ç¢ºèªã—ã¦å†è©¦è¡Œã—ã¾ã™ã€‚",
            'authentication error': "Claude APIã®èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚APIã‚­ãƒ¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            
            # ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚¨ãƒ©ãƒ¼ï¼ˆClaude Codeé–¢é€£ï¼‰
            'file already exists': "ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚ä¸Šæ›¸ãã™ã‚‹ã‹åˆ¥ã®åå‰ã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚",
            'overwrite confirmation': "æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ãã—ã¾ã™ã‹ï¼Ÿè‡ªå‹•ã§ã€ŒYesã€ã‚’é¸æŠã—ã¾ã—ãŸã€‚",
            'directory not found': "æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚æ–°ã—ãä½œæˆã—ã¾ã™ã€‚",
            'read only file': "ãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿å–ã‚Šå°‚ç”¨ã§ã™ã€‚ç·¨é›†æ¨©é™ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'file in use': "ãƒ•ã‚¡ã‚¤ãƒ«ãŒä»–ã®ã‚¢ãƒ—ãƒªã§ä½¿ç”¨ä¸­ã§ã™ã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¾ã™ã€‚",
            'encoding error': "ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚UTF-8ã§ä¿å­˜ã—ã¾ã™ã€‚",
            
            # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£ã‚¨ãƒ©ãƒ¼
            'module not found': "å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚è‡ªå‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è©¦ã¿ã¾ã™ã€‚",
            'dependency error': "ä¾å­˜é–¢ä¿‚ã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚package.jsonã‚„requirements.txtã‚’ç¢ºèªã—ã¾ã™ã€‚",
            'build failed': "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'test failed': "ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¦ä¿®æ­£ã—ã¾ã™ã€‚",
            'linting error': "ã‚³ãƒ¼ãƒ‰ã®å“è³ªãƒã‚§ãƒƒã‚¯ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºè¦‹ã•ã‚Œã¾ã—ãŸã€‚è‡ªå‹•ã§ä¿®æ­£ã‚’è©¦ã¿ã¾ã™ã€‚",
            'syntax error': "ã‚³ãƒ¼ãƒ‰ã®æ–‡æ³•ã«ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚è©²å½“ç®‡æ‰€ã‚’ç¢ºèªã—ã¦ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚",
            
            # tmux/ç”»é¢åˆ†å‰²é–¢é€£ã‚¨ãƒ©ãƒ¼
            'tmux not found': "ç”»é¢åˆ†å‰²ãƒ„ãƒ¼ãƒ«ï¼ˆtmuxï¼‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚å˜ä¸€ç”»é¢ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã—ã¾ã™ã€‚",
            'session already exists': "åŒåã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚æ–°ã—ã„åå‰ã§ä½œæˆã—ã¾ã™ã€‚",
            'pane creation failed': "ç”»é¢åˆ†å‰²ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å˜ä¸€ç”»é¢ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚",
            'terminal too small': "ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒå°ã•ã™ãã¾ã™ã€‚ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’å¤§ããã—ã¦ãã ã•ã„ã€‚",
            'mouse mode error': "ãƒã‚¦ã‚¹æ“ä½œã®è¨­å®šã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚",
            
            # Gité–¢é€£ã‚¨ãƒ©ãƒ¼
            'git not found': "ä½œæ¥­ç®¡ç†ãƒ„ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™ã€‚",
            'not a git repository': "ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ä½œæ¥­ç®¡ç†ã®å¯¾è±¡å¤–ã§ã™ã€‚åˆæœŸè¨­å®šã‚’è¡Œã„ã¾ã™ã€‚",
            'merge conflict': "ãƒ•ã‚¡ã‚¤ãƒ«ã®ç«¶åˆãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚è‡ªå‹•ã§è§£æ±ºã‚’è©¦ã¿ã¾ã™ã€‚",
            'push failed': "ã‚¯ãƒ©ã‚¦ãƒ‰ã¸ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'pull failed': "æœ€æ–°ç‰ˆã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å¾Œã§ã‚‚ã†ä¸€åº¦è©¦ã—ã¾ã™ã€‚",
            'branch exists': "åŒã˜åå‰ã®ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€ãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚åˆ¥ã®åå‰ã§ä½œæˆã—ã¾ã™ã€‚",
            'uncommitted changes': "æœªä¿å­˜ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚å…ˆã«ä¿å­˜ã—ã¦ã‹ã‚‰ç¶šè¡Œã—ã¾ã™ã€‚",
            
            # ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã‚¨ãƒ©ãƒ¼
            'connection timeout': "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¾ã™ã€‚",
            'network error': "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚æ¥ç¶šçŠ¶æ³ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'authentication failed': "èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'ssl error': "ã‚»ã‚­ãƒ¥ã‚¢æ¥ç¶šã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚è¨¼æ˜æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'proxy error': "ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†è€…ã«ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            
            # ãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£ã‚¨ãƒ©ãƒ¼
            'file not found': "ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚å‰Šé™¤ã¾ãŸã¯ç§»å‹•ã•ã‚ŒãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚",
            'permission denied': "ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ç®¡ç†è€…ã«ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'disk full': "ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚",
            'path too long': "ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãŒé•·ã™ãã¾ã™ã€‚ã‚ˆã‚ŠçŸ­ã„ãƒ‘ã‚¹ã«ç§»å‹•ã—ã¦ãã ã•ã„ã€‚",
            
            # ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ã‚¨ãƒ©ãƒ¼
            'command not found': "ã‚³ãƒãƒ³ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚å¿…è¦ãªãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            'out of memory': "ãƒ¡ãƒ¢ãƒªãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚ä»–ã®ã‚¢ãƒ—ãƒªã‚’çµ‚äº†ã—ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
            'timeout': "å‡¦ç†æ™‚é–“ãŒé•·ã™ãã¾ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚",
            'unexpected error': "äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ä½œæ¥­ã‚’å®‰å…¨ã«ä¿å­˜ã—ã¾ã™ã€‚",
            'process killed': "ãƒ—ãƒ­ã‚»ã‚¹ãŒå¼·åˆ¶çµ‚äº†ã•ã‚Œã¾ã—ãŸã€‚è‡ªå‹•ã§å†èµ·å‹•ã‚’è©¦ã¿ã¾ã™ã€‚",
            'signal received': "ã‚·ã‚¹ãƒ†ãƒ ã‚·ã‚°ãƒŠãƒ«ã‚’å—ä¿¡ã—ã¾ã—ãŸã€‚å®‰å…¨ã«çµ‚äº†å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚"
        }
        
        # ã‚¨ãƒ©ãƒ¼è§£æ±ºæ–¹æ³•ã®è©³ç´°æç¤º
        self.error_solutions = {
            # Claude Codeç‰¹æœ‰ã‚¨ãƒ©ãƒ¼ã®è§£æ±ºæ–¹æ³•
            'api key not found': {
                'steps': [
                    "1. ~/.claude/config.yaml ã‚’ç¢ºèªã—ã¦ãã ã•ã„",
                    "2. APIã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª",
                    "3. ç’°å¢ƒå¤‰æ•° ANTHROPIC_API_KEY ã‚’è¨­å®š",
                    "4. claude --configure ã§APIã‚­ãƒ¼ã‚’å†è¨­å®š"
                ],
                'auto_fix': True,
                'priority': 'high'
            },
            'api quota exceeded': {
                'steps': [
                    "1. ã—ã°ã‚‰ãæ™‚é–“ã‚’ç½®ã„ã¦ã‹ã‚‰å†è©¦è¡Œ",
                    "2. Anthropicã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ—ãƒ©ãƒ³ç¢ºèª",
                    "3. ä½¿ç”¨é‡åˆ¶é™ã®ç¢ºèªãƒ»ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ¤œè¨"
                ],
                'auto_fix': False,
                'priority': 'medium'
            },
            'input must be provided': {
                'steps': [
                    "1. å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æŒ‡å®š",
                    "2. ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ã‚’ç¢ºèª",
                    "3. ãƒ‘ã‚¤ãƒ—å…¥åŠ›ã®å ´åˆã¯é©åˆ‡ãªå½¢å¼ã‚’ç¢ºèª"
                ],
                'auto_fix': True,
                'priority': 'high'
            },
            
            # ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚¨ãƒ©ãƒ¼ã®è§£æ±ºæ–¹æ³•
            'file already exists': {
                'steps': [
                    "1. è‡ªå‹•ã§ä¸Šæ›¸ãç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€ŒYesã€ã§å¿œç­”",
                    "2. åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«åã§ã®ä¿å­˜ã‚‚å¯èƒ½",
                    "3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã—ã¦ã‹ã‚‰ä¸Šæ›¸ã"
                ],
                'auto_fix': True,
                'priority': 'low'
            },
            'permission denied': {
                'steps': [
                    "1. sudoæ¨©é™ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚’è©¦è¡Œ",
                    "2. ãƒ•ã‚¡ã‚¤ãƒ«æ‰€æœ‰è€…ãƒ»æ¨©é™ã®ç¢ºèª",
                    "3. chmod ã‚³ãƒãƒ³ãƒ‰ã§æ¨©é™å¤‰æ›´",
                    "4. ç®¡ç†è€…ã«æ¨©é™å¤‰æ›´ã‚’ä¾é ¼"
                ],
                'auto_fix': False,
                'priority': 'medium'
            },
            
            # tmuxé–¢é€£ã‚¨ãƒ©ãƒ¼ã®è§£æ±ºæ–¹æ³•
            'tmux not found': {
                'steps': [
                    "1. å˜ä¸€ç”»é¢ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œç¶™ç¶š",
                    "2. tmuxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: brew install tmux (macOS)",
                    "3. tmuxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: apt install tmux (Ubuntu)",
                    "4. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã§å…¨æ©Ÿèƒ½åˆ©ç”¨å¯èƒ½"
                ],
                'auto_fix': True,
                'priority': 'low'
            },
            'session already exists': {
                'steps': [
                    "1. ä¸€æ„ãªã‚»ãƒƒã‚·ãƒ§ãƒ³åã§è‡ªå‹•å†ä½œæˆ",
                    "2. æ—¢å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç¢ºèª: tmux list-sessions",
                    "3. ä¸è¦ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤: tmux kill-session"
                ],
                'auto_fix': True,
                'priority': 'low'
            },
            
            # Gité–¢é€£ã‚¨ãƒ©ãƒ¼ã®è§£æ±ºæ–¹æ³•
            'merge conflict': {
                'steps': [
                    "1. è‡ªå‹•ãƒãƒ¼ã‚¸ã®è©¦è¡Œ",
                    "2. æ‰‹å‹•ã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºãŒå¿…è¦ãªå ´åˆã¯é€šçŸ¥",
                    "3. git status ã§çŠ¶æ³ç¢ºèª",
                    "4. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†å¾Œ git add"
                ],
                'auto_fix': True,
                'priority': 'medium'
            },
            'not a git repository': {
                'steps': [
                    "1. è‡ªå‹•ã§ git init ã‚’å®Ÿè¡Œ",
                    "2. åˆæœŸè¨­å®šã®è‡ªå‹•å®Ÿè¡Œ",
                    "3. é€æ˜Gitæ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–"
                ],
                'auto_fix': True,
                'priority': 'high'
            }
        }
        
        # æŠ€è¡“ç”¨èªã®ç¿»è¨³è¾æ›¸
        self.tech_translations = {
            # Gitç”¨èª
            'git': 'ä½œæ¥­ç®¡ç†',
            'repository': 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
            'repo': 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
            'branch': 'ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€',
            'commit': 'ä¿å­˜',
            'push': 'ã‚¯ãƒ©ã‚¦ãƒ‰ä¿å­˜',
            'pull': 'æœ€æ–°ç‰ˆå–å¾—',
            'merge': 'çµ±åˆ',
            'clone': 'è¤‡è£½',
            'fork': 'åˆ†å²',
            'pull request': 'çµ±åˆææ¡ˆ',
            'issue': 'èª²é¡Œ',
            'tag': 'ç‰ˆç•ªå·',
            'release': 'ãƒªãƒªãƒ¼ã‚¹',
            
            # ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨èª
            'code': 'ãƒ—ãƒ­ã‚°ãƒ©ãƒ ',
            'script': 'ã‚¹ã‚¯ãƒªãƒ—ãƒˆ',
            'function': 'æ©Ÿèƒ½',
            'class': 'ã‚¯ãƒ©ã‚¹',
            'variable': 'å¤‰æ•°',
            'debug': 'å•é¡Œè§£æ±º',
            'test': 'ãƒ†ã‚¹ãƒˆ',
            'build': 'æ§‹ç¯‰',
            'deploy': 'å…¬é–‹',
            'config': 'è¨­å®š',
            'api': 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹',
            
            # ã‚·ã‚¹ãƒ†ãƒ ç”¨èª
            'daemon': 'ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†',
            'process': 'å‡¦ç†',
            'thread': 'ä¸¦è¡Œå‡¦ç†',
            'server': 'ã‚µãƒ¼ãƒãƒ¼',
            'client': 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ',
            'database': 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹',
            'cache': 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥',
            'log': 'ãƒ­ã‚°',
            'error': 'ã‚¨ãƒ©ãƒ¼',
            'warning': 'è­¦å‘Š'
        }
        
        # ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        self.help_messages = {
            'getting_started': """
ğŸŒŸ Claude++ã‚·ã‚¹ãƒ†ãƒ ã¸ã‚ˆã†ã“ãï¼

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã‚ãªãŸã®ä½œæ¥­ã‚’è‡ªå‹•ã§å®‰å…¨ã«ç®¡ç†ã—ã¾ã™ã€‚
ç‰¹åˆ¥ãªæ“ä½œã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ - ãŸã `claude`ã¨å…¥åŠ›ã™ã‚‹ã ã‘ã§ã™ã€‚

âœ¨ è‡ªå‹•ã§è¡Œã‚ã‚Œã‚‹ã“ã¨:
â€¢ æ–°ã—ã„ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
â€¢ 30åˆ†ã”ã¨ã®è‡ªå‹•ä¿å­˜
â€¢ ä½œæ¥­å®Œäº†æ™‚ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
â€¢ ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•å¾©æ—§

ğŸ›¡ï¸ ã‚ãªãŸã®ä½œæ¥­ã¯å¸¸ã«å®‰å…¨ã«ä¿è­·ã•ã‚Œã¦ã„ã¾ã™ã€‚
""",
            
            'work_flow': """
ğŸ“‹ ä½œæ¥­ã®æµã‚Œ:

1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ `claude` ã¨å…¥åŠ›
2. ä½œæ¥­å†…å®¹ã‚’ClaudeCodeã§èª¬æ˜
3. è‡ªå‹•ã§é©åˆ‡ãªä½œæ¥­ç’°å¢ƒãŒæº–å‚™ã•ã‚Œã¾ã™
4. æ™®é€šã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä½œæ¥­ã‚’è¡Œã†
5. å®šæœŸçš„ã«è‡ªå‹•ä¿å­˜ã•ã‚Œã¾ã™
6. ä½œæ¥­å®Œäº†æ™‚ã«è‡ªå‹•ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã•ã‚Œã¾ã™

ğŸ¯ ã‚ãªãŸã¯ä½œæ¥­å†…å®¹ã ã‘ã«é›†ä¸­ã—ã¦ãã ã•ã„ï¼
""",
            
            'troubleshooting': """
ğŸ”§ ã‚ˆãã‚ã‚‹è³ªå•:

Q: ä½œæ¥­ãŒæ¶ˆãˆã¦ã—ã¾ã†å¿ƒé…ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ
A: 30åˆ†ã”ã¨ã®è‡ªå‹•ä¿å­˜ã¨ç·Šæ€¥æ™‚ã®è‡ªå‹•ä¿è­·ãŒã‚ã‚‹ã®ã§å®‰å¿ƒã§ã™ã€‚

Q: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒåˆ‡ã‚ŒãŸã‚‰ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ
A: ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã‚Œã€æ¥ç¶šå¾©æ—§æ™‚ã«è‡ªå‹•ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚

Q: é–“é•ã£ã¦ä½•ã‹ã‚’å‰Šé™¤ã—ã¦ã—ã¾ã£ãŸã‚‰ï¼Ÿ
A: è‡ªå‹•ã§å‰ã®å®‰å…¨ãªçŠ¶æ…‹ã«æˆ»ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

ğŸ†˜ å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•ã§å¯¾å‡¦ã—ã¾ã™ã€‚
"""
        }
        
    def get_message(self, message_key: str, context: UIContext = None, **kwargs) -> str:
        """ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ï¼ˆãƒ©ãƒ³ãƒ€ãƒ é¸æŠã§è‡ªç„¶æ€§ã‚’å‘ä¸Šï¼‰"""
        try:
            if message_key in self.base_messages:
                messages = self.base_messages[message_key]
                selected = random.choice(messages)
                
                # å‹•çš„ãªå€¤ã®æŒ¿å…¥
                if kwargs:
                    try:
                        selected = selected.format(**kwargs)
                    except KeyError:
                        pass  # ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤±æ•—æ™‚ã¯ãã®ã¾ã¾è¿”ã™
                        
                return selected
            else:
                # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
                return f"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: {message_key}"
                
        except Exception as e:
            self.logger.error(f"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—ã‚¨ãƒ©ãƒ¼: {e}")
            return "ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ"
            
    def translate_error(self, error_message: str) -> str:
        """ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†ã‹ã‚Šã‚„ã™ã„æ—¥æœ¬èªã«ç¿»è¨³"""
        error_lower = error_message.lower()
        
        # æ—¢å®šã®ç¿»è¨³ã‹ã‚‰æ¤œç´¢
        for tech_term, japanese in self.error_translations.items():
            if tech_term in error_lower:
                return f"ğŸ’¡ {japanese}"
                
        # æŠ€è¡“ç”¨èªã®ç½®ãæ›ãˆ
        translated = error_message
        for tech_term, japanese in self.tech_translations.items():
            pattern = re.compile(re.escape(tech_term), re.IGNORECASE)
            translated = pattern.sub(japanese, translated)
            
        return f"âš ï¸ {translated}"
        
    def translate_tech_term(self, text: str) -> str:
        """æŠ€è¡“ç”¨èªã‚’æ—¥å¸¸ç”¨èªã«ç¿»è¨³"""
        translated = text
        
        for tech_term, japanese in self.tech_translations.items():
            pattern = re.compile(re.escape(tech_term), re.IGNORECASE)
            translated = pattern.sub(japanese, translated)
            
        return translated
        
    def format_progress_message(self, current: int, total: int, action: str) -> str:
        """é€²æ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
        percentage = int((current / total) * 100) if total > 0 else 0
        
        # é€²æ—ãƒãƒ¼ã®ç”Ÿæˆ
        bar_length = 20
        filled = int(bar_length * current / total) if total > 0 else 0
        bar = "â–ˆ" * filled + "â–‘" * (bar_length - filled)
        
        return f"{action} [{bar}] {percentage}% ({current}/{total})"
        
    def format_time_message(self, start_time: datetime, action: str = "ä½œæ¥­") -> str:
        """æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
        now = datetime.now()
        elapsed = now - start_time
        
        if elapsed.total_seconds() < 60:
            return f"{action}ã‚’é–‹å§‹ã—ã¾ã—ãŸ"
        elif elapsed.total_seconds() < 3600:
            minutes = int(elapsed.total_seconds() / 60)
            return f"{action}ä¸­ã§ã™ï¼ˆ{minutes}åˆ†çµŒéï¼‰"
        else:
            hours = int(elapsed.total_seconds() / 3600)
            minutes = int((elapsed.total_seconds() % 3600) / 60)
            return f"{action}ä¸­ã§ã™ï¼ˆ{hours}æ™‚é–“{minutes}åˆ†çµŒéï¼‰"
            
    def get_encouraging_message(self) -> str:
        """åŠ±ã¾ã—ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—"""
        encouraging_messages = [
            "é †èª¿ã«é€²ã‚“ã§ã„ã¾ã™ï¼ ğŸ’ª",
            "ç´ æ™´ã‚‰ã—ã„ä½œæ¥­ã¶ã‚Šã§ã™ï¼ â­",
            "ã“ã®ã¾ã¾ç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ï¼ ğŸš€",
            "ã„ã„æ„Ÿã˜ã§ã™ï¼ ğŸ‘",
            "ä½œæ¥­ãŒé€²ã‚“ã§ã„ã¾ã™ã­ï¼ ğŸ“ˆ",
            "ãŒã‚“ã°ã£ã¦ã„ã¾ã™ã­ï¼ ğŸŒŸ",
            "ç€å®Ÿã«é€²æ­©ã—ã¦ã„ã¾ã™ï¼ ğŸ“Š",
            "ã“ã®ãƒšãƒ¼ã‚¹ã§è¡Œãã¾ã—ã‚‡ã†ï¼ âš¡"
        ]
        return random.choice(encouraging_messages)
        
    def get_completion_message(self, work_type: str = "ä½œæ¥­") -> str:
        """å®Œäº†æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—"""
        completion_messages = [
            f"{work_type}ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ ğŸ‰",
            f"ç´ æ™´ã‚‰ã—ã„{work_type}ã§ã—ãŸï¼ â­",
            f"{work_type}å®Œäº†ã§ã™ï¼ã‚ˆãã§ãã¾ã—ãŸï¼ ğŸ‘",
            f"ãŠè¦‹äº‹ã§ã™ï¼{work_type}ãŒå®Œæˆã—ã¾ã—ãŸï¼ âœ¨",
            f"{work_type}çµ‚äº†ï¼ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ ğŸ†"
        ]
        return random.choice(completion_messages)
        
    def get_help_message(self, topic: str = 'getting_started') -> str:
        """ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—"""
        return self.help_messages.get(topic, "ãƒ˜ãƒ«ãƒ—æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
        
    def format_notification_title(self, message_type: MessageType, context: UIContext) -> str:
        """é€šçŸ¥ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
        type_names = {
            MessageType.INFO: "æƒ…å ±",
            MessageType.SUCCESS: "å®Œäº†",
            MessageType.WARNING: "æ³¨æ„",
            MessageType.ERROR: "ã‚¨ãƒ©ãƒ¼",
            MessageType.PROGRESS: "é€²è¡Œä¸­",
            MessageType.HELP: "ãƒ˜ãƒ«ãƒ—"
        }
        
        context_names = {
            UIContext.STARTUP: "èµ·å‹•",
            UIContext.WORK_START: "ä½œæ¥­é–‹å§‹",
            UIContext.WORK_PROGRESS: "ä½œæ¥­ä¸­",
            UIContext.WORK_SAVE: "ä¿å­˜",
            UIContext.WORK_COMPLETE: "å®Œäº†",
            UIContext.ERROR_RECOVERY: "å¾©æ—§",
            UIContext.HELP: "ãƒ˜ãƒ«ãƒ—"
        }
        
        type_name = type_names.get(message_type, "ã‚·ã‚¹ãƒ†ãƒ ")
        context_name = context_names.get(context, "")
        
        if context_name:
            return f"Claude++ {context_name}"
        else:
            return f"Claude++ {type_name}"
            
    def create_user_friendly_summary(self, technical_summary: str) -> str:
        """æŠ€è¡“çš„ãªè¦ç´„ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã«å¤‰æ›"""
        # æŠ€è¡“ç”¨èªã®ç½®ãæ›ãˆ
        friendly = self.translate_tech_term(technical_summary)
        
        # æ–‡ç« ã®èª¿æ•´
        friendly = re.sub(r'successfully?', 'æ­£å¸¸ã«', friendly, flags=re.IGNORECASE)
        friendly = re.sub(r'failed?', 'å¤±æ•—ã—ã¾ã—ãŸ', friendly, flags=re.IGNORECASE)
        friendly = re.sub(r'error', 'ã‚¨ãƒ©ãƒ¼', friendly, flags=re.IGNORECASE)
        friendly = re.sub(r'warning', 'è­¦å‘Š', friendly, flags=re.IGNORECASE)
        
        return friendly


# ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
_ui_manager = JapaneseUIManager()

def get_ui_manager() -> JapaneseUIManager:
    """UIãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—"""
    return _ui_manager


# ä¾¿åˆ©ãªé–¢æ•°
def translate_to_japanese(text: str) -> str:
    """ãƒ†ã‚­ã‚¹ãƒˆã‚’æ—¥æœ¬èªã«ç¿»è¨³"""
    return _ui_manager.translate_tech_term(text)

def get_friendly_error(error: str) -> str:
    """ã‚¨ãƒ©ãƒ¼ã‚’åˆ†ã‹ã‚Šã‚„ã™ãç¿»è¨³"""
    return _ui_manager.translate_error(error)

def get_work_message(message_type: str, **kwargs) -> str:
    """ä½œæ¥­é–¢é€£ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—"""
    return _ui_manager.get_message(message_type, **kwargs)


# ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒ¼ãƒ‰
if __name__ == "__main__":
    ui = JapaneseUIManager()
    
    print("æ—¥æœ¬èªUIç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆ:")
    print("-" * 40)
    
    # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
    print("ä½œæ¥­é–‹å§‹:", ui.get_message('work_start_new'))
    print("è‡ªå‹•ä¿å­˜:", ui.get_message('auto_save'))
    print("ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—:", ui.get_message('cloud_backup'))
    print("å®Œäº†:", ui.get_message('work_complete'))
    print()
    
    # ã‚¨ãƒ©ãƒ¼ç¿»è¨³ãƒ†ã‚¹ãƒˆ
    print("ã‚¨ãƒ©ãƒ¼ç¿»è¨³ãƒ†ã‚¹ãƒˆ:")
    print("Git error â†’", ui.translate_error("git not found"))
    print("Network error â†’", ui.translate_error("connection timeout"))
    print("File error â†’", ui.translate_error("permission denied"))
    print()
    
    # æŠ€è¡“ç”¨èªç¿»è¨³ãƒ†ã‚¹ãƒˆ
    print("æŠ€è¡“ç”¨èªç¿»è¨³ãƒ†ã‚¹ãƒˆ:")
    print("Original: Create a new branch for this feature")
    print("Translated:", ui.translate_tech_term("Create a new branch for this feature"))
    print()
    
    # ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
    print("ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:")
    print(ui.get_help_message('getting_started'))
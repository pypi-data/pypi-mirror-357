"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5662,9951,8414,9104],{30597:(e,t,a)=>{a.d(t,{K:()=>s});async function s(e){let t=new File([e],"recording.webm",{type:"audio/webm"}),a=new FormData;a.append("audio",t);let s=await fetch("/api/transcribe",{method:"POST",body:a});if(!s.ok)throw Error((await s.json()).error||"Failed to transcribe audio");return(await s.json()).text}},35662:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(57437),l=a(2265),n=a(76817),r=a(37440),i=a(30597),o=a(79951),c=a(59721),d=a(25734),u=a(87007),m=a(95855);let f=c.fC;c.ZA;let p=c.B4,h=l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(c.xz,{ref:t,className:(0,r.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[placeholder]:text-muted-foreground [&>span]:line-clamp-1",a),...n,children:[l,(0,s.jsx)(c.JO,{asChild:!0,children:(0,s.jsx)(d.Z,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=c.xz.displayName;let x=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.u_,{ref:t,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(u.Z,{className:"h-4 w-4"})})});x.displayName=c.u_.displayName;let g=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.$G,{ref:t,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})});g.displayName=c.$G.displayName;let j=l.forwardRef((e,t)=>{let{className:a,children:l,position:n="popper",...i}=e;return(0,s.jsx)(c.h_,{children:(0,s.jsxs)(c.VY,{ref:t,className:(0,r.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,s.jsx)(x,{}),(0,s.jsx)(c.l_,{className:(0,r.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,s.jsx)(g,{})]})})});j.displayName=c.VY.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.__,{ref:t,className:(0,r.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=c.__.displayName;let w=l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(c.ck,{ref:t,className:(0,r.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(c.wU,{children:(0,s.jsx)(m.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(c.eT,{children:l})]})});w.displayName=c.ck.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(c.Z0,{ref:t,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=c.Z0.displayName;let N=[{id:"llama-3.3-70b-versatile",name:"Llama 3.3 70B"},{id:"deepseek-r1-distill-llama-70b",name:"Deepseek R1 70B"}];function b(e){let[t,a]=(0,l.useState)(N[0].id),{messages:c,input:d,handleInputChange:u,handleSubmit:m,append:x,stop:g,isLoading:b,setMessages:y}=(0,n.RJ)({...e,api:"/api/chat",body:{model:t}});return(0,s.jsxs)("div",{className:(0,r.cn)("flex","flex-col","h-full m-10","w-full"),children:[(0,s.jsx)("div",{className:(0,r.cn)("flex","justify-end","mb-2"),children:(0,s.jsxs)(f,{value:t,onValueChange:a,children:[(0,s.jsx)(h,{className:"w-[180px]",children:(0,s.jsx)(p,{placeholder:"Select Model"})}),(0,s.jsx)(j,{children:N.map(e=>(0,s.jsx)(w,{value:e.id,children:e.name},e.id))})]})}),(0,s.jsx)(o.Chat,{className:"grow",messages:c,handleSubmit:m,input:d,handleInputChange:u,isGenerating:b,stop:g,append:x,setMessages:y,transcribeAudio:i.K,suggestions:["What is the weather in San Francisco?","Explain step-by-step how to solve this math problem: If x\xb2 + 6x + 9 = 25, what is x?","Design a simple algorithm to find the longest palindrome in a string."]})]})}},98414:(e,t,a)=>{a.r(t),a.d(t,{useAutoScroll:()=>l});var s=a(2265);function l(e){let t=(0,s.useRef)(null),a=(0,s.useRef)(null),[l,n]=(0,s.useState)(!0),r=()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)};return(0,s.useEffect)(()=>{t.current&&(a.current=t.current.scrollTop)},[]),(0,s.useEffect)(()=>{l&&r()},e),{containerRef:t,scrollToBottom:r,handleScroll:()=>{if(t.current){let{scrollTop:e,scrollHeight:s,clientHeight:l}=t.current,r=!!a.current&&e<a.current,i=a.current?a.current-e:0;r&&i>10?n(!1):n(50>Math.abs(s-e-l)),a.current=e}},shouldAutoScroll:l,handleTouchStart:()=>{n(!1)}}}},79951:(e,t,a)=>{a.r(t),a.d(t,{Chat:()=>h,ChatContainer:()=>g,ChatForm:()=>j,ChatMessages:()=>x});var s=a(57437),l=a(2265),n=a(28556),r=a(36871),i=a(16343),o=a(37440),c=a(98414),d=a(82321),u=a(49232),m=a(34929),f=a(84343),p=a(89104);function h(e){let{messages:t,handleSubmit:a,input:i,handleInputChange:o,stop:c,isGenerating:h,append:w,suggestions:N,className:b,onRateResponse:y,setMessages:v,transcribeAudio:C,onArtifactClick:k}=e,S=t.at(-1),_=0===t.length,R=(null==S?void 0:S.role)==="user",I=(0,l.useRef)(t);I.current=t;let T=(0,l.useCallback)(()=>{if(null==c||c(),!v)return;let e=[...I.current],t=e.findLast(e=>"assistant"===e.role);if(!t)return;let a=!1,s={...t};if(t.toolInvocations){let e=t.toolInvocations.map(e=>"call"===e.state?(a=!0,{...e,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}):e);a&&(s={...s,toolInvocations:e})}if(t.parts&&t.parts.length>0){let e=t.parts.map(e=>"tool-invocation"===e.type&&e.toolInvocation&&"call"===e.toolInvocation.state?(a=!0,{...e,toolInvocation:{...e.toolInvocation,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}}):e);a&&(s={...s,parts:e})}if(a){let a=e.findIndex(e=>e.id===t.id);-1!==a&&(e[a]=s,v(e))}},[c,v,I]),Z=(0,l.useCallback)(e=>({actions:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-r pr-1",children:(0,s.jsx)(u.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),(0,s.jsx)(d.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(e.id,"thumbs-up"),children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})}),(0,s.jsx)(d.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(e.id,"thumbs-down"),children:(0,s.jsx)(r.Z,{className:"h-4 w-4"})})]}):(0,s.jsx)(u.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),[y]);return(0,s.jsxs)(g,{className:b,children:[t.length>0?(0,s.jsx)(x,{messages:t,children:(0,s.jsx)(f.MessageList,{messages:t,isTyping:R,messageOptions:Z,onArtifactClick:k})}):null,(0,s.jsx)(j,{className:"mt-auto",isPending:h||R,handleSubmit:a,children:e=>{let{files:t,setFiles:a}=e;return(0,s.jsx)(m.MessageInput,{value:i,onChange:o,allowAttachments:!0,files:t,setFiles:a,stop:T,isGenerating:h,transcribeAudio:C})}}),_&&w&&N?(0,s.jsx)(p.PromptSuggestions,{label:"Example queries ...",append:w,suggestions:N}):null]})}function x(e){let{messages:t,children:a}=e,{containerRef:l,scrollToBottom:n,handleScroll:r,shouldAutoScroll:o,handleTouchStart:u}=(0,c.useAutoScroll)([t]);return(0,s.jsxs)("div",{className:"grid grid-cols-1 overflow-y-auto pb-4",ref:l,onScroll:r,onTouchStart:u,children:[(0,s.jsx)("div",{className:"max-w-full [grid-column:1/1] [grid-row:1/1]",children:a}),!o&&(0,s.jsx)("div",{className:"pointer-events-none flex flex-1 items-end justify-end [grid-column:1/1] [grid-row:1/1]",children:(0,s.jsx)("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:(0,s.jsx)(d.z,{onClick:n,className:"pointer-events-auto h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})})})]})}h.displayName="Chat";let g=(0,l.forwardRef)((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("grid max-h-full w-full grid-rows-[1fr_auto]",a),...l})});g.displayName="ChatContainer";let j=(0,l.forwardRef)((e,t)=>{let{children:a,handleSubmit:n,isPending:r,className:i}=e,[o,c]=(0,l.useState)(null);return(0,s.jsx)("form",{ref:t,onSubmit:e=>{if(!o){n(e);return}n(e,{experimental_attachments:function(e){let t=new DataTransfer;for(let a of Array.from(e))t.items.add(a);return t.files}(o)}),c(null)},className:i,children:a({files:o,setFiles:c})})});j.displayName="ChatForm"},84343:(e,t,a)=>{a.r(t),a.d(t,{MessageList:()=>r});var s=a(57437),l=a(48250),n=a(43303);function r(e){let{messages:t,showTimeStamps:a=!0,isTyping:r=!1,messageOptions:i,onArtifactClick:o}=e;return(0,s.jsxs)("div",{className:"space-y-4 overflow-visible",children:[t.map((e,t)=>{let n="function"==typeof i?i(e):i;return(0,s.jsx)(l.ChatMessage,{showTimeStamp:a,...e,...n,onArtifactClick:o},t)}),r&&(0,s.jsx)(n.TypingIndicator,{})]})}},89104:(e,t,a)=>{a.r(t),a.d(t,{PromptSuggestions:()=>l});var s=a(57437);function l(e){let{label:t,append:a,suggestions:l}=e;return(0,s.jsxs)("div",{className:"space-y-6 pt-20",children:[(0,s.jsx)("h2",{className:"text-center text-2xl font-bold",children:t}),(0,s.jsx)("div",{className:"flex gap-6 text-sm",children:l.map(e=>(0,s.jsx)("button",{onClick:()=>a({role:"user",content:e}),className:"h-max flex-1 rounded-xl border bg-background p-4 hover:bg-muted",children:(0,s.jsx)("p",{children:e})},e))})]})}},43303:(e,t,a)=>{a.r(t),a.d(t,{TypingIndicator:()=>n});var s=a(57437),l=a(47774);function n(){return(0,s.jsx)("div",{className:"justify-left flex space-x-1",children:(0,s.jsx)("div",{className:"rounded-lg bg-muted p-3",children:(0,s.jsxs)("div",{className:"flex -space-x-2.5",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce"}),(0,s.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),(0,s.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}}}]);
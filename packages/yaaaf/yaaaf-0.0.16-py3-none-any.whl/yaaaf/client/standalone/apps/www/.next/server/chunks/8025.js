"use strict";exports.id=8025,exports.ids=[8025,2740,2626],exports.modules={62740:(e,t,s)=>{s.r(t),s.d(t,{useAutoScroll:()=>a});var n=s(17577);function a(e){let t=(0,n.useRef)(null),s=(0,n.useRef)(null),[a,l]=(0,n.useState)(!0);return{containerRef:t,scrollToBottom:()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},handleScroll:()=>{if(t.current){let{scrollTop:e,scrollHeight:n,clientHeight:a}=t.current,r=!!s.current&&e<s.current,o=s.current?s.current-e:0;r&&o>10?l(!1):l(50>Math.abs(n-e-a)),s.current=e}},shouldAutoScroll:a,handleTouchStart:()=>{l(!1)}}}},78025:(e,t,s)=>{s.r(t),s.d(t,{Chat:()=>f,ChatContainer:()=>g,ChatForm:()=>j,ChatMessages:()=>p});var n=s(10326),a=s(17577),l=s(24274),r=s(38610),o=s(52112),i=s(77863),c=s(62740),d=s(11613),u=s(16699),m=s(41142),h=s(1015),x=s(12626);function f({messages:e,handleSubmit:t,input:s,handleInputChange:o,stop:i,isGenerating:c,append:f,suggestions:v,className:N,onRateResponse:b,setMessages:w,transcribeAudio:y,onArtifactClick:C}){let S=e.at(-1),I=0===e.length,T=S?.role==="user",k=(0,a.useRef)(e);k.current=e;let M=(0,a.useCallback)(()=>{if(i?.(),!w)return;let e=[...k.current],t=e.findLast(e=>"assistant"===e.role);if(!t)return;let s=!1,n={...t};if(t.toolInvocations){let e=t.toolInvocations.map(e=>"call"===e.state?(s=!0,{...e,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}):e);s&&(n={...n,toolInvocations:e})}if(t.parts&&t.parts.length>0){let e=t.parts.map(e=>"tool-invocation"===e.type&&e.toolInvocation&&"call"===e.toolInvocation.state?(s=!0,{...e,toolInvocation:{...e.toolInvocation,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}}):e);s&&(n={...n,parts:e})}if(s){let s=e.findIndex(e=>e.id===t.id);-1!==s&&(e[s]=n,w(e))}},[i,w,k]),A=(0,a.useCallback)(e=>({actions:b?(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{className:"border-r pr-1",children:n.jsx(u.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),n.jsx(d.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>b(e.id,"thumbs-up"),children:n.jsx(l.Z,{className:"h-4 w-4"})}),n.jsx(d.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>b(e.id,"thumbs-down"),children:n.jsx(r.Z,{className:"h-4 w-4"})})]}):n.jsx(u.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),[b]);return(0,n.jsxs)(g,{className:N,children:[e.length>0?n.jsx(p,{messages:e,children:n.jsx(h.MessageList,{messages:e,isTyping:T,messageOptions:A,onArtifactClick:C})}):null,n.jsx(j,{className:"mt-auto",isPending:c||T,handleSubmit:t,children:({files:e,setFiles:t})=>n.jsx(m.MessageInput,{value:s,onChange:o,allowAttachments:!0,files:e,setFiles:t,stop:M,isGenerating:c,transcribeAudio:y})}),I&&f&&v?n.jsx(x.PromptSuggestions,{label:"Example queries ...",append:f,suggestions:v}):null]})}function p({messages:e,children:t}){let{containerRef:s,scrollToBottom:a,handleScroll:l,shouldAutoScroll:r,handleTouchStart:i}=(0,c.useAutoScroll)([e]);return(0,n.jsxs)("div",{className:"grid grid-cols-1 overflow-y-auto pb-4",ref:s,onScroll:l,onTouchStart:i,children:[n.jsx("div",{className:"max-w-full [grid-column:1/1] [grid-row:1/1]",children:t}),!r&&n.jsx("div",{className:"pointer-events-none flex flex-1 items-end justify-end [grid-column:1/1] [grid-row:1/1]",children:n.jsx("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:n.jsx(d.z,{onClick:a,className:"pointer-events-auto h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:n.jsx(o.Z,{className:"h-4 w-4"})})})})]})}f.displayName="Chat";let g=(0,a.forwardRef)(({className:e,...t},s)=>n.jsx("div",{ref:s,className:(0,i.cn)("grid max-h-full w-full grid-rows-[1fr_auto]",e),...t}));g.displayName="ChatContainer";let j=(0,a.forwardRef)(({children:e,handleSubmit:t,isPending:s,className:l},r)=>{let[o,i]=(0,a.useState)(null);return n.jsx("form",{ref:r,onSubmit:e=>{if(!o){t(e);return}t(e,{experimental_attachments:function(e){let t=new DataTransfer;for(let s of Array.from(e))t.items.add(s);return t.files}(o)}),i(null)},className:l,children:e({files:o,setFiles:i})})});j.displayName="ChatForm"},1015:(e,t,s)=>{s.r(t),s.d(t,{MessageList:()=>r});var n=s(10326),a=s(41057),l=s(79821);function r({messages:e,showTimeStamps:t=!0,isTyping:s=!1,messageOptions:r,onArtifactClick:o}){return(0,n.jsxs)("div",{className:"space-y-4 overflow-visible",children:[e.map((e,s)=>{let l="function"==typeof r?r(e):r;return n.jsx(a.ChatMessage,{showTimeStamp:t,...e,...l,onArtifactClick:o},s)}),s&&n.jsx(l.TypingIndicator,{})]})}},12626:(e,t,s)=>{s.r(t),s.d(t,{PromptSuggestions:()=>a});var n=s(10326);function a({label:e,append:t,suggestions:s}){return(0,n.jsxs)("div",{className:"space-y-6 pt-20",children:[n.jsx("h2",{className:"text-center text-2xl font-bold",children:e}),n.jsx("div",{className:"flex gap-6 text-sm",children:s.map(e=>n.jsx("button",{onClick:()=>t({role:"user",content:e}),className:"h-max flex-1 rounded-xl border bg-background p-4 hover:bg-muted",children:n.jsx("p",{children:e})},e))})]})}},79821:(e,t,s)=>{s.r(t),s.d(t,{TypingIndicator:()=>l});var n=s(10326),a=s(3446);function l(){return n.jsx("div",{className:"justify-left flex space-x-1",children:n.jsx("div",{className:"rounded-lg bg-muted p-3",children:(0,n.jsxs)("div",{className:"flex -space-x-2.5",children:[n.jsx(a.Z,{className:"h-5 w-5 animate-typing-dot-bounce"}),n.jsx(a.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),n.jsx(a.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}}};
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9951,8414,5225,9104],{98414:(e,t,s)=>{s.r(t),s.d(t,{useAutoScroll:()=>l});var r=s(2265);function l(e){let t=(0,r.useRef)(null),s=(0,r.useRef)(null),[l,n]=(0,r.useState)(!0),a=()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)};return(0,r.useEffect)(()=>{t.current&&(s.current=t.current.scrollTop)},[]),(0,r.useEffect)(()=>{l&&a()},e),{containerRef:t,scrollToBottom:a,handleScroll:()=>{if(t.current){let{scrollTop:e,scrollHeight:r,clientHeight:l}=t.current,a=!!s.current&&e<s.current,i=s.current?s.current-e:0;a&&i>10?n(!1):n(50>Math.abs(r-e-l)),s.current=e}},shouldAutoScroll:l,handleTouchStart:()=>{n(!1)}}}},45225:(e,t,s)=>{s.r(t),s.d(t,{useAutosizeTextArea:()=>l});var r=s(2265);function l(e){let{ref:t,maxHeight:s=Number.MAX_SAFE_INTEGER,borderWidth:l=0,dependencies:n}=e,a=(0,r.useRef)(null);(0,r.useLayoutEffect)(()=>{if(!t.current)return;let e=t.current,r=2*l;null===a.current&&(a.current=e.scrollHeight-r),e.style.removeProperty("height");let n=Math.max(Math.min(e.scrollHeight,s),a.current);e.style.height="".concat(n+r,"px")},[s,t,...n])}},79951:(e,t,s)=>{s.r(t),s.d(t,{Chat:()=>h,ChatContainer:()=>g,ChatForm:()=>b,ChatMessages:()=>x});var r=s(57437),l=s(2265),n=s(28556),a=s(36871),i=s(16343),o=s(37440),c=s(98414),u=s(82321),d=s(49232),m=s(34929),f=s(84343),p=s(89104);function h(e){let{messages:t,handleSubmit:s,input:i,handleInputChange:o,stop:c,isGenerating:h,append:v,suggestions:j,className:N,onRateResponse:y,setMessages:w,onArtifactClick:C}=e,k=t.at(-1),S=0===t.length,I=(null==k?void 0:k.role)==="user",z=(0,l.useRef)(t);z.current=t;let T=(0,l.useCallback)(()=>{if(null==c||c(),!w)return;let e=[...z.current],t=e.findLast(e=>"assistant"===e.role);if(!t)return;let s=!1,r={...t};if(t.toolInvocations){let e=t.toolInvocations.map(e=>"call"===e.state?(s=!0,{...e,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}):e);s&&(r={...r,toolInvocations:e})}if(t.parts&&t.parts.length>0){let e=t.parts.map(e=>"tool-invocation"===e.type&&e.toolInvocation&&"call"===e.toolInvocation.state?(s=!0,{...e,toolInvocation:{...e.toolInvocation,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}}):e);s&&(r={...r,parts:e})}if(s){let s=e.findIndex(e=>e.id===t.id);-1!==s&&(e[s]=r,w(e))}},[c,w,z]),E=(0,l.useCallback)(e=>({actions:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-r pr-1",children:(0,r.jsx)(d.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),(0,r.jsx)(u.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(e.id,"thumbs-up"),children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})}),(0,r.jsx)(u.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(e.id,"thumbs-down"),children:(0,r.jsx)(a.Z,{className:"h-4 w-4"})})]}):(0,r.jsx)(d.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),[y]);return(0,r.jsxs)(g,{className:N,children:[t.length>0?(0,r.jsx)(x,{messages:t,children:(0,r.jsx)(f.MessageList,{messages:t,isTyping:I,messageOptions:E,onArtifactClick:C})}):null,(0,r.jsx)(b,{className:"mt-auto",isPending:h||I,handleSubmit:s,children:(0,r.jsx)(m.MessageInput,{value:i,onChange:o,stop:T,isGenerating:h})}),S&&v&&j?(0,r.jsx)(p.PromptSuggestions,{label:"Example queries ...",append:v,suggestions:j}):null]})}function x(e){let{messages:t,children:s}=e,{containerRef:l,scrollToBottom:n,handleScroll:a,shouldAutoScroll:o,handleTouchStart:d}=(0,c.useAutoScroll)([t]);return(0,r.jsxs)("div",{className:"grid grid-cols-1 overflow-y-auto pb-4",ref:l,onScroll:a,onTouchStart:d,children:[(0,r.jsx)("div",{className:"max-w-full [grid-column:1/1] [grid-row:1/1]",children:s}),!o&&(0,r.jsx)("div",{className:"pointer-events-none flex flex-1 items-end justify-end [grid-column:1/1] [grid-row:1/1]",children:(0,r.jsx)("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:(0,r.jsx)(u.z,{onClick:n,className:"pointer-events-auto h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})})})]})}h.displayName="Chat";let g=(0,l.forwardRef)((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("grid max-h-full w-full grid-rows-[1fr_auto]",s),...l})});g.displayName="ChatContainer";let b=(0,l.forwardRef)((e,t)=>{let{children:s,handleSubmit:l,isPending:n,className:a}=e;return(0,r.jsx)("form",{ref:t,onSubmit:l,className:a,children:s})});b.displayName="ChatForm"},56089:(e,t,s)=>{s.r(t),s.d(t,{InterruptPrompt:()=>i});var r=s(57437),l=s(45811),n=s(71636),a=s(55188);function i(e){let{isOpen:t,close:s}=e;return(0,r.jsx)(l.M,{children:t&&(0,r.jsxs)(n.E.div,{initial:{top:0,filter:"blur(5px)"},animate:{top:-40,filter:"blur(0px)",transition:{type:"spring",filter:{type:"tween"}}},exit:{top:0,filter:"blur(5px)"},className:"absolute left-1/2 flex -translate-x-1/2 overflow-hidden whitespace-nowrap rounded-full border bg-background py-1 text-center text-sm text-muted-foreground",children:[(0,r.jsx)("span",{className:"ml-2.5",children:"Press Enter again to interrupt"}),(0,r.jsx)("button",{className:"ml-1 mr-2.5 flex items-center",type:"button",onClick:s,"aria-label":"Close",children:(0,r.jsx)(a.Z,{className:"h-3 w-3"})})]})})}},34929:(e,t,s)=>{s.r(t),s.d(t,{MessageInput:()=>d});var r=s(57437),l=s(2265),n=s(8423),a=s(44639),i=s(37440),o=s(45225),c=s(82321),u=s(56089);function d(e){let{placeholder:t="Ask AI...",className:s,onKeyDown:d,submitOnEnter:m=!0,stop:f,isGenerating:p,enableInterrupt:h=!0,...x}=e,[g,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{p||b(!1)},[p]);let v=(0,l.useRef)(null),[j,N]=(0,l.useState)(0);return(0,l.useEffect)(()=>{v.current&&N(v.current.offsetHeight)},[x.value]),(0,o.useAutosizeTextArea)({ref:v,maxHeight:240,borderWidth:1,dependencies:[x.value]}),(0,r.jsxs)("div",{className:"relative flex w-full",children:[h&&(0,r.jsx)(u.InterruptPrompt,{isOpen:g,close:()=>b(!1)}),(0,r.jsx)("div",{className:"relative flex w-full items-center space-x-2",children:(0,r.jsx)("div",{className:"relative flex-1",children:(0,r.jsx)("textarea",{"aria-label":"Write your prompt here",placeholder:t,ref:v,onKeyDown:e=>{if(m&&"Enter"===e.key&&!e.shiftKey){var t,s;if(e.preventDefault(),p&&f&&h){if(g)f(),b(!1),null===(s=e.currentTarget.form)||void 0===s||s.requestSubmit();else if(x.value){b(!0);return}}null===(t=e.currentTarget.form)||void 0===t||t.requestSubmit()}null==d||d(e)},className:(0,i.cn)("z-10 w-full grow resize-none rounded-xl border border-input bg-background p-3 pr-24 text-sm ring-offset-background transition-[border] placeholder:text-muted-foreground focus-visible:border-primary focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",s),...x})})}),(0,r.jsx)("div",{className:"absolute right-3 top-3 z-20 flex gap-2",children:p&&f?(0,r.jsx)(c.z,{type:"button",size:"icon",className:"h-8 w-8","aria-label":"Stop generating",onClick:f,children:(0,r.jsx)(n.Z,{className:"h-3 w-3 animate-pulse",fill:"currentColor"})}):(0,r.jsx)(c.z,{type:"submit",size:"icon",className:"h-8 w-8 transition-opacity","aria-label":"Send message",disabled:""===x.value||p,children:(0,r.jsx)(a.Z,{className:"h-5 w-5"})})})]})}d.displayName="MessageInput"},84343:(e,t,s)=>{s.r(t),s.d(t,{MessageList:()=>a});var r=s(57437),l=s(48250),n=s(43303);function a(e){let{messages:t,showTimeStamps:s=!0,isTyping:a=!1,messageOptions:i,onArtifactClick:o}=e;return(0,r.jsxs)("div",{className:"space-y-4 overflow-visible",children:[t.map((e,t)=>{let n="function"==typeof i?i(e):i;return(0,r.jsx)(l.ChatMessage,{showTimeStamp:s,...e,...n,onArtifactClick:o},t)}),a&&(0,r.jsx)(n.TypingIndicator,{})]})}},89104:(e,t,s)=>{s.r(t),s.d(t,{PromptSuggestions:()=>l});var r=s(57437);function l(e){let{label:t,append:s,suggestions:l}=e;return(0,r.jsxs)("div",{className:"space-y-6 pt-20",children:[(0,r.jsx)("h2",{className:"text-center text-2xl font-bold",children:t}),(0,r.jsx)("div",{className:"flex gap-6 text-sm",children:l.map(e=>(0,r.jsx)("button",{onClick:()=>s({role:"user",content:e}),className:"h-max flex-1 rounded-xl border bg-background p-4 hover:bg-muted",children:(0,r.jsx)("p",{children:e})},e))})]})}},43303:(e,t,s)=>{s.r(t),s.d(t,{TypingIndicator:()=>n});var r=s(57437),l=s(47774);function n(){return(0,r.jsx)("div",{className:"justify-left flex space-x-1",children:(0,r.jsx)("div",{className:"rounded-lg bg-muted p-3",children:(0,r.jsxs)("div",{className:"flex -space-x-2.5",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce"}),(0,r.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),(0,r.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}}}]);
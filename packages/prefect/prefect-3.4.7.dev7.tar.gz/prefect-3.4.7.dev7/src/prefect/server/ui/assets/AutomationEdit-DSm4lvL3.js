import{d as y,V as A,u as b,W as g,K as w,g as h,i as k,c as v,o as C,j as a,k as u,n as e,y as V,H as B,I as r,B as E,L as d,M as I}from"./index-ByzK8DOT.js";import{_ as j}from"./AutomationWizard.vue_vue_type_script_setup_true_lang-C1WzK102.js";import{u as N}from"./usePageTitle-5OD846qk.js";import{u as P}from"./usePrefectApi-Duw5WO5i.js";import"./mapper-BsBiajCl.js";import"./api-BT00-_9H.js";const H=y({__name:"AutomationEdit",async setup(T){let o,m;const i=P(),c=A(),l=b(),p=g("automationId"),s=([o,m]=w(()=>i.automations.getAutomation(p.value)),o=await o,m(),o);N(`Edit Automation: ${s.name}`);const f=h(()=>[{text:"Automations",to:c.automations()},{text:s.name}]);async function x(_){try{await i.automations.updateAutomation(p.value,_),d(r.success.automationUpdate),l.push(c.automations())}catch(t){console.error(t);const n=I(t,r.error.automationUpdate);d(n,"error",{timeout:!1})}}return(_,t)=>{const n=k("p-layout-default");return C(),v(n,{class:"workspace-automation-create"},{header:a(()=>[u(e(V),{crumbs:f.value},{actions:a(()=>[u(e(B),{to:e(r).docs.automations},{default:a(()=>t[0]||(t[0]=[E(" Documentation ")])),_:1,__:[0]},8,["to"])]),_:1},8,["crumbs"])]),default:a(()=>[u(j,{automation:e(s),editing:"",onSubmit:x},null,8,["automation"])]),_:1})}}});export{H as default};
//# sourceMappingURL=AutomationEdit-DSm4lvL3.js.map

Metadata-Version: 2.3
Name: wuying-agentbay-sdk
Version: 0.3.2
Summary: Python SDK for interacting with the Wuying AgentBay cloud runtime environment
Requires-Python: >=3.10
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Dist: alibabacloud-tea-openapi (==0.4.0rc3)
Requires-Dist: alibabacloud-tea-util (>=0.3.13,<0.4.0)
Requires-Dist: cryptography (>=45.0.2,<46.0.0)
Requires-Dist: darabonba-core (>=1.0.0,<2.0.0)
Requires-Dist: httpx (>=0.28.1,<0.29.0)
Description-Content-Type: text/markdown

# Python SDK for Wuying AgentBay

This directory contains the Python implementation of the Wuying AgentBay SDK.

## Prerequisites

- Python 3.12 or later
- Poetry (for development)

## Installation

### For Development

Clone the repository and install dependencies using Poetry:

```bash
git clone https://github.com/aliyun/wuying-agentbay-sdk.git
cd wuying-agentbay-sdk/python
poetry install
```

### For Usage in Your Project

```bash
pip install wuying-agentbay-sdk
```

## Running Examples

You can run the example file:

```bash
# Using Poetry
poetry run python examples/basic_usage.py

# Or directly with Python if installed in your environment
python examples/basic_usage.py
```

## Python-Specific Usage

```python
from wuying_agentbay import AgentBay
from wuying_agentbay.exceptions import AgentBayError
from wuying_agentbay.session_params import CreateSessionParams

def main():
    # Initialize with API key
    api_key = "your_api_key"  # Or use os.environ.get("AGENTBAY_API_KEY")

    try:
        agent_bay = AgentBay(api_key=api_key)

        # Create a session with labels
        params = CreateSessionParams()
        params.labels = {
            "purpose": "demo",
            "environment": "development"
        }
        session = agent_bay.create(params)
        print(f"Session created with ID: {session.session_id}")

        # Execute a command
        result = session.command.execute_command("ls -la")
        print(f"Command result: {result}")

        # Read a file
        content = session.filesystem.read_file("/path/to/file.txt")
        print(f"File content: {content}")

        # Run code
        python_code = """
import os
import platform

print(f"Current working directory: {os.getcwd()}")
print(f"Python version: {platform.python_version()}")
"""
        code_result = session.command.run_code(python_code, "python")
        print(f"Code execution result: {code_result}")

        # Get installed applications
        apps = session.application.get_installed_apps(include_system_apps=True,
                                                     include_store_apps=False,
                                                     include_desktop_apps=True)
        print(f"Found {len(apps)} installed applications")

        # List visible applications
        processes = session.application.list_visible_apps()
        print(f"Found {len(processes)} visible applications")

        # List root windows
        windows = session.window.list_root_windows()
        print(f"Found {len(windows)} root windows")

        # Get active window
        active_window = session.window.get_active_window()
        print(f"Active window: {active_window.title}")

        # Get session labels
        labels = session.get_labels()
        print(f"Session labels: {labels}")

        # List sessions by labels
        filtered_sessions = agent_bay.list_by_labels({
            "purpose": "demo"
        })
        print(f"Found {len(filtered_sessions)} matching sessions")

        # Clean up
        agent_bay.delete(session)
        print("Session deleted successfully")

    except AgentBayError as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    main()
```

## Development

### Building the SDK

```bash
poetry build
```

### Running Tests

```bash
poetry run pytest
```

For more detailed documentation, please refer to the main [README](../README.md) and [SDK Documentation](../docs/README.md) in the project root.

# Changelog

## [0.3.0] - 2024-06-16
### Added

- **Port Forwarding Interface**: Added support for port forwarding between local and remote environments
- **Enhanced Image ID Support**: Added support for specifying custom image IDs when creating sessions
- **CodeSpace SDK Integration**: Added compatibility with CodeSpace environments
- **FileSystem Enhancements**:
  - Added large file operations with automatic chunking
  - Improved file read/write performance
  - Added support for reading multiple files in a single operation
- **Mobile Tools API Support**: Added support for mobile-specific tool APIs
- **Process Management**: Added APIs for process management and monitoring
- **Window Task Management**: Added support for window task management
- **OSS Integration**: Added Object Storage Service (OSS) functionality for cloud storage operations
- **Command Execution Improvements**: Migrated to new MCP tool interface for command execution

### Changed

- Updated API client to support the latest AgentBay backend features
- Improved error handling and reporting across all SDK components
- Enhanced documentation with examples for new features

### Fixed

- Various bug fixes and performance improvements
- Type compatibility issues in filesystem operations
- Session management edge cases

## [0.1.0] - 2024-05-15

Initial public release of the Wuying AgentBay SDK with support for:

- Session management
- Basic file operations
- Command execution
- Application management
- Window operations
- Label management
- Context persistence


var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};System.register(["./p-4c65a848.system.js"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.r;n=e.h;i=e.g}],execute:function(){var r;(function(e){e["Translate"]="translate";e["Http"]="http";e["Route"]="route";e["Notification"]="notifications";e["Query"]="query";e["CommandBus"]="commandBus";e["Dialog"]="dialog";e["EventDispatcher"]="eventDispatcher";e["LimetypesState"]="state.limetypes";e["LimeobjectsState"]="state.limeobjects";e["ApplicationState"]="state.application";e["ConfigsState"]="state.configs";e["FiltersState"]="state.filters";e["DeviceState"]="state.device";e["TaskState"]="state.tasks"})(r||(r={}));var o;(function(e){e["AND"]="AND";e["OR"]="OR";e["EQUALS"]="=";e["NOT"]="!";e["GREATER"]=">";e["LESS"]="<";e["IN"]="IN";e["BEGINS"]="=?";e["LIKE"]="?";e["LESS_OR_EQUAL"]="<=";e["GREATER_OR_EQUAL"]=">="})(o||(o={}));var s;(function(e){e["Received"]="command.received";e["Handled"]="command.handled";e["Failed"]="command.failed"})(s||(s={}));var a;(function(e){e["Pending"]="PENDING";e["Started"]="STARTED";e["Retry"]="RETRY";e["Success"]="SUCCESS";e["Failure"]="FAILURE"})(a||(a={}));function c(e){var t={name:r.ConfigsState};return v(e,t)}function l(e){if(e===void 0){e={}}var t={name:r.LimeobjectsState};e.map=__spreadArrays([u],e.map||[]);return v(e,t)}function u(e){var t=this.context,n=t.limetype,i=t.id;if(!e[n]){return undefined}return e[n].find((function(e){return e.id===i}))}function f(e){if(e===void 0){e={}}var t={name:r.ApplicationState};e.map=__spreadArrays([p],e.map||[]);return v(e,t)}function p(e){return e.session}function v(e,t){return function(n,i){var r=h(n,i,e,t);if(r.properties.length===1){m(n,r.properties)}}}var d=[];function h(e,t,n,i){var r=d.find((function(t){return t.component===e}));if(!r){r={properties:[],component:e};d.push(r)}r.properties.push({options:n,name:t,service:{name:i.name,method:i.method||"subscribe"}});return r}function m(e,t){var n=e.componentWillLoad;var i=e.componentDidUnload;var r=[];e.componentWillLoad=function(){var e=this;var i=[];for(var o=0;o<arguments.length;o++){i[o]=arguments[o]}t.forEach((function(t){g.apply(e,[r,t])}));if(n){return n.apply(this,i)}};e.componentDidUnload=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(i){i.apply(this,e)}b.apply(this,[r])}}function g(e,t){var n=this;var i=e.find((function(e){return e.instance===n}));if(!i){i={instance:this,unsubscribes:[]};e.push(i)}var r=_.apply(this,[t.options,t.name,t.service.name,t.service.method]);i.unsubscribes.push(r)}function b(e){var t=this;if(e===void 0){e=[]}var n=e.find((function(e){return e.instance===t}));n.unsubscribes.forEach((function(e){return e()}));for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.instance!==this){continue}e.splice(i,1)}}function y(e,t){return function(n){e[t]=n}}function _(e,t,n,i){var r=Object.assign({},e);D(r,this);var o=this.platform;if(!o.has(n)){throw new Error("Service "+n+" does not exist")}var s=o.get(n);return s[i](y(this,t),r)}function D(e,t){if(e.filter){e.filter=e.filter.map((function(e){return e.bind(t)}))}if(e.map){e.map=e.map.map((function(e){return e.bind(t)}))}}var S=undefined&&undefined.__decorate||function(e,t,n,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,s;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)if(s=e[a])o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o;return r>3&&o&&Object.defineProperty(t,n,o),o};var E=e("lwc_limepkg_scrive",function(){function e(e){var n=this;t(this,e);this.document={};this.session={};this.config={};this.testing=true;this.testing3="test";this.includePerson=true;this.includeCoworker=true;this.cloneDocument=true;this.isOpen=false;this.allowedExtensions=Object.freeze(["PDF","DOC","DOCX"]);this.setCloneDocument=function(e){e.stopPropagation();n.cloneDocument=e.detail};this.openDialog=function(){n.isOpen=true};this.closeDialog=function(){n.isOpen=false}}e.prototype.goToScrive=function(e,t){var n=this.config.limepkg_scrive.scriveHost;var i=this.session.language;window.open(n+"/public/?limeDocId="+e+"&lang="+i+"&usePerson="+this.includePerson+"&useCoworker="+this.includeCoworker+"&cloneDocument="+this.cloneDocument+"&scriveDocId="+t)};e.prototype.files=function(){var e;var t=((e=this.document)===null||e===void 0?void 0:e._files)||{};var n=Object.keys(t);return n.map((function(e){return t[e]}))};e.prototype.isSignable=function(e){return this.allowedExtensions.includes((e.extension||"").toUpperCase())};e.prototype.render=function(){var e=this;console.log("---------",this);if(this.context.limetype!=="document"){return}var t=this.files().filter(this.isSignable,this);var i=t.length===0;var o=t.length>1;if(i||o){return}var s=this.platform.get(r.Translate);var a=s.get("limepkg_scrive.primary_action");var c=s.get("limepkg_scrive.clone_document");var l=s.get("limepkg_scrive.clone_hint");var u=s.get("limepkg_scrive.clone_info");var f=s.get("limepkg_scrive.ok");return n("section",null,n("limel-button",{id:"scrive_esign_button",label:a,outlined:true,icon:"signature",onClick:function(){var t;return e.goToScrive(e.context.id,(t=e.document)===null||t===void 0?void 0:t.scrive_document_id)}}),n("hr",null),n("p",null,n("h1",null,"hello world")),n("hr",null),n("p",null,n("limel-flex-container",{justify:"start"},n("limel-checkbox",{label:c,checked:this.cloneDocument,onChange:this.setCloneDocument}),n("limel-icon-button",{icon:"question_mark",label:l,onClick:this.openDialog}))),n("limel-dialog",{open:this.isOpen,onClose:this.closeDialog},n("p",null,u),n("limel-button",{label:f,onClick:this.closeDialog,slot:"button"})))};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".container{margin-left:1.25rem;margin-right:1.25rem}#scrive_esign_button{isolation:isolate;position:relative}#scrive_esign_button:after{content:\"\";display:block;width:1.5rem;height:1.5rem;position:absolute;z-index:1;top:0;left:.25rem;bottom:0;margin:auto;background-image:url(\"data:image/svg+xml; utf8, <svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 128.9 116.04\'><defs><style>.cls-1{fill:none;}.cls-2{fill:%2327282d;}</style></defs><g id=\'Layer_2\' data-name=\'Layer 2\'><g id=\'S_Mark_Dark\' data-name=\'S Mark Dark\'><g id=\'S_Black\' data-name=\'S Black\'><rect class=\'cls-1\' width=\'128.9\' height=\'116.04\'/><path class=\'cls-2\' d=\'M65.51,65.48a29.87,29.87,0,0,1,7.76,2,7.3,7.3,0,0,1,3.62,3,8.64,8.64,0,0,1,1,4.35A10.34,10.34,0,0,1,76,80.71a12.35,12.35,0,0,1-4.64,3.53c-4.65,2.1-11.05,2.69-16.06,2.73A40.35,40.35,0,0,1,44,85.53,20.24,20.24,0,0,1,36.8,82,13.63,13.63,0,0,1,33,77.1,13.1,13.1,0,0,1,31.86,72H17.67A28.57,28.57,0,0,0,20.6,83a22,22,0,0,0,6.22,7.55,31.48,31.48,0,0,0,8.63,4.6,48.07,48.07,0,0,0,9.91,2.31,75.66,75.66,0,0,0,10.35.63c10.94,0,25-2.14,32.12-11.44A22.22,22.22,0,0,0,92.07,73.2a18,18,0,0,0-1.61-7.8A19.6,19.6,0,0,0,86,59.48a22.44,22.44,0,0,0-6.43-4,29.84,29.84,0,0,0-7.69-2.1C63.47,52.2,44.59,50.46,39.22,48A7.21,7.21,0,0,1,35.56,45a7.69,7.69,0,0,1-1-4.3,8.74,8.74,0,0,1,1.72-5.52,12.69,12.69,0,0,1,4.6-3.53,26.67,26.67,0,0,1,6.37-1.85,43.93,43.93,0,0,1,6.88-.55,34.38,34.38,0,0,1,12.25,2,17.4,17.4,0,0,1,7.35,5,11.88,11.88,0,0,1,2.67,7H90.64A27.58,27.58,0,0,0,87.9,33.17a24.4,24.4,0,0,0-6.73-8,31.92,31.92,0,0,0-11-5.19,60.15,60.15,0,0,0-15.84-1.92A52.27,52.27,0,0,0,36.22,21a25.4,25.4,0,0,0-11.67,8.24,20.92,20.92,0,0,0-4.17,13A18.17,18.17,0,0,0,26.49,56,22.45,22.45,0,0,0,32.92,60a29.63,29.63,0,0,0,7.61,2.06C48.91,63.23,57.21,64.37,65.51,65.48Z\'/><path class=\'cls-2\' d=\'M111.23,89.19a8.84,8.84,0,1,1-8.84-8.88A8.87,8.87,0,0,1,111.23,89.19Z\'/></g></g></g></svg>\");background-color:var(--lime-elevated-surface-background-color);background-size:contain;background-repeat:no-repeat;background-position:50%}"},enumerable:true,configurable:true});return e}());S([l()],E.prototype,"document",void 0);S([f()],E.prototype,"session",void 0);S([c({})],E.prototype,"config",void 0)}}}));
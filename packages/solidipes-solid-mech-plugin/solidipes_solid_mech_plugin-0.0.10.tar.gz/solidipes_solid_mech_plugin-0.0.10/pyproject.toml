[project]
name = "solidipes-solid-mech-plugin"
dynamic = ["version"]
description = "Plugin for Solidipes with solid mechanics components"
authors = [
	{ name = "Son Pham-Ba", email = "son.phamba@epfl.ch" },
	{ name = "Guillaume Anciaux", email = "guillaume.anciaux@epfl.ch" },
]
license = {text = "GPL-3.0-or-later"}
readme = "README.md"
requires-python = ">=3.10,<3.13"

dependencies = [
	"solidipes-core-plugin>=0.0.5",
	"ipython~=8.18.1",
	"mergedeep~=1.3.4",
	"meshio[all]~=5.3.5",
	"streamlit~=1.45.0",
	"trame~=3.5.2",
	"streamlit-pyvista==0.0.20rc0",
	"h5py~=3.13.0",
]

[project.optional-dependencies]
dev = [
	"pillow~=10.4.0",
	"pixelmatch~=0.3.0",
	"pre-commit~=4.1.0",
	"pytest~=8.3.4",
	"pytest-cov~=5.0.0",
	"seleniumbase==4.33.12",
	"urllib3<2",
]

test = [
	"pillow~=10.4.0",
	"pixelmatch~=0.3.0",
	"pytest~=8.3.4",
	"pytest-cov~=5.0.0",
	"seleniumbase==4.33.12",
	"urllib3<2",
]

[project.entry-points."solidipes.plugins"]
solid-mech = "solidipes_solid_mech_plugin"

[build-system]
requires = ["setuptools>=76.0.0", "setuptools_scm[toml]>=8.2.0"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
packages = ["solidipes_solid_mech_plugin"]

[tool.setuptools_scm]

[tool.pytest.ini_options]
addopts = "--cov=solidipes_solid_mech_plugin --cov-report term-missing --cov-report xml --cov-report lcov:lcov.info"
testpaths = [
    "tests",
]

[tool.black]
line-length = 120
preview = true

[tool.isort]
line_length = 120
profile = "black"

[tool.codespell]
skip = 'uv.lock,CHANGELOG.md'

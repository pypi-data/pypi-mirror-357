
## TODO List

### Phase 1: 核心重构 🔥
- [x] **重构 RedisCore → RedisToolkit**
  - [x] 支持外部 Redis 实例传入
  - [x] 保留原有配置创建方式
  - [x] 添加 `client` 和 `sub_client` 属性访问原生客户端
  
- [x] **创建 RedisOptions 类** (options.py)
  - [x] 从原代码分离出来
  - [x] 添加更多配置选项（重试次数、超时等）
  
- [x] **异常处理系统** (exceptions.py)
  - [x] 自定义异常类
  - [x] 统一错误处理机制

### Phase 2: 功能增强 ⚡
- [x] **连接管理**
  - [x] 健康检查方法 `health_check()`
  - [x] 重试机制装饰器
  - [x] 连接池支持
  
- [x] **线程安全改进**
  - [x] 安全的订阅者停止方法
  - [x] 线程生命周期管理
  - [x] 上下文管理器支持 (`__enter__`, `__exit__`)

- [x] **批量操作**
  - [x] `batch_set()` 批量设置
  - [x] `batch_get()` 批量获取
  - [x] Pipeline 支持

### Phase 3: 数据处理优化 📊
- [ ] **序列化系统重构** (utils/serializers.py)
  - [ ] 分离数据序列化逻辑
  - [ ] 支持自定义序列化器
  - [ ] 音视频 buffer 特殊处理
  
- [ ] **数据类型支持**
  - [ ] numpy array 支持
  - [ ] PIL Image 支持
  - [ ] 自定义对象序列化

### Phase 4: 发布订阅增强 📡
- [ ] **消息路由系统**
  - [ ] 消息过滤器
  - [ ] 条件订阅
  - [ ] 消息优先级
  
- [ ] **错误恢复**
  - [ ] 订阅断线重连
  - [ ] 消息丢失处理
  - [ ] 死信队列

### Phase 5: 打包发布 📦
- [ ] **包配置**
  - [ ] setup.py 配置
  - [ ] pyproject.toml 配置
  - [ ] requirements.txt
  
- [ ] **文档编写**
  - [ ] README.md
  - [ ] API 文档
  - [ ] 使用示例
  - [ ] 迁移指南

### Phase 6: 测试覆盖 🧪
- [ ] **单元测试**
  - [ ] 核心功能测试
  - [ ] 序列化测试
  - [ ] 发布订阅测试
  
- [ ] **集成测试**
  - [ ] 音频流测试
  - [ ] 多线程测试
  - [ ] 性能测试

### Phase 7: 高级功能 🚀
- [ ] **监控支持**
  - [ ] 性能指标收集
  - [ ] 连接状态监控
  - [ ] 日志级别控制
  
- [ ] **扩展接口**
  - [ ] 插件系统
  - [ ] 中间件支持
  - [ ] 事件钩子
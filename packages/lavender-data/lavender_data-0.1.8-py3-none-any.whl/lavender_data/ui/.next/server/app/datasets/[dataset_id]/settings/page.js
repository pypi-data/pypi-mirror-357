(()=>{var e={};e.id=329,e.ids=[329],e.modules={334:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>l});var t=s(20863),a=s(38832),n=s(39682),i=s.n(n),d=s(11461),c={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);s.d(r,c);let l={children:["",{children:["datasets",{children:["[dataset_id]",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87557)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37374)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,28950)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,94677)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,74595)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,14127)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,58206,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,63447,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,94716,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/settings/page",pathname:"/datasets/[dataset_id]/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22393:(e,r,s)=>{"use strict";s.d(r,{DeleteDatasetDialog:()=>t});let t=(0,s(26259).registerClientReference)(function(){throw Error("Attempted to call DeleteDatasetDialog() from the server but DeleteDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/delete-dataset-dialog.tsx","DeleteDatasetDialog")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36285:(e,r,s)=>{Promise.resolve().then(s.bind(s,26219)),Promise.resolve().then(s.bind(s,22393)),Promise.resolve().then(s.bind(s,72336)),Promise.resolve().then(s.bind(s,44155))},40334:(e,r)=>{"use strict";function s(e){for(let r=0;r<e.length;r++){let s=e[r];if("function"!=typeof s)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof s}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(r,"D",{enumerable:!0,get:function(){return s}})},44809:(e,r,s)=>{"use strict";s.d(r,{PreprocessDatasetDialog:()=>B});var t=s(40871),a=s(65138),n=s(22384),i=s(15376),d=s(24983),c=s(21895),l=s(13804),o=s(33094),u=s(26123),p=s(10839),h=s(68491),x=s(17141),m=s(8041),f=s(28975),v=s(36931);let g=(0,v.createServerReference)("7f3e229e64fb29737787879fbf882b5c02753f43c3",v.callServer,void 0,v.findSourceMapURL,"preprocessDataset");var b=s(14343),j=s(47231),y=s(27642),N=s(19654),w=s(63354),_=s(84055),k=s(2104),C="Checkbox",[P,D]=(0,j.A)(C),[S,A]=P(C);function E(e){let{__scopeCheckbox:r,checked:s,children:n,defaultChecked:i,disabled:d,form:c,name:l,onCheckedChange:o,required:u,value:p="on",internal_do_not_use_render:h}=e,[x,m]=(0,N.i)({prop:s,defaultProp:i??!1,onChange:o,caller:C}),[f,v]=a.useState(null),[g,b]=a.useState(null),j=a.useRef(!1),y=!f||!!c||!!f.closest("form"),w={checked:x,disabled:d,setChecked:m,control:f,setControl:v,name:l,form:c,value:p,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:!$(i)&&i,isFormControl:y,bubbleInput:g,setBubbleInput:b};return(0,t.jsx)(S,{scope:r,...w,children:"function"==typeof h?h(w):n})}var R="CheckboxTrigger",O=a.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...n},i)=>{let{control:d,value:c,disabled:l,checked:o,required:u,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:x,isFormControl:m,bubbleInput:f}=A(R,e),v=(0,b.s)(i,p),g=a.useRef(o);return a.useEffect(()=>{let e=d?.form;if(e){let r=()=>h(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[d,h]),(0,t.jsx)(k.sG.button,{type:"button",role:"checkbox","aria-checked":$(o)?"mixed":o,"aria-required":u,"data-state":F(o),"data-disabled":l?"":void 0,disabled:l,value:c,...n,ref:v,onKeyDown:(0,y.m)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,y.m)(s,e=>{h(e=>!!$(e)||!e),f&&m&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});O.displayName=R;var U=a.forwardRef((e,r)=>{let{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:d,disabled:c,value:l,onCheckedChange:o,form:u,...p}=e;return(0,t.jsx)(E,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:c,required:d,onCheckedChange:o,name:a,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O,{...p,ref:r,__scopeCheckbox:s}),e&&(0,t.jsx)(M,{__scopeCheckbox:s})]})})});U.displayName=C;var q="CheckboxIndicator",G=a.forwardRef((e,r)=>{let{__scopeCheckbox:s,forceMount:a,...n}=e,i=A(q,s);return(0,t.jsx)(_.C,{present:a||$(i.checked)||!0===i.checked,children:(0,t.jsx)(k.sG.span,{"data-state":F(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});G.displayName=q;var z="CheckboxBubbleInput",M=a.forwardRef(({__scopeCheckbox:e,...r},s)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:d,defaultChecked:c,required:l,disabled:o,name:u,value:p,form:h,bubbleInput:x,setBubbleInput:m}=A(z,e),f=(0,b.s)(s,m),v=function(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}(d),g=(0,w.X)(n);a.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,r=!i.current;if(v!==d&&e){let s=new Event("click",{bubbles:r});x.indeterminate=$(d),e.call(x,!$(d)&&d),x.dispatchEvent(s)}},[x,v,d,i]);let j=a.useRef(!$(d)&&d);return(0,t.jsx)(k.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??j.current,required:l,disabled:o,name:u,value:p,form:h,...r,tabIndex:-1,ref:f,style:{...r.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function $(e){return"indeterminate"===e}function F(e){return $(e)?"indeterminate":e?"checked":"unchecked"}M.displayName=z;var L=s(20574),T=s(75908);function I({className:e,...r}){return(0,t.jsx)(U,{"data-slot":"checkbox",className:(0,T.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(G,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(L.A,{className:"size-3.5"})})})}function J(){let{pending:e}=(0,c.useFormStatus)();return(0,t.jsx)(u.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function K({index:e,preprocessors:r,preprocessorInputs:s,setPreprocessorInputs:a}){return(0,t.jsx)("div",{className:"my-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"preprocessor-name-"+e,children:"Name"}),(0,t.jsxs)(f.l6,{required:!0,value:s[e].name,onValueChange:r=>a(s.map((s,t)=>t===e?{...s,name:r}:s)),children:[(0,t.jsx)(f.bq,{className:"col-span-3",children:(0,t.jsx)(f.yv,{placeholder:"Select a preprocessor"})}),(0,t.jsx)(f.gC,{className:"col-span-3",children:r.map(e=>(0,t.jsx)(f.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"preprocessor-params-"+e,children:"Params"}),(0,t.jsx)(h.p,{id:"preprocessor-params-"+e,className:"col-span-3",placeholder:'{"max_length": 512}',required:!0,value:s[e].params,onChange:r=>a(s.map((s,t)=>t===e?{...s,params:r.target.value}:s))})]})]})})}function B({datasetId:e,shardsets:r,preprocessors:s,children:c}){let[v,b]=(0,a.useState)(""),[j,y]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),[_,k]=(0,a.useState)([]),[C,P]=(0,a.useState)(1),[D,S]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[R,O]=(0,a.useState)(!1),U=(0,a.useRef)(null),q=()=>{b(""),y([]),w([]),k([]),P(1),U.current?.reset()},G=async r=>{let s="";try{let e=j.map(e=>({name:e.name,params:JSON.parse(e.params)}));s=JSON.stringify(e)}catch(e){d.oR.error("Invalid preprocessor params");return}let t=await g(e,v,N,s,_,C,D,A);t.success?(d.oR.success("Started preprocessing"),O(!1),q()):d.oR.error(`Failed to start preprocessing: ${t.error}`)};return 0===s.length?(0,t.jsxs)(p.lG,{open:R,onOpenChange:O,children:[(0,t.jsx)(p.zM,{asChild:!0,children:c}),(0,t.jsx)(p.Cf,{className:"sm:max-w-[600px]",children:(0,t.jsxs)(p.c7,{children:[(0,t.jsx)(p.L3,{children:"No preprocessors found!"}),(0,t.jsx)(p.rr,{children:"Please create a preprocessor first."})]})})]}):(0,t.jsxs)(p.lG,{open:R,onOpenChange:O,children:[(0,t.jsx)(p.zM,{asChild:!0,children:c}),(0,t.jsxs)(p.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(p.c7,{children:[(0,t.jsx)(p.L3,{children:"Preprocess"}),(0,t.jsx)(p.rr,{children:"Generate a new shardset by preprocessing the dataset."})]}),(0,t.jsxs)("form",{ref:U,action:G,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-lg mt-2",children:"Source"}),N.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"source",className:"text-right",children:"Shardset"}),(0,t.jsxs)(f.l6,{name:"source",required:!0,value:e,onValueChange:e=>w(r=>{let t=[...r];return t[s]=e,t}),children:[(0,t.jsx)(f.bq,{className:"col-span-3",children:(0,t.jsx)(f.yv,{placeholder:"Select a source"})}),(0,t.jsx)(f.gC,{className:"col-span-3",children:r.map(e=>(0,t.jsx)(f.eb,{value:e.id,disabled:N.includes(e.id),children:e.location},e.id))})]})]},`sourceShardset-${s}`)),N.length<r.length&&(0,t.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>w([...N,""]),children:[(0,t.jsx)(n.A,{}),"Add Source Shardset"]}),(0,t.jsxs)("div",{className:"text-lg mt-2 flex gap-2 items-center",children:[(0,t.jsx)("div",{children:"Preprocessors"}),(0,t.jsx)(m.F,{icon:(0,t.jsx)(i.A,{className:"w-4 h-4"}),content:(0,t.jsx)("p",{})})]}),(0,t.jsx)(l.F,{className:"max-h-[200px]",children:j.map((e,r)=>(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{index:r,preprocessors:s,preprocessorInputs:j,setPreprocessorInputs:y}),(0,t.jsx)(o.w,{className:"my-2"})]},r))}),(0,t.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>y([...j,{name:"",params:"{}"}]),children:[(0,t.jsx)(n.A,{}),"Add Preprocessor"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-lg mt-2",children:"Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Batch Size"}),(0,t.jsx)(h.p,{id:"batch_size",name:"batch_size",type:"number",className:"col-span-3",placeholder:"100",required:!0,value:C,onChange:e=>P(Number(e.target.value))})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-lg mt-2",children:"Output"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Location"}),(0,t.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"s3://bucket/path/to/shardset/",required:!0,value:v,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Overwrite"}),(0,t.jsx)(I,{id:"overwrite",name:"overwrite",checked:D,onCheckedChange:e=>S("indeterminate"!==e&&e)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Drop Last"}),(0,t.jsx)(I,{id:"drop_last",name:"drop_last",checked:A,onCheckedChange:e=>E("indeterminate"!==e&&e)})]}),_.map((e,r)=>(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsxs)(x.J,{htmlFor:"location",className:"text-right",children:["Export Column ",r+1]}),(0,t.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"new_column_name",required:!0,value:e,onChange:e=>k(s=>{let t=[...s];return t[r]=e.target.value,t})},`export-column-${r}`)]})),(0,t.jsxs)(u.$,{type:"button",variant:"outline",className:"",onClick:()=>k([..._,""]),children:[(0,t.jsx)(n.A,{}),"Add Export Column"]})]}),(0,t.jsx)(p.Es,{children:(0,t.jsx)(J,{})})]})]})]})}},44989:(e,r,s)=>{"use strict";s.d(r,{b:()=>d});var t=s(65138),a=s(34240),n=s(40871),i=t.forwardRef((e,r)=>(0,n.jsx)(a.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var d=i},46458:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"40f53edd788e5c46de409b51a96321c91a49b5a4b7":()=>t.x,"70e6740d53bfa57b26358efdf6161a917f087aa338":()=>a.A});var t=s(48161),a=s(87110)},48161:(e,r,s)=>{"use strict";s.d(r,{Q:()=>p,x:()=>u});var t=s(94829),a=s(45290),n=s(12850),i=s(32253),d=s(61573),c=s(87110),l=s(72188),o=s(98612);let u=async function(e){var[r]=await (0,n.decryptActionBoundArgs)("40f53edd788e5c46de409b51a96321c91a49b5a4b7",e);let s=await (0,l.KU)(),t=await s.GET("/datasets/{dataset_id}",{params:{path:{dataset_id:r}}});if(t.error)return;let a=t.data.shardsets.map(e=>e.id);await Promise.all(a.map(e=>(0,c.A)(r,e,!1))),(0,o.redirect)("/background-tasks/")};async function p({dataset_id:e,shardsets:r}){let s=!!(await Promise.all(r.map(async r=>(await (0,l.KU)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:r}}})))).find(e=>e.data&&"completed"!==e.data.status),c=(0,a.A)(u,"40f53edd788e5c46de409b51a96321c91a49b5a4b7",null).bind(null,(0,n.encryptActionBoundArgs)("40f53edd788e5c46de409b51a96321c91a49b5a4b7",e));return(0,t.jsx)("div",{className:"w-full flex flex-col gap-1",children:(0,t.jsx)("form",{action:c,children:(0,t.jsxs)(i.$,{type:"submit",className:"w-full",disabled:s,children:[(0,t.jsx)(d.A,{className:"w-4 h-4"}),"Sync"]})})})}},51087:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"40d4c994140d7162fca88e9904afda9aa41cabc15e":()=>i,"7f3e229e64fb29737787879fbf882b5c02753f43c3":()=>d});var t=s(6391);s(80127);var a=s(17773),n=s(63995);async function i(e){try{let r=await (await (0,a.KU)()).DELETE("/datasets/{dataset_id}",{params:{path:{dataset_id:e}}});if(r.error)return{success:!1,error:r.error.detail};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}async function d(e,r,s,t,n,i,d,c){let l=[];try{l=JSON.parse(t)}catch(e){return{success:!1,error:"Invalid preprocessors data"}}try{let t=await (await (0,a.KU)()).POST("/datasets/{dataset_id}/preprocess",{params:{path:{dataset_id:e}},body:{shardset_location:r,source_shardset_ids:s,preprocessors:l,export_columns:n,batch_size:i,overwrite:d,drop_last:c}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,n.D)([i]),(0,t.A)(i,"40d4c994140d7162fca88e9904afda9aa41cabc15e",null),(0,n.D)([d]),(0,t.A)(d,"7f3e229e64fb29737787879fbf882b5c02753f43c3",null)},54845:(e,r,s)=>{Promise.resolve().then(s.bind(s,65854)),Promise.resolve().then(s.bind(s,69476)),Promise.resolve().then(s.bind(s,44809)),Promise.resolve().then(s.bind(s,28077))},61573:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(51477).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63354:(e,r,s)=>{"use strict";s.d(r,{X:()=>n});var t=s(65138),a=s(42850);function n(e){let[r,s]=t.useState(void 0);return(0,a.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let t,a;if(!Array.isArray(r)||!r.length)return;let n=r[0];if("borderBoxSize"in n){let e=n.borderBoxSize,r=Array.isArray(e)?e[0]:e;t=r.inlineSize,a=r.blockSize}else t=e.offsetWidth,a=e.offsetHeight;s({width:t,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}s(void 0)},[e]),r}},69476:(e,r,s)=>{"use strict";s.d(r,{DeleteDatasetDialog:()=>l});var t=s(40871),a=s(24983),n=s(69348),i=s(36931);let d=(0,i.createServerReference)("40d4c994140d7162fca88e9904afda9aa41cabc15e",i.callServer,void 0,i.findSourceMapURL,"deleteDataset");var c=s(90181);function l({datasetId:e,children:r}){let s=(0,c.useRouter)(),i=async()=>{let r=await d(e);r.success?(a.oR.success("Dataset deleted successfully"),s.push("/datasets")):a.oR.error(`Failed to delete dataset: ${r.error}`)};return(0,t.jsxs)(n.Lt,{children:[(0,t.jsx)(n.tv,{asChild:!0,children:r}),(0,t.jsxs)(n.EO,{children:[(0,t.jsxs)(n.wd,{children:[(0,t.jsx)(n.r7,{children:"Are you absolutely sure?"}),(0,t.jsx)(n.$v,{children:"This action cannot be undone. This will permanently delete your dataset, related shardsets and iterations. Of course, actual data will not be affected."})]}),(0,t.jsxs)(n.ck,{children:[(0,t.jsx)(n.Zr,{children:"Cancel"}),(0,t.jsx)(n.Rx,{onClick:i,children:"Continue"})]})]})]})}},72336:(e,r,s)=>{"use strict";s.d(r,{PreprocessDatasetDialog:()=>t});let t=(0,s(26259).registerClientReference)(function(){throw Error("Attempted to call PreprocessDatasetDialog() from the server but PreprocessDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/preprocess-dataset-dialog.tsx","PreprocessDatasetDialog")},87110:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(45290);s(12850);var a=s(72188),n=s(56807);async function i(e,r,s){try{let t=await (await (0,a.KU)()).POST("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:r}},body:{overwrite:s}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return(0,n.revalidatePath)(`/datasets/${e}/shardsets/${r}`),{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,s(40334).D)([i]),(0,t.A)(i,"70e6740d53bfa57b26358efdf6161a917f087aa338",null)},87557:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var t=s(94829),a=s(32253),n=s(72188),i=s(44155),d=s(40931),c=s(22393),l=s(72336),o=s(48161);async function u({params:e}){let{dataset_id:r}=await e,s=await (0,n.KU)(),u=await s.GET("/datasets/{dataset_id}",{params:{path:{dataset_id:r}}}),p=await s.GET("/registries/preprocessors",{});if(u.error)return(0,t.jsx)(i.ErrorCard,{error:u.error.detail});if(!p.data)return(0,t.jsx)(i.ErrorCard,{error:p.error});let h=u.data;return(0,t.jsx)("div",{className:"w-full max-w-[720px] flex flex-col gap-2 items-start",children:(0,t.jsx)(d.Zp,{className:"w-full",children:(0,t.jsxs)(d.Wu,{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Sync shardsets"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Sync the all shardsets of this dataset to their locations."})]}),(0,t.jsx)(o.Q,{dataset_id:r,shardsets:h.shardsets.map(e=>e.id)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Preprocess"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Generate a new shardset by preprocessing the dataset."})]}),(0,t.jsx)(l.PreprocessDatasetDialog,{datasetId:r,shardsets:h.shardsets,preprocessors:p.data.map(e=>e.name),children:(0,t.jsx)(a.$,{variant:"default",children:"Preprocess"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Delete this dataset"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action is irreversible."})]}),(0,t.jsx)(c.DeleteDatasetDialog,{datasetId:r,children:(0,t.jsx)(a.$,{variant:"destructive",children:"Delete this dataset"})})]})]})})})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[294,94,562,543,751,585,279,36,807,24,463,966,611],()=>s(334));module.exports=t})();
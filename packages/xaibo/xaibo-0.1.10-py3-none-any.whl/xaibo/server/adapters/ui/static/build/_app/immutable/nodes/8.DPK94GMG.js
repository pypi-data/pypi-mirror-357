var It=Object.defineProperty;var St=o=>{throw TypeError(o)};var Lt=(o,e,r)=>e in o?It(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var Re=(o,e,r)=>Lt(o,typeof e!="symbol"?e+"":e,r),kt=(o,e,r)=>e.has(o)||St("Cannot "+r);var y=(o,e,r)=>(kt(o,e,"read from private field"),r?r.call(o):e.get(o)),ee=(o,e,r)=>e.has(o)?St("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,r),Nt=(o,e,r,n)=>(kt(o,e,"write to private field"),n?n.call(o,r):e.set(o,r),r);import"../chunks/CWj6FrbW.js";import{p as F,f as c,a as q,t as T,ag as je,i as t,$ as Ae,L as w,u as Et,c as h,x as de,r as m,a3 as zt,B as O,s as p,d as Bt}from"../chunks/CId4BCie.js";import{r as jt,s as xe}from"../chunks/CSj7lMIP.js";import{p as P,i as ce,b as Ce,r as X,s as $t,c as $,a as Ht,d as Jt}from"../chunks/BUE_WA-f.js";import{H as Rt,b as $e,s as se,C as Ft,u as dt,J as Pt,d as yt,S as qt,E as Vt,K as Gt,B as Ut,L as Kt,e as ut,n as Qt,f as re,m as vt,h as Wt,g as Xt,I as Tt,M as et,N as Xe,O as Ye}from"../chunks/AkeprmGW.js";import{c as C,a as s,t as g,b as ie}from"../chunks/BKnx-tix.js";import{A as Yt,P as At,S as ht,a as mt,b as we,R as pt}from"../chunks/D6a_oZvq.js";import{b as Zt,a as xt,C as er}from"../chunks/DkogsR7t.js";import{s as U}from"../chunks/D0aaoSU3.js";var tr=g("<input>"),rr=g("<input>");function Ot(o,e){F(e,!0);let r=P(e,"ref",15,null),n=P(e,"value",15),a=P(e,"files",15),i=X(e,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var d=C(),l=c(d);{var v=x=>{var f=tr();Rt(f);let S;Ce(f,k=>r(k),()=>r()),T(k=>S=se(f,S,{class:k,type:"file",...i}),[()=>$e("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),Zt(f,a),xt(f,n),s(x,f)},M=x=>{var f=rr();Rt(f);let S;Ce(f,k=>r(k),()=>r()),T(k=>S=se(f,S,{class:k,type:e.type,...i}),[()=>$e("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),xt(f,n),s(x,f)};ce(l,x=>{e.type==="file"?x(v):x(M,!1)})}s(o,d),q()}const sr="data-collapsible-root",or="data-collapsible-content",ar="data-collapsible-trigger";var tt,st;class nr{constructor(e){Re(this,"opts");ee(this,tt,je(null));ee(this,st,w(()=>({id:this.opts.id.current,"data-state":yt(this.opts.open.current),"data-disabled":Pt(this.opts.disabled.current),[sr]:""})));this.opts=e,this.toggleOpen=this.toggleOpen.bind(this),dt(e)}get contentNode(){return t(y(this,tt))}set contentNode(e){Ae(y(this,tt),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}get props(){return t(y(this,st))}}tt=new WeakMap,st=new WeakMap;var He,Je,Fe,qe,ot,at,nt;class lr{constructor(e,r){Re(this,"opts");Re(this,"root");ee(this,He);ee(this,Je,je(!1));ee(this,Fe,je(0));ee(this,qe,je(0));ee(this,ot,w(()=>this.opts.forceMount.current||this.root.opts.open.current));ee(this,at,w(()=>({open:this.root.opts.open.current})));ee(this,nt,w(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":t(y(this,qe))?`${t(y(this,qe))}px`:void 0,"--bits-collapsible-content-width":t(y(this,Fe))?`${t(y(this,Fe))}px`:void 0},"data-state":yt(this.root.opts.open.current),"data-disabled":Pt(this.root.opts.disabled.current),[or]:""})));this.opts=e,this.root=r,Ae(y(this,Je),r.opts.open.current,!0),dt({...e,deps:()=>this.present,onRefChange:n=>{this.root.contentNode=n}}),Et(()=>{const n=requestAnimationFrame(()=>{Ae(y(this,Je),!1)});return()=>{cancelAnimationFrame(n)}}),Ut([()=>this.opts.ref.current,()=>this.present],([n])=>{n&&Kt(()=>{if(!this.opts.ref.current)return;Nt(this,He,y(this,He)||{transitionDuration:n.style.transitionDuration,animationName:n.style.animationName}),n.style.transitionDuration="0s",n.style.animationName="none";const a=n.getBoundingClientRect();if(Ae(y(this,qe),a.height,!0),Ae(y(this,Fe),a.width,!0),!t(y(this,Je))){const{animationName:i,transitionDuration:d}=y(this,He);n.style.transitionDuration=d,n.style.animationName=i}})})}get present(){return t(y(this,ot))}get snippetProps(){return t(y(this,at))}get props(){return t(y(this,nt))}}He=new WeakMap,Je=new WeakMap,Fe=new WeakMap,qe=new WeakMap,ot=new WeakMap,at=new WeakMap,nt=new WeakMap;var Oe,lt;class ir{constructor(e,r){Re(this,"opts");Re(this,"root");ee(this,Oe,w(()=>this.opts.disabled.current||this.root.opts.disabled.current));ee(this,lt,w(()=>{var e;return{id:this.opts.id.current,type:"button",disabled:t(y(this,Oe)),"aria-controls":(e=this.root.contentNode)==null?void 0:e.id,"aria-expanded":Gt(this.root.opts.open.current),"data-state":yt(this.root.opts.open.current),"data-disabled":Pt(t(y(this,Oe))),[ar]:"",onclick:this.onclick,onkeydown:this.onkeydown}}));this.opts=e,this.root=r,this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),dt(e)}onclick(e){if(!t(y(this,Oe))){if(e.button!==0)return e.preventDefault();this.root.toggleOpen()}}onkeydown(e){t(y(this,Oe))||(e.key===qt||e.key===Vt)&&(e.preventDefault(),this.root.toggleOpen())}get props(){return t(y(this,lt))}}Oe=new WeakMap,lt=new WeakMap;const wt=new Ft("Collapsible.Root");function dr(o){return wt.set(new nr(o))}function ur(o){return new ir(o,wt.get())}function vr(o){return new lr(o,wt.get())}var cr=g("<div><!></div>");function fr(o,e){F(e,!0);let r=P(e,"id",19,ut),n=P(e,"ref",15,null),a=P(e,"open",15,!1),i=P(e,"disabled",3,!1),d=P(e,"onOpenChange",3,Qt),l=X(e,["$$slots","$$events","$$legacy","children","child","id","ref","open","disabled","onOpenChange"]);const v=dr({open:re.with(()=>a(),R=>{a(R),d()(R)}),disabled:re.with(()=>i()),id:re.with(()=>r()),ref:re.with(()=>n(),R=>n(R))}),M=w(()=>vt(l,v.props));var x=C(),f=c(x);{var S=R=>{var A=C(),N=c(A);U(N,()=>e.child,()=>({props:t(M)})),s(R,A)},k=R=>{var A=cr();let N;var b=h(A);U(b,()=>e.children??de),m(A),T(()=>N=se(A,N,{...t(M)})),s(R,A)};ce(f,R=>{e.child?R(S):R(k,!1)})}s(o,x),q()}var gr=g("<div><!></div>");function _r(o,e){F(e,!0);let r=P(e,"ref",15,null),n=P(e,"forceMount",3,!1),a=P(e,"id",19,ut),i=X(e,["$$slots","$$events","$$legacy","child","ref","forceMount","children","id"]);const d=vr({id:re.with(()=>a()),forceMount:re.with(()=>n()),ref:re.with(()=>r(),l=>r(l))});Wt(o,{forceMount:!0,get present(){return d.present},get id(){return a()},presence:(v,M)=>{let x=()=>M==null?void 0:M().present;var f=C();const S=w(()=>vt(i,d.props,{hidden:n()?void 0:!x().current}));var k=c(f);{var R=N=>{var b=C(),B=c(b),D=zt(()=>({...d.snippetProps,props:t(S)}));U(B,()=>e.child,()=>t(D)),s(N,b)},A=N=>{var b=gr();let B;var D=h(b);U(D,()=>e.children??de),m(b),T(()=>B=se(b,B,{...t(S)})),s(N,b)};ce(k,N=>{e.child?N(R):N(A,!1)})}s(v,f)},$$slots:{presence:!0}}),q()}var hr=g("<button><!></button>");function mr(o,e){F(e,!0);let r=P(e,"ref",15,null),n=P(e,"id",19,ut),a=P(e,"disabled",3,!1),i=X(e,["$$slots","$$events","$$legacy","children","child","ref","id","disabled"]);const d=ur({id:re.with(()=>n()),ref:re.with(()=>r(),A=>r(A)),disabled:re.with(()=>a())}),l=w(()=>vt(i,d.props)),v=Xt(),[M,x]=v;var f=C(),S=c(f);{var k=A=>{var N=C(),b=c(N);U(b,()=>e.child,()=>({props:t(l)})),s(A,N)},R=A=>{var N=hr();let b;var B=h(N);U(B,()=>e.children??de),m(N),T(D=>b=se(N,b,{...D}),[()=>x({...t(l)},[{attribute_name:"formaction"}])]),s(A,N)};ce(S,A=>{e.child?A(k):A(R,!1)})}s(o,f),q()}const pr="data-label-root";var it;class br{constructor(e){Re(this,"opts");ee(this,it,w(()=>({id:this.opts.id.current,[pr]:"",onmousedown:this.onmousedown})));this.opts=e,this.onmousedown=this.onmousedown.bind(this),dt(e)}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return t(y(this,it))}}it=new WeakMap;function xr(o){return new br(o)}var $r=g("<label><!></label>");function Pr(o,e){F(e,!0);let r=P(e,"id",19,ut),n=P(e,"ref",15,null),a=X(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const i=xr({id:re.with(()=>r()),ref:re.with(()=>n(),f=>n(f))}),d=w(()=>vt(a,i.props,{for:e.for}));var l=C(),v=c(l);{var M=f=>{var S=C(),k=c(S);U(k,()=>e.child,()=>({props:t(d)})),s(f,S)},x=f=>{var S=$r();let k;var R=h(S);U(R,()=>e.children??de),m(S),T(()=>k=se(S,k,{...t(d),for:e.for})),s(f,S)};ce(v,f=>{e.child?f(M):f(x,!1)})}s(o,l),q()}const ps=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function yr(o,e){F(e,!0);let r=X(e,["$$slots","$$events","$$legacy"]);Tt(o,$t({name:"settings"},()=>r,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(a,i)=>{var d=C(),l=c(d);U(l,()=>e.children??de),s(a,d)},$$slots:{default:!0}})),q()}function Dt(o,e){F(e,!0);let r=X(e,["$$slots","$$events","$$legacy"]);Tt(o,$t({name:"trash-2"},()=>r,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,i)=>{var d=C(),l=c(d);U(l,()=>e.children??de),s(a,d)},$$slots:{default:!0}})),q()}var wr=g("<div><!></div>");function Cr(o,e){F(e,!0);let r=P(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=wr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("bg-card text-card-foreground rounded-xl border shadow",e.class)]),s(o,a),q()}var Mr=g("<div><!></div>");function Sr(o,e){F(e,!0);let r=P(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Mr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("p-6",e.class)]),s(o,a),q()}var kr=g("<div><!></div>");function Nr(o,e){F(e,!0);let r=P(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=kr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("flex items-center p-6 pt-0",e.class)]),s(o,a),q()}var Rr=g("<div><!></div>");function Ar(o,e){F(e,!0);let r=P(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Rr();let i;var d=h(a);U(d,()=>e.children??de),m(a),Ce(a,l=>r(l),()=>r()),T(l=>i=se(a,i,{class:l,...n}),[()=>$e("flex flex-col space-y-1.5 p-6 pb-0",e.class)]),s(o,a),q()}var Or=g("<div><!></div>");function Tr(o,e){F(e,!0);let r=P(e,"ref",15,null),n=P(e,"level",3,3),a=X(e,["$$slots","$$events","$$legacy","ref","class","level","children"]);var i=Or();let d;var l=h(i);U(l,()=>e.children??de),m(i),Ce(i,v=>r(v),()=>r()),T(v=>d=se(i,d,{role:"heading","aria-level":n(),class:v,...a}),[()=>$e("font-semibold leading-none tracking-tight",e.class)]),s(o,i),q()}function Ze(o,e){F(e,!0);let r=P(e,"ref",15,null),n=X(e,["$$slots","$$events","$$legacy","ref","class"]);var a=C(),i=c(a);const d=w(()=>$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class));$(i,()=>Pr,(l,v)=>{v(l,$t({get class(){return t(d)}},()=>n,{get ref(){return r()},set ref(M){r(M)}}))}),s(o,a),q()}var Dr=g("<textarea></textarea>");function bt(o,e){F(e,!0);let r=P(e,"ref",15,null),n=P(e,"value",15),a=X(e,["$$slots","$$events","$$legacy","ref","value","class"]);var i=Dr();jt(i);let d;Ce(i,l=>r(l),()=>r()),T(l=>d=se(i,d,{class:l,...a}),[()=>$e("border-input placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[60px] w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-sm focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),xt(i,n),s(o,i),q()}const Ir=fr,Lr=mr,Er=_r;var zr=g('<!> <span class="text-sm text-muted-foreground"> </span> <div class="flex-1"></div> <div class="rounded-full hover:bg-muted p-1"><!></div>',1),Br=g('<p class="text-xs text-red-500 mt-1">Module ID is required</p>'),jr=g('<p class="text-xs text-red-500 mt-1">Module path is required</p>'),Hr=g('Provides <span class="text-gray-500">(one per line)</span>',1),Jr=g('Uses <span class="text-gray-500">(one per line)</span>',1),Fr=g('Config <span class="text-gray-500">(JSON format)</span>',1),qr=g('<div class="grid gap-4 grid-cols-2"><div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!></div> <div><!> <!></div> <div class="col-span-2"><!> <!></div></div>'),Vr=g("<!> Remove Module",1),Gr=g("<!> <!>",1),Ur=g("<!> <!>",1);function Kr(o,e){F(e,!0);let r=P(e,"module",15);function n(M){const x=M.target;try{r(r().config=JSON.parse(x.value||"{}"),!0),x.classList.remove("border-red-500")}catch(f){x.classList.add("border-red-500"),console.error("Invalid JSON:",f)}}function a(M){const x=M.target;r(r().provides=x.value.split(`
`).filter(Boolean),!0)}function i(M){const x=M.target;r(r().uses=x.value.split(`
`).filter(Boolean),!0)}let d=je(!r().id);var l=C(),v=c(l);$(v,()=>Cr,(M,x)=>{x(M,{class:"mb-4",children:(f,S)=>{var k=C(),R=c(k);$(R,()=>Ir,(A,N)=>{N(A,{get open(){return t(d)},set open(b){Ae(d,b,!0)},children:(b,B)=>{var D=Ur(),Te=c(D);$(Te,()=>Ar,(Ve,Me)=>{Me(Ve,{class:"p-4",children:(Ge,Ue)=>{var fe=C(),De=c(fe);$(De,()=>Lr,(Ke,Pe)=>{Pe(Ke,{class:"flex gap-2 items-center w-full",children:(ge,Ie)=>{var Le=zr(),z=c(Le);$(z,()=>Tr,(Ee,_e)=>{_e(Ee,{children:(ze,ke)=>{O();var Be=ie();T(ye=>xe(Be,ye),[()=>{var ye,he;return((he=(ye=r().module)==null?void 0:ye.split("."))==null?void 0:he.pop())||"New Module"}]),s(ze,Be)},$$slots:{default:!0}})});var _=p(z,2),I=h(_);m(_);var j=p(_,4),Se=h(j);er(Se,{size:20}),m(j),T(()=>xe(I,`(${r().id||"No ID"})`)),s(ge,Le)},$$slots:{default:!0}})}),s(Ge,fe)},$$slots:{default:!0}})});var ct=p(Te,2);$(ct,()=>Er,(Ve,Me)=>{Me(Ve,{children:(Ge,Ue)=>{var fe=Gr(),De=c(fe);$(De,()=>Sr,(Pe,ge)=>{ge(Pe,{class:"-mt-4 p-4",children:(Ie,Le)=>{var z=qr(),_=h(z),I=h(_);Ze(I,{get for(){return`module-id-${e.index??""}`},class:"mb-1 block",children:(u,L)=>{O();var E=ie("Module ID");s(u,E)},$$slots:{default:!0}});var j=p(I,2);Ot(j,{get id(){return`module-id-${e.index??""}`},placeholder:"e.g. processor1",get value(){return r().id},set value(u){r(r().id=u,!0)}});var Se=p(j,2);{var Ee=u=>{var L=Br();s(u,L)};ce(Se,u=>{r().id||u(Ee)})}m(_);var _e=p(_,2),ze=h(_e);Ze(ze,{get for(){return`module-path-${e.index??""}`},class:"mb-1 block",children:(u,L)=>{O();var E=ie("Module Path");s(u,E)},$$slots:{default:!0}});var ke=p(ze,2);Ot(ke,{get id(){return`module-path-${e.index??""}`},placeholder:"e.g. my_agent.modules.processor",get value(){return r().module},set value(u){r(r().module=u,!0)}});var Be=p(ke,2);{var ye=u=>{var L=jr();s(u,L)};ce(Be,u=>{r().module||u(ye)})}m(_e);var he=p(_e,2),Qe=h(he);Ze(Qe,{get for(){return`provides-${e.index??""}`},class:"mb-1 block",children:(u,L)=>{O();var E=Hr();O(),s(u,E)},$$slots:{default:!0}});var ft=p(Qe,2);const gt=w(()=>{var u;return(u=r().provides)==null?void 0:u.join(`
`)});bt(ft,{get id(){return`provides-${e.index??""}`},class:"h-20 text-sm font-mono",placeholder:"e.g. protocol.v1 protocol.v2",get value(){return t(gt)},onchange:a}),m(he);var Y=p(he,2),me=h(Y);Ze(me,{get for(){return`uses-${e.index??""}`},class:"mb-1 block",children:(u,L)=>{O();var E=Jr();O(),s(u,E)},$$slots:{default:!0}});var Z=p(me,2);const rt=w(()=>{var u;return(u=r().uses)==null?void 0:u.join(`
`)});bt(Z,{get id(){return`uses-${e.index??""}`},class:"h-20 text-sm font-mono",placeholder:"e.g. protocol.v1 protocol.v2",get value(){return t(rt)},onchange:i}),m(Y);var oe=p(Y,2),ae=h(oe);Ze(ae,{get for(){return`config-${e.index??""}`},class:"mb-1 block",children:(u,L)=>{O();var E=Fr();O(),s(u,E)},$$slots:{default:!0}});var Ne=p(ae,2);const pe=w(()=>r().config?JSON.stringify(r().config,null,2):"");bt(Ne,{get id(){return`config-${e.index??""}`},class:"h-20 text-sm font-mono",placeholder:`e.g. ${JSON.stringify({key:"value"},null,2)??""}`,get value(){return t(pe)},onchange:n}),m(oe),m(z),s(Ie,z)},$$slots:{default:!0}})});var Ke=p(De,2);$(Ke,()=>Nr,(Pe,ge)=>{ge(Pe,{class:"flex justify-end",children:(Ie,Le)=>{et(Ie,{size:"sm",variant:"destructive",onclick:()=>e.onRemove(e.index),title:"Remove Module",children:(z,_)=>{var I=Vr(),j=c(I);Dt(j,{size:16}),O(),s(z,I)},$$slots:{default:!0}})},$$slots:{default:!0}})}),s(Ge,fe)},$$slots:{default:!0}})}),s(b,D)},$$slots:{default:!0}})}),s(f,k)},$$slots:{default:!0}})}),s(o,l),q()}var Qr=g("<!> Save Changes",1),Wr=g("<!> Add Module",1),Xr=g("<!> Add Exchange Config",1),Yr=g("<span> </span>"),Zr=g("<!> <!>",1),es=g("<!> <!>",1),ts=g("<span> </span>"),rs=g("<!> <!> <!>",1),ss=g("<!> <!>",1),os=g("<span> </span>"),as=g("<!> <!>",1),ns=g('<div class="mb-4 p-4 border rounded-lg bg-white"><div class="grid grid-cols-3 gap-6"><div><!></div> <div><!></div> <div class="flex gap-2"><!> <!></div></div></div>'),ls=g('<div class="container mx-auto max-w-full p-6"><div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-bold"> </h1> <!></div> <div class="mb-12 bg-gray-50 border rounded-lg p-6"><!></div> <div class="mb-12"><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-semibold">Modules</h2> <!></div> <!></div> <div><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-semibold">Exchange Configuration</h2> <!></div> <div class="grid grid-cols-3 gap-6 mb-4"><div class="text-sm font-medium text-gray-500">Module ID</div> <div class="text-sm font-medium text-gray-500">Protocol</div> <div class="text-sm font-medium text-gray-500">Provider</div></div> <!></div></div>');function bs(o,e){F(e,!0);const[r,n]=Ht(),a=()=>Jt(t(i),"$AgentConfig",r);let i=w(()=>e.data.AgentConfig),d=w(()=>a().data),l=w(()=>t(d).agentConfig),v=je(void 0);Bt(()=>{Ae(v,t(l),!0)});let M=w(()=>{const b={};return t(v).modules.forEach(B=>{B.provides&&B.provides.forEach(D=>{b[D]||(b[D]=[]),b[D].push(B.id)})}),b});function x(){t(v).modules=[...t(v).modules,{module:"",id:"",provides:[],uses:[],config:{}}]}function f(b){t(v).modules=t(v).modules.filter((B,D)=>D!==b)}function S(){t(v).exchange||(t(v).exchange=[]),t(v).exchange=[...t(v).exchange,{module:"",protocol:"",provider:""}]}function k(b){t(v).exchange=t(v).exchange.filter((B,D)=>D!==b)}var R=C(),A=c(R);{var N=b=>{var B=ls(),D=h(B),Te=h(D),ct=h(Te);m(Te);var Ve=p(Te,2);et(Ve,{variant:"default",onclick:()=>console.log("Save config"),children:(z,_)=>{var I=Qr(),j=c(I);yr(j,{size:16,class:"mr-2"}),O(),s(z,I)},$$slots:{default:!0}}),m(D);var Me=p(D,2),Ge=h(Me);Yt(Ge,{get config(){return t(v)}}),m(Me);var Ue=p(Me,2),fe=h(Ue),De=p(h(fe),2);et(De,{size:"sm",onclick:x,variant:"secondary",children:(z,_)=>{var I=Wr(),j=c(I);At(j,{size:16,class:"mr-2"}),O(),s(z,I)},$$slots:{default:!0}}),m(fe);var Ke=p(fe,2);Xe(Ke,17,()=>t(v).modules||[],Ye,(z,_,I)=>{Kr(z,{get module(){return t(_)},index:I,onRemove:f})}),m(Ue);var Pe=p(Ue,2),ge=h(Pe),Ie=p(h(ge),2);et(Ie,{size:"sm",onclick:S,variant:"secondary",children:(z,_)=>{var I=Xr(),j=c(I);At(j,{size:16,class:"mr-2"}),O(),s(z,I)},$$slots:{default:!0}}),m(ge);var Le=p(ge,4);Xe(Le,17,()=>t(v).exchange||[],Ye,(z,_,I)=>{var j=ns();const Se=w(()=>(t(M)[t(_).protocol]||[]).filter(Y=>Y!=t(_).module));var Ee=h(j),_e=h(Ee),ze=h(_e);$(ze,()=>pt,(Y,me)=>{me(Y,{type:"single",get value(){return t(_).module},set value(Z){t(_).module=Z},children:(Z,rt)=>{var oe=es(),ae=c(oe);const Ne=w(()=>`w-full ${t(_).module&&t(_).module!=="__entry__"&&!t(v).modules.find(u=>u.id===t(_).module)?"border-red-500":""}`);$(ae,()=>ht,(u,L)=>{L(u,{get class(){return t(Ne)},children:(E,ue)=>{var H=Yr(),ve=h(H,!0);m(H),T(()=>xe(ve,t(_).module||"Select module ID")),s(E,H)},$$slots:{default:!0}})});var pe=p(ae,2);$(pe,()=>mt,(u,L)=>{L(u,{children:(E,ue)=>{var H=Zr(),ve=c(H);$(ve,()=>we,(te,J)=>{J(te,{value:"__entry__",children:(V,K)=>{O();var Q=ie("__entry__");s(V,Q)},$$slots:{default:!0}})});var We=p(ve,2);Xe(We,17,()=>t(v).modules,Ye,(te,J)=>{var V=C(),K=c(V);$(K,()=>we,(Q,G)=>{G(Q,{get value(){return t(J).id},children:(W,ne)=>{O();var le=ie();T(()=>xe(le,t(J).id)),s(W,le)},$$slots:{default:!0}})}),s(te,V)}),s(E,H)},$$slots:{default:!0}})}),s(Z,oe)},$$slots:{default:!0}})}),m(_e);var ke=p(_e,2),Be=h(ke);const ye=w(()=>!t(_).module);$(Be,()=>pt,(Y,me)=>{me(Y,{type:"single",get disabled(){return t(ye)},get value(){return t(_).protocol},set value(Z){t(_).protocol=Z},children:(Z,rt)=>{var oe=ss(),ae=c(oe);$(ae,()=>ht,(pe,u)=>{u(pe,{class:"w-full",children:(L,E)=>{var ue=ts(),H=h(ue,!0);m(ue),T(()=>xe(H,t(_).protocol||"Select protocol")),s(L,ue)},$$slots:{default:!0}})});var Ne=p(ae,2);$(Ne,()=>mt,(pe,u)=>{u(pe,{children:(L,E)=>{var ue=C(),H=c(ue);{var ve=te=>{var J=rs(),V=c(J);$(V,()=>we,(G,W)=>{W(G,{value:"TextMessageHandlerProtocol",children:(ne,le)=>{O();var be=ie("TextMessageHandlerProtocol");s(ne,be)},$$slots:{default:!0}})});var K=p(V,2);$(K,()=>we,(G,W)=>{W(G,{value:"ImageMessageHandlerProtocol",children:(ne,le)=>{O();var be=ie("ImageMessageHandlerProtocol");s(ne,be)},$$slots:{default:!0}})});var Q=p(K,2);$(Q,()=>we,(G,W)=>{W(G,{value:"AudioMessageHandlerProtocol",children:(ne,le)=>{O();var be=ie("AudioMessageHandlerProtocol");s(ne,be)},$$slots:{default:!0}})}),s(te,J)},We=te=>{var J=C(),V=c(J);Xe(V,17,()=>{var K;return((K=t(v).modules.find(Q=>Q.id===t(_).module))==null?void 0:K.uses)||[]},Ye,(K,Q)=>{var G=C(),W=c(G);$(W,()=>we,(ne,le)=>{le(ne,{get value(){return t(Q)},children:(be,Ct)=>{O();var _t=ie();T(()=>xe(_t,t(Q))),s(be,_t)},$$slots:{default:!0}})}),s(K,G)}),s(te,J)};ce(H,te=>{t(_).module==="__entry__"?te(ve):te(We,!1)})}s(L,ue)},$$slots:{default:!0}})}),s(Z,oe)},$$slots:{default:!0}})}),m(ke);var he=p(ke,2),Qe=h(he);const ft=w(()=>!t(_).module);$(Qe,()=>pt,(Y,me)=>{me(Y,{type:"single",get disabled(){return t(ft)},get value(){return t(_).provider},set value(Z){t(_).provider=Z},children:(Z,rt)=>{var oe=as(),ae=c(oe);const Ne=w(()=>`w-full ${t(_).provider&&!t(Se).includes(t(_).provider)?"border-red-500":""}`);$(ae,()=>ht,(u,L)=>{L(u,{get class(){return t(Ne)},children:(E,ue)=>{var H=os(),ve=h(H,!0);m(H),T(()=>xe(ve,t(_).provider||"Select provider")),s(E,H)},$$slots:{default:!0}})});var pe=p(ae,2);$(pe,()=>mt,(u,L)=>{L(u,{children:(E,ue)=>{var H=C(),ve=c(H);{var We=J=>{var V=C(),K=c(V);$(K,()=>we,(Q,G)=>{G(Q,{value:"",disabled:!0,children:(W,ne)=>{O();var le=ie("No providers available");s(W,le)},$$slots:{default:!0}})}),s(J,V)},te=J=>{var V=C(),K=c(V);Xe(K,17,()=>t(Se),Ye,(Q,G)=>{var W=C(),ne=c(W);$(ne,()=>we,(le,be)=>{be(le,{get value(){return t(G)},children:(Ct,_t)=>{O();var Mt=ie();T(()=>xe(Mt,t(G))),s(Ct,Mt)},$$slots:{default:!0}})}),s(Q,W)}),s(J,V)};ce(ve,J=>{t(Se).length?J(te,!1):J(We)})}s(E,H)},$$slots:{default:!0}})}),s(Z,oe)},$$slots:{default:!0}})});var gt=p(Qe,2);et(gt,{size:"sm",variant:"destructive",onclick:()=>k(I),children:(Y,me)=>{Dt(Y,{size:16})},$$slots:{default:!0}}),m(he),m(Ee),m(j),s(z,j)}),m(Pe),m(B),T(()=>xe(ct,`Agent Configuration: ${t(v).id??""}`)),s(b,B)};ce(A,b=>{t(v)&&b(N)})}s(o,R),q(),n()}export{bs as component,ps as universal};

Metadata-Version: 2.4
Name: treels-cli
Version: 1.1.1
Summary: Enhanced directory tree printer with Git integration
Author: Faizan Ali
License-Expression: MIT
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: rich>=13.0.0
Dynamic: license-file

# TreeLS

Enhanced directory tree printer with Git integration and ls-like features.

![image](https://github.com/user-attachments/assets/0b9938f8-0d9a-474a-9e52-a55e75209435)

TreeLS combines the functionality of the classic `tree` command with Git status awareness, providing color-coded file status indicators and powerful filtering options. Perfect for developers who want to quickly visualize project structure and Git state.

## âœ¨ Features

- **ğŸŒ³ Beautiful Tree Display**: Rich, colorized directory tree output
- **ğŸ”¥ Git Integration**: Color-coded files based on Git status (PyCharm-style)
- **ğŸ¯ Smart Filtering**: Show only specific types of files (staged, modified, untracked, etc.)
- **ğŸ™ˆ .gitignore Aware**: Automatically respects .gitignore patterns
- **âš¡ Fast & Lightweight**: Minimal dependencies, maximum performance
- **ğŸ›¡ï¸ Safe by Default**: Hides .git folder and respects ignore patterns

## ğŸ¨ Git Status Colors

| Color           | Status    | Description                   |
|-----------------|-----------|-------------------------------|
| ğŸ”´ **Red**      | Untracked | Files not in version control  |
| ğŸŸ¢ **Green**    | Staged    | Files staged for commit       |
| ğŸŸ¡ **Yellow**   | Modified  | Files modified but not staged |
| âš« **Dark Grey** | Deleted   | Files marked for deletion     |
| **Default**     | Committed | Clean, committed files        |
| ğŸ”˜ **Grey**     | Non-Git   | Files in non-Git directories  |

## ğŸ“¦ Installation

```bash
pip install treels-cli
```

Or install from source:
```bash
git clone <repository-url>
cd treels
pip install -e .
```

## ğŸš€ Quick Start

```bash
# Basic tree view
treels

# Show all files including hidden ones
treels -a

# Show Git status legend
treels --git-status

# Show only modified files
treels --only-modified
```

### Sample Output

**Basic tree view:**
```
/home/user/my-project (git)
â”œâ”€â”€ README.md
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ utils.py
â”‚   â””â”€â”€ config.json
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_main.py
â”‚   â””â”€â”€ test_utils.py
â””â”€â”€ requirements.txt
```

**With Git status colors (when in a Git repository):**
```
/home/user/my-project (git)
â”œâ”€â”€ README.md                    # Default (committed)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py                  # Yellow (modified)
â”‚   â”œâ”€â”€ utils.py                 # Green (staged)
â”‚   â””â”€â”€ config.json              # Default (committed)
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_main.py             # Red (untracked)
â”‚   â””â”€â”€ test_utils.py            # Default (committed)
â”œâ”€â”€ requirements.txt             # Default (committed)
â””â”€â”€ new_feature.py               # Red (untracked)
```

**Filtered view (--only-modified --only-untracked):**
```
/home/user/my-project (git)
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.py                  # Yellow (modified)
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_main.py             # Red (untracked)
â””â”€â”€ new_feature.py               # Red (untracked)
```

> **Note**: In actual terminal output, the files appear in the colors described in the comments. The examples above show the structure with status indicators for clarity.

## ğŸ“š Usage Examples

### Basic Usage
```bash
# Current directory tree
treels

# Specific directory
treels /path/to/project

# Show hidden files (but not .git folder)
treels -a

# Show everything including .git folder
treels -a --show-git
```

**Example: Basic tree in a Python project**
```
/home/user/my-app
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ views.py
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_app.py
â””â”€â”€ docs/
    â””â”€â”€ README.md
```

**Example: With hidden files (-a)**
```
/home/user/my-app
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ .cache/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ views.py
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_app.py
â””â”€â”€ docs/
    â””â”€â”€ README.md
```

### Git-Aware Filtering
```bash
# Show only files with changes (any status)
treels --git-uncommitted-only

# Show only committed files (clean)
treels --git-exclude-uncommitted

# Show only staged files (ready for commit)
treels --only-staged

# Show only modified files (need staging)
treels --only-modified

# Show only untracked files (new files)
treels --only-untracked

# Show only deleted files
treels --only-deleted

# Combine filters: show staged OR modified files
treels --only-staged --only-modified

# Show files ready for review (staged + modified)
treels --only-staged --only-modified --git-status
```

**Example: Only modified files (--only-modified)**
```
/home/user/my-app (git)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models.py                # Yellow (modified)
â”‚   â””â”€â”€ views.py                 # Yellow (modified)
â””â”€â”€ app.py                       # Yellow (modified)
```

**Example: Only untracked files (--only-untracked)**
```
/home/user/my-app (git)
â”œâ”€â”€ temp_script.py               # Red (untracked)
â”œâ”€â”€ src/
â”‚   â””â”€â”€ new_feature.py           # Red (untracked)
â””â”€â”€ docs/
    â””â”€â”€ draft.md                 # Red (untracked)
```

**Example: Combined filters (--only-staged --only-modified)**
```
/home/user/my-app (git)
â”œâ”€â”€ README.md                    # Green (staged)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models.py                # Yellow (modified)
â”‚   â”œâ”€â”€ views.py                 # Yellow (modified)
â”‚   â””â”€â”€ config.py                # Green (staged)
â””â”€â”€ app.py                       # Yellow (modified)
```

**Example: With Git status legend (--git-status)**
```
/home/user/my-app (git)
â”œâ”€â”€ README.md                    # Green (staged)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models.py                # Yellow (modified)
â”‚   â””â”€â”€ new_feature.py           # Red (untracked)
â””â”€â”€ app.py                       # Default (committed)

Git Status: Red=Untracked  Green=Staged  Yellow=Modified  Dark Grey=Deleted  Default=Committed  Grey=Non-Git

Filter Options: --only-staged --only-modified --only-untracked --only-deleted
(Combine multiple filters with OR logic)
```

### Advanced Options
```bash
# Limit depth
treels --max-depth 2

# Custom ignore patterns
treels --ignore "node_modules,dist,build"

# Show .gitignore'd files
treels --show-ignored

# Highlight directories in blue
treels --highlight-dirs

# Full status with legend
treels --git-status --only-modified --only-untracked
```

**Example: Max depth limit (--max-depth 2)**
```
/home/user/my-app
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ views.py
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_app.py
â””â”€â”€ docs/
    â””â”€â”€ README.md
```

**Example: Custom ignore (--ignore "tests,docs")**
```
/home/user/my-app
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ src/
    â”œâ”€â”€ models.py
    â””â”€â”€ views.py
```

**Example: Highlight directories (--highlight-dirs)**
```
/home/user/my-app
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ src/                         # Bold blue
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ views.py
â””â”€â”€ tests/                       # Bold blue
    â””â”€â”€ test_app.py
```

### Git Status Codes
```bash
# Show Git status codes before filenames (like git status --short)
treels --show-status-codes

# Combine with colors and legend for full information
treels --show-status-codes --git-status

# Perfect for terminals without color support
treels --show-status-codes --only-modified
```

**Example: With Git status codes (--show-status-codes)**
```
/home/user/my-app (git)
â”œâ”€â”€    README.md
â”œâ”€â”€    src/
â”‚   â”œâ”€â”€ A  api.py                # Green (staged)
â”‚   â”œâ”€â”€  M utils.py              # Yellow (modified)
â”‚   â””â”€â”€ ?? new_feature.py        # Red (untracked)
â””â”€â”€  M app.py                    # Yellow (modified)

Git Status: Red=Untracked  Green=Staged  Yellow=Modified

Status Codes: ?? = Untracked, A  = Staged,  M = Modified,  D = Deleted
```

**Benefits of Status Codes:**
- **Accessibility**: Works in terminals without color support
- **CI/CD Friendly**: Status codes visible in automated logs
- **Familiar**: Uses exact `git status --short` format
- **Redundant Info**: Both visual colors AND text codes

## ğŸ”§ Command Line Options

| Option                | Description                                   |
|-----------------------|-----------------------------------------------|
| `path`                | Root directory (default: current directory)   |
| `-a, --all`           | Show hidden files and directories             |
| `--show-ignored`      | Show files ignored by .gitignore              |
| `--show-git`          | Show .git folder (hidden by default)          |
| `--ignore DIRS`       | Comma-separated list of directories to ignore |
| `--max-depth N`       | Maximum depth to traverse                     |
| `--git-status`        | Show Git status legend                        |
| `--highlight-dirs`    | Highlight directories in blue                 |
| `--show-status-codes` | Show Git status codes before filenames        |

### Git Filtering Options

| Option                      | Description                         |
|-----------------------------|-------------------------------------|
| `--git-uncommitted-only`    | Show only files with any changes    |
| `--git-exclude-uncommitted` | Show only committed (clean) files   |
| `--only-staged`             | Show only staged files (green)      |
| `--only-modified`           | Show only modified files (yellow)   |
| `--only-untracked`          | Show only untracked files (red)     |
| `--only-deleted`            | Show only deleted files (dark grey) |

**Note**: The `--only-*` filters can be combined with OR logic. For example, `--only-staged --only-modified` shows files that are either staged OR modified.

## ğŸ¯ Common Workflows

### Pre-Commit Review
```bash
# See what's staged for commit
treels --only-staged

# See what still needs staging
treels --only-modified --only-untracked

# Full pre-commit overview
treels --git-status --only-staged --only-modified --only-untracked
```

**Example: Pre-commit review**
```bash
$ treels --only-staged
/home/user/my-app (git)
â”œâ”€â”€ README.md                    # Green (staged)
â””â”€â”€ src/
    â””â”€â”€ config.py                # Green (staged)

$ treels --only-modified --only-untracked
/home/user/my-app (git)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models.py                # Yellow (modified)
â”‚   â””â”€â”€ new_feature.py           # Red (untracked)
â””â”€â”€ temp_notes.txt               # Red (untracked)
```

### Code Review
```bash
# Show all changed files
treels --git-uncommitted-only

# Focus on specific changes
treels --only-modified --git-status
```

**Example: Code review overview**
```bash
$ treels --git-uncommitted-only
/home/user/my-app (git)
â”œâ”€â”€ README.md                    # Green (staged)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models.py                # Yellow (modified)
â”‚   â”œâ”€â”€ new_feature.py           # Red (untracked)
â”‚   â””â”€â”€ config.py                # Green (staged)
â””â”€â”€ temp_notes.txt               # Red (untracked)
```

### Project Overview
```bash
# Clean project view (hide temp files, show structure)
treels --max-depth 3

# Show everything for debugging
treels -a --show-ignored --show-git
```

**Example: Clean project structure**
```bash
$ treels --max-depth 3
/home/user/my-app
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ product.py
â”‚   â””â”€â”€ views/
â”‚       â”œâ”€â”€ api.py
â”‚       â””â”€â”€ web.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ test_models.py
â”‚   â”‚   â””â”€â”€ test_views.py
â”‚   â””â”€â”€ integration/
â”‚       â””â”€â”€ test_api.py
â””â”€â”€ docs/
    â”œâ”€â”€ API.md
    â””â”€â”€ DEPLOYMENT.md
```

### Working with Large Projects
```bash
# Hide build artifacts and dependencies
treels --ignore "node_modules,dist,build,target,.next"

# Focus on source code changes
treels --only-modified --max-depth 2
```

**Example: Large project with filtering**
```bash
$ treels --ignore "node_modules,dist" --max-depth 2
/home/user/large-project
â”œâ”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ styles/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ icons/
â””â”€â”€ tests/
    â”œâ”€â”€ unit/
    â””â”€â”€ e2e/
```

## ğŸ› ï¸ Development

### Install Dependencies
```bash
pipenv install --dev
```

### Development Workflow
```bash
# Activate virtual environment
pipenv shell

# Run tests
pipenv run test

# Format code
pipenv run format

# Lint code
pipenv run lint

# Build package
pipenv run build
```

### Running Tests
```bash
# Run all tests
pytest tests/

# Run with coverage
pytest tests/ --cov=treels

# Run specific test
pytest tests/test_treels.py::TestGitRepository::test_gitignore_parsing
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes
4. Add tests for new functionality
5. Run the test suite (`pipenv run test`)
6. Format your code (`pipenv run format`)
7. Commit your changes (`git commit -m 'Add amazing feature'`)
8. Push to the branch (`git push origin feature/amazing-feature`)
9. Open a Pull Request

## ğŸ“ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ™ Acknowledgments

- Inspired by the classic `tree` command
- Git status colors based on PyCharm's color scheme
- Built with [Rich](https://github.com/Textualize/rich) for beautiful terminal output

## ğŸ› Bug Reports & Feature Requests

Please use the GitHub Issues page to report bugs or request features. When reporting bugs, please include:

- Your operating system and Python version
- The command you ran
- Expected vs actual behavior
- Sample directory structure (if relevant)

[//]: # (## ğŸ“ˆ Roadmap)

[//]: # ()
[//]: # (- [ ] File size display options)

[//]: # (- [ ] Last modified date display)

[//]: # (- [ ] File permission indicators)

[//]: # (- [ ] JSON/XML output formats)

[//]: # (- [ ] Configuration file support)

[//]: # (- [ ] Plugin system for custom filters)

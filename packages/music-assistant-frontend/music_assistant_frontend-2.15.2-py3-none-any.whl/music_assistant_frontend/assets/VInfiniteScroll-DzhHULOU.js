import{g as O,p as Y,q as W,bP as G,v as K,h as j,bQ as J,m as Q,x as M,s as T,aK as X,u as Z,w as B,o as $,bR as p,c as U,A as F,bg as q,B as l,D as z,aB as ee,aC as te,H as ne,bS as ae,J as ie,bT as re,bU as oe,bV as le,e as se,P as D,d as ce,bW as ue,bn as de,F as ve,a as me,aG as fe,ad as ge,I as ye,ae as Se,bX as be,bY as ke,ao as he}from"./index-C8Wvo59W.js";import{V as Ve,a as Pe}from"./layout-D5VA38eE.js";import{b as E,a as Te}from"./VBtn-DmOE8ObX.js";function we(e){const c=T(e());let t=-1;function a(){clearInterval(t)}function r(){a(),D(()=>c.value=e())}function u(m){const h=m?getComputedStyle(m):{transitionDuration:.2},f=parseFloat(h.transitionDuration)*1e3||200;if(a(),c.value<=0)return;const y=performance.now();t=window.setInterval(()=>{const w=performance.now()-y+f;c.value=Math.max(e()-w,0),c.value<=0&&a()},f)}return se(a),{clear:a,time:c,start:u,reset:r}}const Ie=Y({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...oe({location:"bottom"}),...re(),...ie(),...ae(),...ne(),...te(le({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Le=O()({name:"VSnackbar",props:Ie(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const a=W(e,"modelValue"),{positionClasses:r}=G(e),{scopeId:u}=K(),{themeClasses:m}=j(e),{colorClasses:h,colorStyles:f,variantClasses:y}=J(e),{roundedClasses:w}=Q(e),d=we(()=>Number(e.timeout)),A=M(),I=M(),V=T(!1),x=T(0),C=M(),_=X(Ve,void 0);Z(()=>!!_,()=>{const o=Pe();ce(()=>{C.value=o.mainStyles.value})}),B(a,S),B(()=>e.timeout,S),$(()=>{a.value&&S()});let P=-1;function S(){d.reset(),window.clearTimeout(P);const o=Number(e.timeout);if(!a.value||o===-1)return;const g=p(I.value);d.start(g),P=window.setTimeout(()=>{a.value=!1},o)}function R(){d.reset(),window.clearTimeout(P)}function n(){V.value=!0,R()}function i(){V.value=!1,S()}function v(o){x.value=o.touches[0].clientY}function s(o){Math.abs(x.value-o.changedTouches[0].clientY)>50&&(a.value=!1)}function b(){V.value&&i()}const L=U(()=>e.location.split(" ").reduce((o,g)=>(o[`v-snackbar--${g}`]=!0,o),{}));return F(()=>{const o=q.filterProps(e),g=!!(t.default||t.text||e.text);return l(q,z({ref:A,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},L.value,r.value,e.class],style:[C.value,e.style]},o,{modelValue:a.value,"onUpdate:modelValue":k=>a.value=k,contentProps:z({class:["v-snackbar__wrapper",m.value,h.value,w.value,y.value],style:[f.value],onPointerenter:n,onPointerleave:i},o.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:v,onTouchend:s,onAfterLeave:b},u),{default:()=>{var k,N;return[ue(!1,"v-snackbar"),e.timer&&!V.value&&l("div",{key:"timer",class:"v-snackbar__timer"},[l(de,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),g&&l("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((k=t.text)==null?void 0:k.call(t))??e.text,(N=t.default)==null?void 0:N.call(t)]),t.actions&&l(ve,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[l("div",{class:"v-snackbar__actions"},[t.actions({isActive:a})])]})]},activator:t.activator})}),ee({},A)}}),xe=Y({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Se(),...ye()},"VInfiniteScroll"),H=be({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,c)=>!0},setup(e,c){let{emit:t}=c;const{intersectionRef:a,isIntersecting:r}=ke();return B(r,async u=>{t("intersect",e.side,u)}),F(()=>l("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:a},[he("Â ")])),{}}}),Me=O()({name:"VInfiniteScroll",props:xe(),emits:{load:e=>!0},setup(e,c){let{slots:t,emit:a}=c;const r=M(),u=T("ok"),m=T("ok"),h=U(()=>me(e.margin)),f=T(!1);function y(n){if(!r.value)return;const i=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[i]=n}function w(){if(!r.value)return 0;const n=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[n]}function d(){if(!r.value)return 0;const n=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[n]}function A(){if(!r.value)return 0;const n=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[n]}$(()=>{r.value&&(e.side==="start"?y(d()):e.side==="both"&&y(d()/2-A()/2))});function I(n,i){n==="start"?u.value=i:n==="end"&&(m.value=i)}function V(n){return n==="start"?u.value:m.value}let x=0;function C(n,i){f.value=i,f.value&&_(n)}function _(n){if(e.mode!=="manual"&&!f.value)return;const i=V(n);if(!r.value||["empty","loading"].includes(i))return;x=d(),I(n,"loading");function v(s){I(n,s),D(()=>{s==="empty"||s==="error"||(s==="ok"&&n==="start"&&y(d()-x+w()),e.mode!=="manual"&&D(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{_(n)})})})}))})}a("load",{side:n,done:v})}const{t:P}=fe();function S(n,i){var b,L,o,g,k;if(e.side!==n&&e.side!=="both")return;const v=()=>_(n),s={side:n,props:{onClick:v,color:e.color}};return i==="error"?(b=t.error)==null?void 0:b.call(t,s):i==="empty"?((L=t.empty)==null?void 0:L.call(t,s))??l("div",null,[P(e.emptyText)]):e.mode==="manual"?i==="loading"?((o=t.loading)==null?void 0:o.call(t,s))??l(E,{indeterminate:!0,color:e.color},null):((g=t["load-more"])==null?void 0:g.call(t,s))??l(Te,{variant:"outlined",color:e.color,onClick:v},{default:()=>[P(e.loadMoreText)]}):((k=t.loading)==null?void 0:k.call(t,s))??l(E,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:R}=ge(e);F(()=>{const n=e.tag,i=e.side==="start"||e.side==="both",v=e.side==="end"||e.side==="both",s=e.mode==="intersect";return l(n,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":i,"v-infinite-scroll--end":v}],style:R.value},{default:()=>{var b;return[l("div",{class:"v-infinite-scroll__side"},[S("start",u.value)]),i&&s&&l(H,{key:"start",side:"start",onIntersect:C,rootMargin:h.value},null),(b=t.default)==null?void 0:b.call(t),v&&s&&l(H,{key:"end",side:"end",onIntersect:C,rootMargin:h.value},null),l("div",{class:"v-infinite-scroll__side"},[S("end",m.value)])]}})})}});export{Le as V,Me as a};

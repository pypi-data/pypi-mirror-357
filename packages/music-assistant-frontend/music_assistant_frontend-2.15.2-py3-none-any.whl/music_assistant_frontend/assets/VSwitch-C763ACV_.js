import{V as oe,m as ye}from"./VTextField-h2jTOaQT.js";import{s as de,w as Q,g as fe,p as le,aG as Ve,x as K,q as z,c as b,cp as ke,cn as we,cr as Z,A as ve,B as a,D as I,aB as be,c6 as Ce,aC as Pe,cF as Se,ct as ue,cu as ee,cH as ie,P as xe,cI as Ae,c7 as De,G as $,an as te,ap as Ie,a1 as Te,X as se,bA as Be,cw as Fe,bo as _e,F as me,ao as Re,cJ as Le,bZ as Ee,b_ as Oe,cD as He,cK as Me}from"./index-C8Wvo59W.js";import{c as Ue,a as qe,u as Ke,V as ce,h as re,i as Ne,m as $e}from"./VCheckboxBtn-DZffJlMk.js";import{V as ze}from"./VVirtualScroll-ZleTOGra.js";import{b as je}from"./VBtn-DmOE8ObX.js";function Ge(e,O){const l=de(!1);let c;function r(s){cancelAnimationFrame(c),l.value=!0,c=requestAnimationFrame(()=>{c=requestAnimationFrame(()=>{l.value=!1})})}async function p(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const o=Q(l,()=>{o(),s()})}else s()})}async function C(s){var T,B;if(s.key==="Tab"&&((T=O.value)==null||T.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const o=(B=e.value)==null?void 0:B.$el;if(!o)return;(s.key==="Home"||s.key==="End")&&o.scrollTo({top:s.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await p();const y=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const u=o.getBoundingClientRect().top;for(const V of y)if(V.getBoundingClientRect().top>=u){V.focus();break}}else{const u=o.getBoundingClientRect().bottom;for(const V of[...y].reverse())if(V.getBoundingClientRect().bottom<=u){V.focus();break}}}return{onScrollPassive:r,onKeydown:C}}const We=le({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:De,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Ae({itemChildren:!1})},"Select"),Je=le({...We(),...Pe(ye({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ce({transition:{component:Se}})},"VSelect"),lt=fe()({name:"VSelect",props:Je(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,O){let{slots:l}=O;const{t:c}=Ve(),r=K(),p=K(),C=K(),s=z(e,"menu"),o=b({get:()=>s.value,set:t=>{var n;s.value&&!t&&((n=p.value)!=null&&n.Î¨openChildren.size)||(s.value=t)}}),{items:y,transformIn:T,transformOut:B}=ke(e),u=z(e,"modelValue",[],t=>T(t===null?[null]:we(t)),t=>{const n=B(t);return e.multiple?n:n[0]??null}),V=b(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:u.value.length),H=Ue(e),j=b(()=>u.value.map(t=>t.value)),k=de(!1),F=b(()=>o.value?e.closeText:e.openText);let P="",_;const S=b(()=>e.hideSelected?y.value.filter(t=>!u.value.some(n=>(e.valueComparator||Z)(n,t))):y.value),E=b(()=>e.hideNoData&&!S.value.length||H.isReadonly.value||H.isDisabled.value),G=b(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),R=K(),W=Ge(R,r);function J(t){e.openOnClear&&(o.value=!0)}function N(){E.value||(o.value=!o.value)}function M(t){ue(t)&&x(t)}function x(t){var w,i;if(!t.key||H.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(o.value=!0),["Escape","Tab"].includes(t.key)&&(o.value=!1),t.key==="Home"?(w=R.value)==null||w.focus("first"):t.key==="End"&&((i=R.value)==null||i.focus("last"));const n=1e3;if(!ue(t))return;const d=performance.now();d-_>n&&(P=""),P+=t.key.toLowerCase(),_=d;const D=y.value.find(f=>f.title.toLowerCase().startsWith(P));if(D!==void 0){u.value=[D];const f=S.value.indexOf(D);ee&&window.requestAnimationFrame(()=>{var v;f>=0&&((v=C.value)==null||v.scrollToIndex(f))})}}function A(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const d=u.value.findIndex(w=>(e.valueComparator||Z)(w.value,t.value)),D=n??!~d;if(~d){const w=D?[...u.value,t]:[...u.value];w.splice(d,1),u.value=w}else D&&(u.value=[...u.value,t])}else{const d=n!==!1;u.value=d?[t]:[],xe(()=>{o.value=!1})}}function g(t){var n;(n=R.value)!=null&&n.$el.contains(t.relatedTarget)||(o.value=!1)}function X(){var t;e.eager&&((t=C.value)==null||t.calculateVisibleItems())}function Y(){var t;k.value&&((t=r.value)==null||t.focus())}function U(t){k.value=!0}function he(t){if(t==null)u.value=[];else if(ie(r.value,":autofill")||ie(r.value,":-webkit-autofill")){const n=y.value.find(d=>d.title===t);n&&A(n)}else r.value&&(r.value.value="")}return Q(o,()=>{if(!e.hideSelected&&o.value&&u.value.length){const t=S.value.findIndex(n=>u.value.some(d=>(e.valueComparator||Z)(d.value,n.value)));ee&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=C.value)==null||n.scrollToIndex(t))})}}),Q(()=>e.items,(t,n)=>{o.value||k.value&&!n.length&&t.length&&(o.value=!0)}),ve(()=>{const t=!!(e.chips||l.chip),n=!!(!e.hideNoData||S.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),d=u.value.length>0,D=oe.filterProps(e),w=d||!k.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(oe,I({ref:r},D,{modelValue:u.value.map(i=>i.props.value).join(", "),"onUpdate:modelValue":he,focused:k.value,"onUpdate:focused":i=>k.value=i,validationValue:u.externalValue,counterValue:V.value,dirty:d,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:w,"onClick:clear":J,"onMousedown:control":N,onBlur:g,onKeydown:x,"aria-label":c(F.value),title:c(F.value)}),{...l,default:()=>a($,null,[a(Ie,I({ref:p,modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:X,onAfterLeave:Y},G.value),{default:()=>[n&&a(Te,I({ref:R,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:M,onFocusin:U,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},W,e.listProps),{default:()=>{var i,f,v;return[(i=l["prepend-item"])==null?void 0:i.call(l),!S.value.length&&!e.hideNoData&&(((f=l["no-data"])==null?void 0:f.call(l))??a(se,{key:"no-data",title:c(e.noDataText)},null)),a(ze,{ref:C,renderless:!0,items:S.value},{default:L=>{var ne;let{item:h,index:q,itemRef:m}=L;const ae=I(h.props,{ref:m,key:h.value,onClick:()=>A(h,null)});return((ne=l.item)==null?void 0:ne.call(l,{item:h,index:q,props:ae}))??a(se,I(ae,{role:"option"}),{prepend:pe=>{let{isSelected:ge}=pe;return a($,null,[e.multiple&&!e.hideSelected?a(qe,{key:h.value,modelValue:ge,ripple:!1,tabindex:"-1"},null):void 0,h.props.prependAvatar&&a(Be,{image:h.props.prependAvatar},null),h.props.prependIcon&&a(te,{icon:h.props.prependIcon},null)])}})}}),(v=l["append-item"])==null?void 0:v.call(l)]}})]}),u.value.map((i,f)=>{function v(m){m.stopPropagation(),m.preventDefault(),A(i,!1)}const L={"onClick:close":v,onKeydown(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),v(m))},onMousedown(m){m.preventDefault(),m.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},h=t?!!l.chip:!!l.selection,q=h?Fe(t?l.chip({item:i,index:f,props:L}):l.selection({item:i,index:f})):void 0;if(!(h&&!q))return a("div",{key:i.value,class:"v-select__selection"},[t?l.chip?a(me,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:i.title}}},{default:()=>[q]}):a(_e,I({key:"chip",closable:e.closableChips,size:"small",text:i.title,disabled:i.props.disabled},L),null):q??a("span",{class:"v-select__selection-text"},[i.title,e.multiple&&f<u.value.length-1&&a("span",{class:"v-select__selection-comma"},[Re(",")])])])})]),"append-inner":function(){var L;for(var i=arguments.length,f=new Array(i),v=0;v<i;v++)f[v]=arguments[v];return a($,null,[(L=l["append-inner"])==null?void 0:L.call(l,...f),e.menuIcon?a(te,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),be({isFocused:k,menu:o,select:A},r)}}),Xe=le({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...$e(),...Ne()},"VSwitch"),at=fe()({name:"VSwitch",inheritAttrs:!1,props:Xe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,O){let{attrs:l,slots:c}=O;const r=z(e,"indeterminate"),p=z(e,"modelValue"),{loaderClasses:C}=Le(e),{isFocused:s,focus:o,blur:y}=Ke(e),T=K(),B=ee&&window.matchMedia("(forced-colors: active)").matches,u=b(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),V=Ee(),H=b(()=>e.id||`switch-${V}`);function j(){r.value&&(r.value=!1)}function k(F){var P,_;F.stopPropagation(),F.preventDefault(),(_=(P=T.value)==null?void 0:P.input)==null||_.click()}return ve(()=>{const[F,P]=Oe(l),_=ce.filterProps(e),S=re.filterProps(e);return a(ce,I({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},C.value,e.class]},F,_,{modelValue:p.value,"onUpdate:modelValue":E=>p.value=E,id:H.value,focused:s.value,style:e.style}),{...c,default:E=>{let{id:G,messagesId:R,isDisabled:W,isReadonly:J,isValid:N}=E;const M={model:p,isValid:N};return a(re,I({ref:T},S,{modelValue:p.value,"onUpdate:modelValue":[x=>p.value=x,j],id:G.value,"aria-describedby":R.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:W.value,readonly:J.value,onFocus:o,onBlur:y},P),{...c,default:x=>{let{backgroundColorClasses:A,backgroundColorStyles:g}=x;return a("div",{class:["v-switch__track",B?void 0:A.value],style:g.value,onClick:k},[c["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[c["track-true"](M)]),c["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[c["track-false"](M)])])},input:x=>{let{inputNode:A,icon:g,backgroundColorClasses:X,backgroundColorStyles:Y}=x;return a($,null,[A,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":g||e.loading},e.inset||B?void 0:X.value],style:e.inset?void 0:Y.value},[c.thumb?a(me,{defaults:{VIcon:{icon:g,size:"x-small"}}},{default:()=>[c.thumb({...M,icon:g})]}):a(He,null,{default:()=>[e.loading?a(Me,{name:"v-switch",active:!0,color:N.value===!1?void 0:u.value},{default:U=>c.loader?c.loader(U):a(je,{active:U.isActive,color:U.color,indeterminate:!0,size:"16",width:"2"},null)}):g&&a(te,{key:String(g),icon:g,size:"x-small"},null)]})])])}})}})}),{}}});export{at as V,lt as a,We as m,Ge as u};

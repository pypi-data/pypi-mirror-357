import{g as M,p as A,h as L,ai as P,A as N,B as u,H as R,I as F,al as x,N as D,a as H,Q as S,x as U,o as E,a4 as n,a2 as d,Z as p,W as e,U as i,G as $,S as g,ao as y,ab as t,$ as X,R as T,a9 as w,ag as Y,an as V,a0 as l,aa as z,bE as G,c9 as Q,a3 as W}from"./index-C8Wvo59W.js";import{L as Z}from"./ListItem-BDnoqXe8.js";import{C as B}from"./Container-D43lS1qQ.js";import{V as I}from"./VToolbar-COHqcQ5L.js";import"./Button-C6-W0Jei.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VBtn-DmOE8ObX.js";import"./VContainer-BR45fXaf.js";/* empty css              */const j=A({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...D(),...x(),...F(),...R()},"VTable"),q=M()({name:"VTable",props:j(),setup(r,v){let{slots:s,emit:f}=v;const{themeClasses:_}=L(r),{densityClasses:a}=P(r);return N(()=>u(r.tag,{class:["v-table",{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r.fixedHeader,"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!s.top,"v-table--has-bottom":!!s.bottom,"v-table--hover":r.hover},_.value,a.value,r.class],style:r.style},{default:()=>{var m,b,o;return[(m=s.top)==null?void 0:m.call(s),s.default?u("div",{class:"v-table__wrapper",style:{height:H(r.height)}},[u("table",null,[s.default()])]):(b=s.wrapper)==null?void 0:b.call(s),(o=s.bottom)==null?void 0:o.call(s)]}})),{}}}),J={style:{"margin-bottom":"10px"}},K={class:"line-clamp-1"},O={class:"line-clamp-1"},ee={style:{"margin-bottom":"10px"}},te={key:0},ae=["href"],ce=S({__name:"CoreConfigs",setup(r){const v=G(),s=U([]),f=function(a){v.push(`/settings/editcore/${a}`)},_=function(a,m){const b=[{label:"settings.configure",labelArgs:[],action:()=>{f(m.domain)},icon:"mdi-cog"},{label:"settings.documentation",labelArgs:[],action:()=>{Q(n.providerManifests[m.domain].documentation)},icon:"mdi-bookshelf",disabled:!n.providerManifests[m.domain].documentation}];W.emit("contextmenu",{items:b,posX:a.clientX,posY:a.clientY})};return E(async()=>{s.value=await n.getCoreConfigs(),d.libraryArtistsCount=await n.getLibraryArtistsCount(),d.libraryAlbumsCount=await n.getLibraryAlbumsCount(),d.libraryTracksCount=await n.getLibraryTracksCount(),d.libraryPlaylistsCount=await n.getLibraryPlaylistsCount(),d.libraryRadiosCount=await n.getLibraryRadiosCount()}),(a,m)=>{const b=Y("Button");return g(),p($,null,[e("div",J,[u(I,{color:"transparent"},{title:i(()=>[y(t(a.$t("settings.core_modules")),1)]),_:1}),u(B,null,{default:i(()=>[(g(!0),p($,null,X(s.value.sort((o,c)=>l(n).providerManifests[o.domain].name.localeCompare(l(n).providerManifests[c.domain].name)),o=>(g(),T(Z,{key:o.domain,"show-menu-btn":"",class:"list-item-main",link:"",onMenu:c=>_(c,o),onClick:c=>f(o.domain)},{prepend:i(()=>[u(z,{domain:o.domain,size:40,class:"listitem-media-thumb",style:{"margin-left":"10px"}},null,8,["domain"])]),title:i(()=>[e("div",K,t(l(n).providerManifests[o.domain].name),1)]),subtitle:i(()=>[e("div",O,t(l(n).providerManifests[o.domain].description),1)]),append:i(()=>[o.last_error?(g(),T(b,{key:0,icon:"",title:o.last_error},{default:i(()=>[u(V,{color:"red"},{default:i(()=>m[0]||(m[0]=[y(" mdi-alert-circle ")])),_:1,__:[0]})]),_:2},1032,["title"])):w("",!0)]),_:2},1032,["onMenu","onClick"]))),128))]),_:1})]),e("div",ee,[u(I,{color:"transparent"},{title:i(()=>[y(t(a.$t("settings.server_info")),1)]),_:1}),u(B,null,{default:i(()=>[u(q,null,{default:i(()=>{var o,c,h,C,k;return[e("tbody",null,[e("tr",null,[e("td",null,t(a.$t("settings.server_id")),1),e("td",null,t((o=l(n).serverInfo.value)==null?void 0:o.server_id),1)]),e("tr",null,[e("td",null,t(a.$t("settings.server_version")),1),e("td",null,t((c=l(n).serverInfo.value)==null?void 0:c.server_version),1)]),(h=l(n).serverInfo.value)!=null&&h.homeassistant_addon?w("",!0):(g(),p("tr",te,[e("td",null,t(a.$t("settings.server_base_url")),1),e("td",null,t((C=l(n).serverInfo.value)==null?void 0:C.base_url),1)])),e("tr",null,[e("td",null,t(a.$t("settings.server_as_addon")),1),e("td",null,[u(V,{icon:(k=l(n).serverInfo.value)!=null&&k.homeassistant_addon?"mdi-check":"mdi-close"},null,8,["icon"])])]),e("tr",null,[e("td",null,t(a.$t("settings.artists_in_library")),1),e("td",null,t(l(d).libraryArtistsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.albums_in_library")),1),e("td",null,t(l(d).libraryAlbumsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.tracks_in_library")),1),e("td",null,t(l(d).libraryTracksCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.playlists_in_library")),1),e("td",null,t(l(d).libraryPlaylistsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.radio_in_library")),1),e("td",null,t(l(d).libraryRadiosCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.server_logging")),1),e("td",null,[e("a",{href:`${l(n).baseUrl}/music-assistant.log`,target:"_blank"},t(a.$t("settings.download_log")),9,ae)])])])]}),_:1})]),_:1})])],64)}}});export{ce as default};

import{B as _e}from"./Button-C6-W0Jei.js";import{_ as Xa,s as be,c as Q,a as Le,o as Ve,w as ae,b as Ye,C as Ua,u as qe,d as mt,e as Ga,g as pe,p as he,f as vt,h as it,i as yt,j as Ne,t as oe,k as ft,l as pt,m as ht,n as ja,q as ot,r as st,v as pa,x as F,y as Ka,z as gt,A as ge,B as u,D as le,E as Za,V as Je,F as Ja,T as el,G as K,H as Xe,I as ze,J as bt,K as _t,L as tl,M as al,N as Se,O as At,P as Pt,Q as G,R as S,S as d,U as f,W as M,X as Qe,Y as et,Z as w,$ as ue,a0 as e,a1 as Ee,a2 as t,a3 as Be,a4 as x,a5 as X,a6 as Kt,a7 as tt,a8 as te,a9 as I,aa as nt,ab as V,ac as ll,ad as il,ae as ol,af as sl,ag as nl,ah as ha,ai as ga,aj as ba,ak as rl,al as _a,am as ie,an as se,ao as U,ap as wt,aq as Oe,ar as re,as as He,at as Zt,au as Jt,av as Me,aw as ve,ax as rt,ay as We,az as Aa,aA as ul,aB as dl,aC as Pa,aD as cl,aE as ml,aF as wa,aG as vl,aH as ka,aI as yl,aJ as fl,aK as Ca,aL as pl,aM as hl,aN as gl,aO as bl,aP as _l,aQ as Al,aR as ea,aS as Pl,aT as wl,aU as at,aV as kl,aW as Ue,aX as Ge,aY as lt,aZ as ut,a_ as De,a$ as Ce,b0 as Ia,b1 as Qa,b2 as Va,b3 as ta,b4 as aa,b5 as Cl,b6 as Il,b7 as Ql,b8 as Ke,b9 as Vl,ba as la,bb as ia,bc as oa,bd as Sl,be as sa,bf as Ie,bg as Sa,bh as $l,bi as Tl,bj as xl,bk as Bl}from"./index-C8Wvo59W.js";import{D as El}from"./constants-BXWEQHoz.js";import{u as kt,m as Ct,a as Ml,c as Ll,b as zl}from"./layout-D5VA38eE.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Re}from"./MediaItemThumb-DDMb_9k9.js";import{T as Fl,V as dt}from"./Toolbar-Bk_KlFQ2.js";import{V as $a}from"./VDialog-BKEcjOuu.js";import{V as Dl,a as ql}from"./VInfiniteScroll-DzhHULOU.js";import{V as Ol,a as ke,b as Ta,m as Wl}from"./VBtn-DmOE8ObX.js";import{V as Rl}from"./VSlider-BbdIm9Mu.js";import{L as Nl}from"./ListItem-BDnoqXe8.js";import{P as It,g as Hl,V as Yl,a as je}from"./PlayerCard-rBSgHgrY.js";import{M as ye,a as ct}from"./marquee_text_sync-BM6bVYJL.js";import{V as Xl}from"./VToolbar-COHqcQ5L.js";import{V as Ul}from"./VVirtualScroll-ZleTOGra.js";import{V as Gl,a as na,b as ra,c as ua}from"./VExpansionPanels-BO9iQD3i.js";import"./VCheckboxBtn-DZffJlMk.js";import"./VCheckbox-aZKtlmJa.js";const jl=fe(Xa,[["__scopeId","data-v-f0157380"]]),Kl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAKa0lEQVR42u3dW4ycdR3H4e87Mz1D2+1h27TAFiSRw4UaA4iJnPGYgIkmaLzwEO/VhCsT5aQXRuKlV96ZeAwmmpAQJZomysHoBSSmpQWhBFsoZUu37ba7nZnXi1LYtrszO9s9zbzPk/Si0GHKO+/vM///O4cttj89VgaopJpDAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAAAIACAAgAIAAgAAAAgAIACAAgAAAAgAIACAAgAAAAgAIACAAgAAAAgAIACAAgAAAAgAIACAAgAAAi6rhEFRTPclQLbnsvd+fSHK0nbQcGgFgcK0skk+uKfLAcD27Lq9l68qz//ztyeS14+389nArz5wqM1k6VlVQbH96zENdEVtqyYM7G/ns9nrW1qf/M+Ot5Kk3W3n8f80caTtmVgAMhOFa8tiuRm7bWk+9mPnPra0n9++oZ9OK5AevNfOWCAw0FwErNPy3dxn+968PFMltW+v50dWNbHOGCACDMfy1oocTo0g+tUUEBIDKDb8ICAAVH34REAAqPvwiIABUfPhFQACo+PCLgABQ8eEXAQGg4sMvAgJAxYf/ogjsEgEBoFLDf14EtoqAAFC54b8wAo/uamTY2SQAVGf4p0bgdhEQABZn+B9dRsM/NQJ3iIAAsPDDf8cyG34REAAqPvwiIABUfPini8BWZ5gAMHdbaskjfTT8F0bgMREQAC5h+Ef6b/hFQACYp+G/a3h2X+MlAgiA4XdNAAEw/MszAneKgABQveEXAQGg4sMvAgJAxYdfBASAig+/CAgAFR9+ERAAw1/x4RcBATD8FR9+ERAAw48ICIDh54MIPDIiAgJg+CsbgbuGRUAADL8IiIAAGH4REAEBMPwigAAYfhFgPjUcAsPfLxFIkh8eaOZI2zGxAjD8lYvAncP1PDrSyBZnrQAY/uqpi4AAGH4REAEBMPwiIAICYPhFQAQEwPBXOgKPiIAAGP7qRuAuERAAwy8CIiAAhr/iEXhopJHNzmoBMPzVjMA9w/U8LAICsBDD/7DhFwEBqJ6NRfLQSCN3G/6+isBDVzWyweMlAJdiVZE8uLOeewx/30Xg3m31PLijnpUeNwGYiyLJAxtquX9Hw/D3aQS+uLORBzbU4uETgJ6NNJKvjzSyylHq3xVcLfnGVY2M+OC7APT07JHk29vq2bnac0e/27mmyLeG6052AZi9a1YUuWu4npr57/+TvEju3lbPNQ0PpgDMcu//1c21bHL1aGBsXlnkK1tcCxCAWRiqJTdtqXn2H7BVwM2b69nojBeAbm5cXeSatXM/NO0yabbP/mqX/Xf7XrV6vL8ySfPcbcqzv18MH1pX5EbXdM7j2ug07t1YS2OO8//GeJknDjaze+zsaX37+iJf2tHIFWuLvrh9L8okr58s8/uDzTxzvEyjSO7ZUMt9O+rZPsOgNcvk2SOt/O5wOwdOldm2Kvny1nruGK4v+KstjdrZv9/fx1tOcgGY3qoiuXrd3PaKb4yX+d7eM3lxsnz/We0/R8r8Y+xMfnbdiq5DuNS379VrJ9v57kvN7Jn84Dn8hcOtPHO8nZ9ctyLbVhUXrUz+eLCVH7/RzIn3brK3mTw33sx3TpX55q6Ffb9FkeSay2pZVbQyUTrXbQGmcXmRbF3T+1nYLpMnDjbPG75zz5IvTJb5w6Fmx+XxUt9+Lsv+X77ROm/4z93fs6fKPHWoddH9HTpd5ucHW+8P/zkTZfKLt1vZd3zhv+976+oil9sFCMBM1iYZWjG3fffusXLa/WyZZPexsusAL+Xte3V4oszfxtozbg3+Ota+6P4OnGjn0Ax/idF28q+j7Sx0AjatPPsYIwDTWlkk6+Z4+f90a+YJO9Uql/3te7Hn3XbenOet9JOj7Uy0FnZtvq5W+GyAAHQ5KE6Qjppl8uej7XSa/1svu/hl1J3ratnc4djunyyz/0TpsRUAlrO3J8o8f2LmxfraIrlp4zQBWF3kox0uRB4vkxeOthflpUsEgAVa/u9qFPnw+osHvV5LPr+p83vynzzazqQCCAD9u/z/zFAta6d5Pa9Icv3GWsef8rt/ssy+EwIgAPTt8v/mjTO/jfqK2W4DHGoBYHCW/z1vA1pWAQJA/y3/N06//L9wG9Dp+/tftg0QAJbn8v+f3a7+D3X/FOUVq4t8rMM2YKxMXnzXNkAAWFb2HmvnUIen/5FGkevWd3+hfVbbgFHbAAFgeS3/Ry9t+d/LNmAx3hSEADBLR2Zz9X9o9l+i0u3VgLEyecE2QABYHvYc63z1f6TL1f/ptgFfsA0QAPpn+d/ssvxf18OH+W0DBICKLv9tAwSACi//p24DvBogACzz5f9f5nn5bxsgAPTR8v+5Dsv/NXNc/p9zpW2AANC/y/9dc1z+97QN8NkAAWB5Lv8/Pcfl/3nbgA1dtgETtgECwLJc/t8ydOk/QenKNd23AT4bIAAM2PJ/6jbgc7YBAkC1lv9TtwE3bKhlc4ezcZ9tgAAweMt/2wABYBnau0jL/6nbAK8GCAAVW/7bBggAy3D5/+wCvvnHNkAA6OPl/2y/+cc2QADoM60lWP5P3QZcbxsgACzh8n9yca/+X+iqNUU+YhsgACyNPe/Ozxd/XtI2YGg22wCPlQAw78v/p48uzfJ/6jbgho3dtwEvn7QGEADmffn/7PGlW/73tA3w48MEgHle/h9b2uV/r9uAMwogAMzj8r/r1f9iQZf/vW4D9p9QAAFgoJb/520D1sx8Z8dsAwSA+dPtx35d1Shy3frFO11m+6Yg2wABYICW/+dvAwrbgAXWcAjmz5ZakaTs8O+W5+2PninzyniZa+sznCRFcusiLv8/2AbU8ol1RfaMlzNG4qVj7dy4vpbC6Te30G5/esz7Kqe4tp786eOr0pjD2qjZ5cmo239zqW5fJml1uW2tyKIHYDb/T0WR9LIwabaT+/49kZe9kcgKYN4PZq0/b1/Mw30v12OKawCAAAACAAgAIADTantdZHAfW4dAADo5XSZjvnJqYB1rljnt4RWAmYyWyYGTzpBB9frJMqMeXgGYyXiZPD/ajkXA4GmVyfOjrYx7bAWgk1+/08or3mM+cP57op3fvONxFYAu3monj7/azOEJTxWD4vBEmZ++2syb5l8AZmP3eJnv7z2TfcdtB/p92b//eDsP7TuT3db+F/FhoC621ZKvba7nls21XLm2yPp6sSQfimH22u+9knPgZJl/jrbzq3daecszvwBcinVFMlQkqw1/Xzhdnn1Fx5N+Zz4NOEsny7O/wDUAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQAAAAQAEABAAQABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAAABAAQAEABAAEAAAAEABAAQAEAAAAEABAAQAEAAAAEA+tL/AYvYNHE2dY4wAAAAAElFTkSuQmCC";function Zl(a){let{rootEl:l,isSticky:s,layoutItemStyles:i}=a;const n=be(!1),o=be(0),r=Q(()=>{const v=typeof n.value=="boolean"?"top":n.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[v]:Le(o.value)}:{top:i.value.top}]});Ve(()=>{ae(s,v=>{v?window.addEventListener("scroll",y,{passive:!0}):window.removeEventListener("scroll",y)},{immediate:!0})}),Ye(()=>{window.removeEventListener("scroll",y)});let c=0;function y(){const v=c>window.scrollY?"up":"down",C=l.value.getBoundingClientRect(),b=parseFloat(i.value.top??0),m=window.scrollY-Math.max(0,o.value-b),g=C.height+Math.max(o.value,b)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;C.height<window.innerHeight-b?(n.value="top",o.value=b):v==="up"&&n.value==="bottom"||v==="down"&&n.value==="top"?(o.value=window.scrollY+C.top-_,n.value=!0):v==="down"&&g<=0?(o.value=0,n.value="bottom"):v==="up"&&m<=0&&(_?n.value!=="top"&&(o.value=-m+_+b,n.value="top"):(o.value=C.top+m,n.value="top")),c=window.scrollY}return{isStuck:n,stickyStyles:r}}const Jl=100,ei=20;function da(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function ca(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let l=0;for(let s=a.length-1;s>0;s--){if(a[s].t===a[s-1].t)continue;const i=da(l),n=(a[s].d-a[s-1].d)/(a[s].t-a[s-1].t);l+=(n-i)*Math.abs(n),s===a.length-1&&(l*=.5)}return da(l)*1e3}function ti(){const a={};function l(n){Array.from(n.changedTouches).forEach(o=>{(a[o.identifier]??(a[o.identifier]=new Ua(ei))).push([n.timeStamp,o])})}function s(n){Array.from(n.changedTouches).forEach(o=>{delete a[o.identifier]})}function i(n){var v;const o=(v=a[n])==null?void 0:v.values().reverse();if(!o)throw new Error(`No samples for touch id ${n}`);const r=o[0],c=[],y=[];for(const C of o){if(r[0]-C[0]>Jl)break;c.push({t:C[0],d:C[1].clientX}),y.push({t:C[0],d:C[1].clientY})}return{x:ca(c),y:ca(y),get direction(){const{x:C,y:b}=this,[m,g]=[Math.abs(C),Math.abs(b)];return m>g&&C>=0?"right":m>g&&C<=0?"left":g>m&&b>=0?"down":g>m&&b<=0?"up":ai()}}}return{addMovement:l,endTouch:s,getVelocity:i}}function ai(){throw new Error}function li(a){let{el:l,isActive:s,isTemporary:i,width:n,touchless:o,position:r}=a;Ve(()=>{window.addEventListener("touchstart",R,{passive:!0}),window.addEventListener("touchmove",N,{passive:!1}),window.addEventListener("touchend",q,{passive:!0})}),Ye(()=>{window.removeEventListener("touchstart",R),window.removeEventListener("touchmove",N),window.removeEventListener("touchend",q)});const c=Q(()=>["left","right"].includes(r.value)),{addMovement:y,endTouch:v,getVelocity:C}=ti();let b=!1;const m=be(!1),g=be(0),_=be(0);let T;function O(h,k){return(r.value==="left"?h:r.value==="right"?document.documentElement.clientWidth-h:r.value==="top"?h:r.value==="bottom"?document.documentElement.clientHeight-h:xe())-(k?n.value:0)}function D(h){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const $=r.value==="left"?(h-_.value)/n.value:r.value==="right"?(document.documentElement.clientWidth-h-_.value)/n.value:r.value==="top"?(h-_.value)/n.value:r.value==="bottom"?(document.documentElement.clientHeight-h-_.value)/n.value:xe();return k?Math.max(0,Math.min(1,$)):$}function R(h){if(o.value)return;const k=h.changedTouches[0].clientX,$=h.changedTouches[0].clientY,B=25,E=r.value==="left"?k<B:r.value==="right"?k>document.documentElement.clientWidth-B:r.value==="top"?$<B:r.value==="bottom"?$>document.documentElement.clientHeight-B:xe(),A=s.value&&(r.value==="left"?k<n.value:r.value==="right"?k>document.documentElement.clientWidth-n.value:r.value==="top"?$<n.value:r.value==="bottom"?$>document.documentElement.clientHeight-n.value:xe());(E||A||s.value&&i.value)&&(T=[k,$],_.value=O(c.value?k:$,s.value),g.value=D(c.value?k:$),b=_.value>-20&&_.value<80,v(h),y(h))}function N(h){const k=h.changedTouches[0].clientX,$=h.changedTouches[0].clientY;if(b){if(!h.cancelable){b=!1;return}const E=Math.abs(k-T[0]),A=Math.abs($-T[1]);(c.value?E>A&&E>3:A>E&&A>3)?(m.value=!0,b=!1):(c.value?A:E)>3&&(b=!1)}if(!m.value)return;h.preventDefault(),y(h);const B=D(c.value?k:$,!1);g.value=Math.max(0,Math.min(1,B)),B>1?_.value=O(c.value?k:$,!0):B<0&&(_.value=O(c.value?k:$,!1))}function q(h){if(b=!1,!m.value)return;y(h),m.value=!1;const k=C(h.changedTouches[0].identifier),$=Math.abs(k.x),B=Math.abs(k.y);(c.value?$>B&&$>400:B>$&&B>3)?s.value=k.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||xe()):s.value=g.value>.5}const P=Q(()=>m.value?{transform:r.value==="left"?`translateX(calc(-100% + ${g.value*n.value}px))`:r.value==="right"?`translateX(calc(100% - ${g.value*n.value}px))`:r.value==="top"?`translateY(calc(-100% + ${g.value*n.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${g.value*n.value}px))`:xe(),transition:"none"}:void 0);return qe(m,()=>{var $,B;const h=(($=l.value)==null?void 0:$.style.transform)??null,k=((B=l.value)==null?void 0:B.style.transition)??null;mt(()=>{var E,A,p,z;(A=l.value)==null||A.style.setProperty("transform",((E=P.value)==null?void 0:E.transform)||"none"),(z=l.value)==null||z.style.setProperty("transition",((p=P.value)==null?void 0:p.transition)||null)}),Ga(()=>{var E,A;(E=l.value)==null||E.style.setProperty("transform",h),(A=l.value)==null||A.style.setProperty("transition",k)})}),{isDragging:m,dragProgress:g,dragStyles:P}}function xe(){throw new Error}const ii=["start","end","left","right","top","bottom"],oi=he({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>ii.includes(a)},sticky:Boolean,...At(),...Se(),...al(),...tl({mobile:null}),..._t(),...Ct(),...bt(),...ze({tag:"nav"}),...Xe()},"VNavigationDrawer"),xa=pe()({name:"VNavigationDrawer",props:oi(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,l){let{attrs:s,emit:i,slots:n}=l;const{isRtl:o}=vt(),{themeClasses:r}=it(a),{borderClasses:c}=yt(a),{backgroundColorClasses:y,backgroundColorStyles:v}=Ne(oe(a,"color")),{elevationClasses:C}=ft(a),{displayClasses:b,mobile:m}=pt(a),{roundedClasses:g}=ht(a),_=ja(),T=ot(a,"modelValue",null,Y=>!!Y),{ssrBootStyles:O}=st(),{scopeId:D}=pa(),R=F(),N=be(!1),{runOpenDelay:q,runCloseDelay:P}=Za(a,Y=>{N.value=Y}),h=Q(()=>a.rail&&a.expandOnHover&&N.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),k=Q(()=>Ka(a.location,o.value)),$=Q(()=>a.persistent),B=Q(()=>!a.permanent&&(m.value||a.temporary)),E=Q(()=>a.sticky&&!B.value&&k.value!=="bottom");qe(()=>a.expandOnHover&&a.rail!=null,()=>{ae(N,Y=>i("update:rail",!Y))}),qe(()=>!a.disableResizeWatcher,()=>{ae(B,Y=>!a.permanent&&Pt(()=>T.value=!Y))}),qe(()=>!a.disableRouteWatcher&&!!_,()=>{ae(_.currentRoute,()=>B.value&&(T.value=!1))}),ae(()=>a.permanent,Y=>{Y&&(T.value=!0)}),a.modelValue==null&&!B.value&&(T.value=a.permanent||!m.value);const{isDragging:A,dragProgress:p}=li({el:R,isActive:T,isTemporary:B,width:h,touchless:oe(a,"touchless"),position:k}),z=Q(()=>{const Y=B.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):h.value;return A.value?Y*p.value:Y}),{layoutItemStyles:W,layoutItemScrimStyles:j}=kt({id:a.name,order:Q(()=>parseInt(a.order,10)),position:k,layoutSize:z,elementSize:h,active:Q(()=>T.value||A.value),disableTransitions:Q(()=>A.value),absolute:Q(()=>a.absolute||E.value&&typeof H.value!="string")}),{isStuck:H,stickyStyles:Z}=Zl({rootEl:R,isSticky:E,layoutItemStyles:W}),J=Ne(Q(()=>typeof a.scrim=="string"?a.scrim:null)),ne=Q(()=>({...A.value?{opacity:p.value*.2,transition:"none"}:void 0,...j.value}));return gt({VList:{bgColor:"transparent"}}),ge(()=>{const Y=n.image||a.image;return u(K,null,[u(a.tag,le({ref:R,onMouseenter:q,onMouseleave:P,class:["v-navigation-drawer",`v-navigation-drawer--${k.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":N.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":B.value,"v-navigation-drawer--persistent":$.value,"v-navigation-drawer--active":T.value,"v-navigation-drawer--sticky":E.value},r.value,y.value,c.value,b.value,C.value,g.value,a.class],style:[v.value,W.value,O.value,Z.value,a.style]},D,s),{default:()=>{var de,Ae,Fe;return[Y&&u("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?u(Ja,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},n.image):u(Je,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),n.prepend&&u("div",{class:"v-navigation-drawer__prepend"},[(de=n.prepend)==null?void 0:de.call(n)]),u("div",{class:"v-navigation-drawer__content"},[(Ae=n.default)==null?void 0:Ae.call(n)]),n.append&&u("div",{class:"v-navigation-drawer__append"},[(Fe=n.append)==null?void 0:Fe.call(n)])]}}),u(el,{name:"fade-transition"},{default:()=>[B.value&&(A.value||T.value)&&!!a.scrim&&u("div",le({class:["v-navigation-drawer__scrim",J.backgroundColorClasses.value],style:[ne.value,J.backgroundColorStyles.value],onClick:()=>{$.value||(T.value=!1)}},D),null)]})])}),{isStuck:H}}}),Ba=function(){const a=localStorage.getItem("frontend.settings.menu_items"),l=a?a.split(","):El,s=[];for(const i of l)i==="home"&&s.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),i==="search"&&s.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),i==="artists"&&s.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:t.libraryArtistsCount===0}),i==="albums"&&s.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:t.libraryAlbumsCount===0}),i==="tracks"&&s.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:t.libraryTracksCount===0}),i==="playlists"&&s.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:t.libraryPlaylistsCount===0}),i==="podcasts"&&s.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:t.libraryPodcastsCount===0}),i==="audiobooks"&&s.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:t.libraryAudiobooksCount===0}),i==="radios"&&s.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:t.libraryRadiosCount===0}),i==="browse"&&s.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),i==="settings"&&s.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return s},si=G({__name:"DrawerNavigation",setup(a){const l=F(localStorage.getItem("show_navigation_menu")==="true"),s=Ba();return ae(()=>l.value,i=>{localStorage.setItem("show_navigation_menu",i.toString())}),(i,n)=>(d(),S(xa,{app:"",rail:!l.value,width:280,permanent:""},{default:f(()=>[u(Qe,{style:{height:"55px"},active:!1},{prepend:f(()=>n[1]||(n[1]=[M("img",{class:"logo_icon",size:"40",src:Kl},null,-1)])),title:f(()=>n[2]||(n[2]=[M("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),u(et),u(Ee,{lines:"one",density:"compact",nav:""},{default:f(()=>[(d(!0),w(K,null,ue(e(s).filter(o=>!o.hidden),o=>(d(),S(Qe,{key:o.path,nav:"",density:"compact",height:15,title:i.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),u(_e,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:l.value?"mdi-chevron-left":"mdi-chevron-right",title:i.$t("tooltip.show_menu"),onClick:n[0]||(n[0]=o=>l.value=!l.value)},null,8,["icon","title"])]),_:1},8,["rail"]))}}),ni=fe(si,[["__scopeId","data-v-3b429b32"]]),ri={class:"media-thumb"},ui={style:{"margin-left":"-10px","padding-right":"5px"}},di=G({__name:"AddToPlaylistDialog",setup(a){const l=F(!1),s=F([]),i=F([]),n=F(),o=F([]);Ve(()=>{Be.on("playlistdialog",async C=>{l.value=!0,o.value=C.items,n.value=C.parentItem,await r()}),Ye(()=>{Be.off("playlistdialog")})});const r=async function(){s.value=[],i.value=[];const C=await x.getLibraryPlaylists();let b=o.value.length?o.value[0]:void 0;if(b){"provider_mappings"in b||(b=await x.getItem(b.media_type,b.item_id,b.provider));for(const m of C){if(!m.provider_mappings.filter(_=>_.available).length||!m.is_editable||n.value&&n.value.media_type===X.PLAYLIST&&m.item_id===n.value.item_id)continue;const g=x.providers[m.provider_mappings[0].provider_instance];g&&(g.domain=="builtin"||g.is_streaming_provider||b!=null&&b.provider_mappings.filter(_=>_.provider_instance==g.instance_id).length)&&s.value.push(m)}for(const m of Object.values(x.providers))m.supported_features.includes(Kt.PLAYLIST_CREATE)&&m.supported_features.includes(Kt.PLAYLIST_TRACKS_EDIT)&&(m.domain=="builtin"||m.is_streaming_provider||b!=null&&b.provider_mappings.filter(g=>g.provider_instance==m.instance_id).length)&&i.value.push(m.instance_id)}},c=async function(C){x.addPlaylistTracks(C.item_id,o.value.map(b=>b.uri)),v(),t.activeAlert={type:ll.INFO,message:te("background_task_added"),persistent:!1}},y=async function(C){const b=prompt(te("new_playlist_name"));if(!b)return;const m=await x.createPlaylist(b,C);c(m)},v=function(){l.value=!1};return(C,b)=>(d(),S($a,{modelValue:l.value,"onUpdate:modelValue":[b[0]||(b[0]=m=>l.value=m),b[1]||(b[1]=m=>{e(t).dialogActive=m})],fullscreen:"",transition:"dialog-bottom-transition"},{default:f(()=>[u(tt,null,{default:f(()=>[u(Fl,{icon:"mdi-playlist-plus",title:e(te)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:v}]},null,8,["title","menu-items"]),u(et),b[4]||(b[4]=M("br",null,null,-1)),u(Ee,null,{default:f(()=>[(d(!0),w(K,null,ue(s.value,m=>(d(),w("div",{key:m.item_id},[u(Qe,{onClick:g=>c(m)},{prepend:f(()=>[M("div",ri,[u(Re,{item:m,size:50},null,8,["item"])])]),title:f(()=>[M("div",null,V(m.name),1)]),subtitle:f(()=>[M("div",null,V(m.owner),1)]),append:f(()=>[m.provider_mappings?(d(),S(nt,{key:0,domain:m.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):I("",!0)]),_:2},1032,["onClick"])]))),128)),b[2]||(b[2]=M("div",{style:{height:"30px"}},null,-1)),u(et),b[3]||(b[3]=M("div",{style:{height:"30px"}},null,-1)),(d(!0),w(K,null,ue(i.value,m=>(d(),w("div",{key:m},[u(Qe,{onClick:g=>y(m)},{prepend:f(()=>[M("div",ui,[u(nt,{domain:e(x).providers[m].domain,size:50},null,8,["domain"])])]),title:f(()=>[M("div",null,V(e(te)("new_playlist")),1)]),subtitle:f(()=>[M("div",null,V(e(te)("create_playlist_on",[e(x).providers[m].name])),1)]),append:f(()=>[u(nt,{domain:e(x).providers[m].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1,__:[2,3]})]),_:1,__:[4]})]),_:1},8,["modelValue"]))}}),ci=fe(di,[["__scopeId","data-v-bd014719"]]),mi=he({scrollable:Boolean,...Se(),...ol(),...ze({tag:"main"})},"VMain"),vi=pe()({name:"VMain",props:mi(),setup(a,l){let{slots:s}=l;const{dimensionStyles:i}=il(a),{mainStyles:n}=Ml(),{ssrBootStyles:o}=st();return ge(()=>u(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[n.value,o.value,i.value,a.style]},{default:()=>{var r,c;return[a.scrollable?u("div",{class:"v-main__scroller"},[(r=s.default)==null?void 0:r.call(s)]):(c=s.default)==null?void 0:c.call(s)]}})),{}}}),ma=G({__name:"View",setup(a){return(l,s)=>{const i=nl("router-view");return d(),S(vi,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:f(()=>{var n,o,r;return[e(t).navigationMenuStyle=="vertical"&&!e(t).frameless?(d(),S(ni,{key:0})):I("",!0),u(i,null,{default:f(({Component:c})=>[(d(),S(sl(c)))]),_:1}),u(ci),u(jl),u(Dl,{"model-value":e(t).activeAlert!==void 0,color:((n=e(t).activeAlert)==null?void 0:n.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(t).activeAlert)!=null&&r.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),yi=he({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...At(),...Se(),..._a(),..._t(),...bt(),...Ct({name:"bottom-navigation"}),...ze({tag:"header"}),...rl({selectedClass:"v-btn--selected"}),...Xe()},"VBottomNavigation"),fi=pe()({name:"VBottomNavigation",props:yi(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:i}=ha(),{borderClasses:n}=yt(a),{backgroundColorClasses:o,backgroundColorStyles:r}=Ne(oe(a,"bgColor")),{densityClasses:c}=ga(a),{elevationClasses:y}=ft(a),{roundedClasses:v}=ht(a),{ssrBootStyles:C}=st(),b=Q(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),m=ot(a,"active",a.active),{layoutItemStyles:g}=kt({id:a.name,order:Q(()=>parseInt(a.order,10)),position:Q(()=>"bottom"),layoutSize:Q(()=>m.value?b.value:0),elementSize:b,active:m,absolute:oe(a,"absolute")});return ba(a,Ol),gt({VBtn:{baseColor:oe(a,"baseColor"),color:oe(a,"color"),density:oe(a,"density"),stacked:Q(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ge(()=>u(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},i.value,o.value,n.value,c.value,y.value,v.value,a.class],style:[r.value,g.value,{height:Le(b.value)},C.value,a.style]},{default:()=>[s.default&&u("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),pi={class:"menuButton"},hi={class:"menuButton"},gi={class:"menuButton"},bi=G({__name:"BottomNavigation",props:{height:{}},setup(a){const l=Ba(),s=F(!1);return(i,n)=>(d(),S(fi,{height:i.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:f(()=>[e(ie)("tablet")?(d(!0),w(K,{key:0},ue(e(l),o=>(d(),S(ke,{key:o.label,to:o.path,"aria-label":i.$t(o.label),tabindex:"0"},{default:f(()=>[u(se,{size:"xx-large"},{default:f(()=>[U(V(o.icon),1)]),_:2},1024),M("span",pi,V(i.$t(o.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(d(),w(K,{key:1},[(d(!0),w(K,null,ue(e(l).filter(o=>!o.isLibraryNode),o=>(d(),S(ke,{key:o.label,to:o.path,"aria-label":i.$t(o.label),tabindex:"0"},{default:f(()=>[u(se,{size:"xx-large"},{default:f(()=>[U(V(o.icon),1)]),_:2},1024),M("span",hi,V(i.$t(o.label)),1)]),_:2},1032,["to","aria-label"]))),128)),u(wt,null,{activator:f(({props:o})=>[u(ke,le(o,{"aria-haspopup":"true","aria-expanded":s.value.toString(),"aria-label":"Open library menu"}),{default:f(()=>[u(se,{size:"xx-large"},{default:f(()=>n[0]||(n[0]=[U("mdi-bookshelf")])),_:1,__:[0]}),M("span",gi,V(i.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:f(()=>[u(Ee,null,{default:f(()=>[(d(!0),w(K,null,ue(e(l).filter(o=>o.isLibraryNode),o=>(d(),S(Qe,{key:o.label,title:i.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),_i=fe(bi,[["__scopeId","data-v-5c8e33d1"]]),Ai={style:{width:"auto"}},Pi={key:0,style:{width:"100%"}},wi=["onClick"],ki={key:0,class:"time-text-row"},Ci={class:"text-caption time-text-right"},Ii=G({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1},color:{default:void 0}},setup(a){const l=F(!1),s=F(!0),i=F(!1),n=F(0),o=F(0),r=Q(()=>t.curQueueItem?l.value?`-${Oe(t.curQueueItem.duration-y.value)}`:`${Oe(y.value)}`:"0:00"),c=Q(()=>{var _;if(!t.curQueueItem||!t.curQueueItem.duration||((_=t.curQueueItem.media_item)==null?void 0:_.media_type)==X.RADIO)return"";const g=t.curQueueItem.duration;return Oe(g)}),y=Q(()=>i.value?(o.value=n.value,n.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0),v=Q(()=>{var _,T,O;const g={};return(O=(T=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:T.metadata)!=null&&O.chapters&&t.curQueueItem.media_item.metadata.chapters.forEach(D=>{g[D.start]=D.name}),g});ae(y,g=>{i.value||(n.value=g)});const C=function(){i.value=!0},b=()=>{i.value=!1,!i.value&&t.activePlayer&&x.playerCommandSeek(t.activePlayer.player_id,Math.round(o.value))},m=function(g){var _,T,O;if((O=(T=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:T.metadata)!=null&&O.chapters){for(const D of t.curQueueItem.media_item.metadata.chapters)if(D.start==g){x.playMedia(t.curQueueItem.media_item.uri,void 0,void 0,D.position.toString());return}}};return(g,_)=>{var T,O;return d(),w("div",Ai,[e(t).activePlayerQueue?(d(),w("div",Pi,[u(Rl,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=D=>n.value=D),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||!e(t).curQueueItem.duration||e(t).curQueueItem.media_item.media_type==e(X).RADIO||((T=e(t).activePlayer)==null?void 0:T.powered)==!1,style:{width:"100%"},min:0,max:(O=e(t).curQueueItem)==null?void 0:O.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,"show-ticks":v.value?"always":!1,ticks:v.value,"tick-size":"4",color:g.color,onTouchstart:_[1]||(_[1]=D=>s.value=!1),onTouchend:_[2]||(_[2]=D=>s.value=!0),onMouseenter:_[3]||(_[3]=D=>s.value=!1),onMouseleave:_[4]||(_[4]=D=>s.value=!0),onStart:C,onEnd:b},{"tick-label":f(({tick:D})=>[g.showLabels&&!s.value&&Object.values(v.value).length<6?(d(),w("a",{key:0,class:"text-caption",onClick:R=>m(D.value)},V(D.label),9,wi)):I("",!0)]),_:1},8,["modelValue","disabled","max","thumb-size","show-ticks","ticks","color"]),g.showLabels?(d(),w("div",ki,[M("div",{class:"text-caption time-text-left",onClick:_[5]||(_[5]=D=>l.value?l.value=!1:l.value=!0)},V(r.value),1),M("div",Ci,V(c.value),1)])):I("",!0)])):I("",!0)])}}}),Ea=fe(Ii,[["__scopeId","data-v-5386447e"]]),Qi=G({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(a,{emit:l}){const s=()=>{if(i.value){const o=i.value.offsetWidth,r=i.value.offsetHeight,c=Math.min(o,r);n.value.$el.style.fontSize=`${c}px`}},i=F(),n=F();return Ve(()=>{s(),window.addEventListener("resize",s)}),Ye(()=>{window.removeEventListener("resize",s)}),(o,r)=>(d(),w("div",{ref_key:"responsiveIconHolder",ref:i,class:He([o.type=="btn"&&!o.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:re({width:o.staticWidth?o.staticWidth:o.width,height:o.staticWidth?o.staticWidth:o.height,maxHeight:o.staticHeight?o.staticHeight:o.maxHeight,maxWidth:o.staticWidth?o.staticWidth:o.maxWidth,minHeight:o.staticHeight?o.staticHeight:o.minHeight,minWidth:o.staticWidth?o.staticWidth:o.minWidth}),onClick:r[0]||(r[0]=c=>o.disabled?c.preventDefault():o.$emit("click",c))},[u(dt,{"model-value":o.badge==!0,color:"error",dot:""},{default:f(()=>[o.type==="icon"?(d(),S(se,{key:0,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},Zt({_:2},[ue(o.$slots,(c,y)=>({name:y,fn:f(()=>[Jt(o.$slots,y,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):o.type==="btn"?(d(),S(se,{key:1,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},Zt({_:2},[ue(o.$slots,(c,y)=>({name:y,fn:f(()=>[Jt(o.$slots,y,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):I("",!0)]),_:3},8,["model-value"])],6))}}),$e=fe(Qi,[["__scopeId","data-v-2c9253ab"]]),Ma=G({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var i,n;return l.isVisible&&l.playerQueue?(d(),S($e,le({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Me)((i=l.icon)==null?void 0:i.color,[[l.playerQueue.repeat_mode==e(ve).OFF,null],[l.playerQueue.repeat_mode==e(ve).ALL,"primary"],[l.playerQueue.repeat_mode==e(ve).ONE,"primary"]]),icon:e(Me)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.repeat_mode==e(ve).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(ve).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(ve).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:s[0]||(s[0]=o=>e(x).queueCommandRepeat(l.playerQueue.queue_id||"",e(Me)(null,[[l.playerQueue.repeat_mode==e(ve).OFF,e(ve).ONE],[l.playerQueue.repeat_mode==e(ve).ALL,e(ve).OFF],[l.playerQueue.repeat_mode==e(ve).ONE,e(ve).ALL]])))}),null,16,["disabled","color","icon"])):I("",!0)}}}),La=G({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var i,n;return l.isVisible&&l.playerQueue?(d(),S($e,le({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Me)((i=l.icon)==null?void 0:i.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Me)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:s[0]||(s[0]=o=>e(x).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):I("",!0)}}}),za=G({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(a){const l=a,s=Q(()=>l.playerQueue?l.playerQueue.items>0:!1),i=Q(()=>{var o;return!(!l.player||(o=l.playerQueue)!=null&&o.active||!l.player.current_media)}),n=Q(()=>{var o;return((o=l.player)==null?void 0:o.state)==rt.PLAYING?"mdi-pause":"mdi-play"});return(o,r)=>o.isVisible&&o.player?(d(),S($e,le({key:0},o.icon,{disabled:!s.value&&!i.value,icon:o.iconStyle?`${n.value}-${o.iconStyle}`:n.value,type:"btn",onClick:r[0]||(r[0]=c=>e(x).playerCommandPlayPause(o.player.player_id))}),null,16,["disabled","icon"])):I("",!0)}}),Fa=G({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=Q(()=>{var n,o;return!((n=l.playerQueue)!=null&&n.active)||!((o=l.playerQueue)!=null&&o.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),i=Q(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(We.NEXT_PREVIOUS)});return(n,o)=>n.isVisible&&n.player?(d(),S($e,le({key:0},n.icon,{disabled:!s.value&&!i.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:o[0]||(o[0]=r=>e(x).playerCommandPrevious(n.player.player_id))}),null,16,["disabled"])):I("",!0)}}),Da=G({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=Q(()=>{var n;return(n=l.playerQueue)!=null&&n.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),i=Q(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(We.NEXT_PREVIOUS)});return(n,o)=>n.isVisible&&n.player?(d(),S($e,le({key:0},n.icon,{disabled:!s.value&&!i.value,icon:"mdi-skip-next-outline",type:"btn",onClick:o[0]||(o[0]=r=>e(x).playerCommandNext(n.player.player_id))}),null,16,["disabled"])):I("",!0)}}),Vi={key:0,class:"player-controls"},Si={key:0,class:"player-controls-elements"},$i={key:1,class:"player-controls-elements"},Ti={key:2},xi={key:3,class:"player-controls-elements"},Bi={key:4,class:"player-controls-elements"},va=G({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(l,s)=>{var i,n,o,r,c;return l.visibleComponents?(d(),w("div",Vi,[l.visibleComponents&&((i=l.visibleComponents.shuffle)!=null&&i.isVisible)?(d(),w("div",Si,[u(La,{"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):I("",!0),l.visibleComponents&&((n=l.visibleComponents.previous)!=null&&n.isVisible)?(d(),w("div",$i,[u(Fa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):I("",!0),l.visibleComponents&&((o=l.visibleComponents.play)!=null&&o.isVisible)?(d(),w("div",Ti,[u(za,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):I("",!0),l.visibleComponents&&((r=l.visibleComponents.next)!=null&&r.isVisible)?(d(),w("div",xi,[u(Da,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):I("",!0),l.visibleComponents&&((c=l.visibleComponents.repeat)!=null&&c.isVisible)?(d(),w("div",Bi,[u(Ma,{"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):I("",!0)])):I("",!0)}}}),Ei={class:"lyrics-container"},Mi={key:0,class:"lyrics-loading"},Li={key:1,class:"lyrics-empty"},zi={key:2,class:"lyrics-intro"},Fi={class:"song-title"},Di={class:"artist-name"},qi={class:"lyrics-coming-soon"},Oi=G({__name:"LyricsViewer",props:{mediaItem:{default:void 0},position:{default:void 0},duration:{default:void 0},streamDetails:{default:void 0},textColor:{default:"#FFFFFF"},debugMode:{type:Boolean,default:!1}},setup(a){Aa(P=>({"762ad436":P.textColor}));const l=a,s=(P,h=!0)=>{if(h&&!l.debugMode)return;(h?console.debug:console.log)(`[lyricSynch] ${P}`)},i=F([]),n=F(!1),o=F(-1),r=F(null),c=F(!1),y=F(0),v=F(0),C=Q(()=>{if(!m.value||!i.value.length)return!1;const P=i.value[0].time,h=l.position||0;return o.value===-1&&h<P}),b=Q(()=>{var P;if(!l.mediaItem)return"";if("media_type"in l.mediaItem&&l.mediaItem.media_type==="track"){const h=l.mediaItem;if((P=h.artists)!=null&&P.length)return h.artists.map(k=>k.name).join(", ")}return"media_type"in l.mediaItem&&l.mediaItem.media_type==="artist"?l.mediaItem.name:""});Q(()=>{var k,$,B,E;const P=($=(k=l.mediaItem)==null?void 0:k.metadata)==null?void 0:$.lyrics,h=(E=(B=l.mediaItem)==null?void 0:B.metadata)==null?void 0:E.lrc_lyrics;return!!P&&P.trim().length>0||!!h&&h.trim().length>0});const m=Q(()=>{var P,h,k,$,B,E;return(h=(P=l.mediaItem)==null?void 0:P.metadata)!=null&&h.lrc_lyrics?!0:!(($=(k=l.mediaItem)==null?void 0:k.metadata)!=null&&$.lrc_lyrics)&&((E=(B=l.mediaItem)==null?void 0:B.metadata)!=null&&E.lyrics)?!1:i.value.some(A=>A.time>0)}),g=P=>{const h=P.match(/\[(\d+):(\d+)([.:]\d+)?\](.*)/);if(h){const k=parseInt(h[1]);let $=parseInt(h[2]),B=0;if(h[3]){const p=h[3].replace(/[.:]/,".");B=Math.round(parseFloat(p)*1e3)}return{time:(k*60*1e3+$*1e3+B)/1e3,text:h[4].trim()||" "}}return{time:0,text:P.trim()||" "}},_=()=>{var P,h;if(!l.mediaItem){i.value=[];return}n.value=!0;try{const k=((P=l.mediaItem.metadata)==null?void 0:P.lrc_lyrics)||"",$=((h=l.mediaItem.metadata)==null?void 0:h.lyrics)||"";if(k){const B=k.split(`
`).filter(E=>E.trim());i.value=B.map(E=>g(E)).filter(E=>E.text).sort((E,A)=>E.time-A.time),s(`Loaded ${i.value.length} synchronized lyrics lines`,!1),s(`Processed synced lyrics: ${i.value.length} lines`)}else if($){const B=$.split(`
`).filter(E=>E.trim());i.value=B.map(E=>({time:0,text:E.trim()||" "})).filter(E=>E.text),s(`Loaded ${i.value.length} plain text lyrics lines`,!1),s(`Processed plain lyrics: ${i.value.length} lines`)}else i.value=[]}catch(k){s(`Error processing lyrics: ${k}`,!1),i.value=[]}finally{n.value=!1}},T=P=>{const h=P;s(`Calculating look-ahead at ${P.toFixed(3)}s`);let k=-1,$=-1;for(let J=0;J<i.value.length;J++)if(i.value[J].time<=h)k=J;else{$=J;break}if(s(`Current lyric index: ${k}, Next lyric index: ${$}`),$===0){const ne=i.value[0].time-h;if(s(`Pre-lyrics intro: ${ne.toFixed(2)}s until first lyric`),ne>5){s("Long intro - using fixed look-ahead: 0.3s"),y.value=.3;return}else if(ne>2){const Y=Math.min(1,ne*.15);s(`Medium intro - calculated look-ahead: ${Y.toFixed(2)}s`),y.value=Y;return}s("Short intro - using standard calculation")}if($===-1||k===-1){s("Cannot determine appropriate look-ahead, using default: 0.3s"),y.value=.3;return}const B=i.value[k].time,E=i.value[$].time,A=E-B,p=y.value;s(`Gap analysis:
    - Current lyric time: ${B.toFixed(3)}s
    - Next lyric time: ${E.toFixed(3)}s
    - Gap between lyrics: ${A.toFixed(3)}s
    - Previous look-ahead: ${p.toFixed(3)}s`);let z;A<.5?(z=.3,s(`Very rapid lyrics detected (${A.toFixed(2)}s gap) - using 30% look-ahead`)):A<.8?(z=.1,s(`Fast lyrics detected (${A.toFixed(2)}s gap) - using 10% look-ahead`)):A<1.5?(z=.2,s(`Medium lyrics detected (${A.toFixed(2)}s gap) - using 20% look-ahead`)):A<3?(z=.3,s(`Slower lyrics detected (${A.toFixed(2)}s gap) - using 30% look-ahead`)):A>10?(z=.02,s(`Very slow lyrics detected (${A.toFixed(2)}s gap) - using 2% look-ahead`)):(z=.4,s(`Slow lyrics detected (${A.toFixed(2)}s gap) - using 40% look-ahead`));const W=Math.min(1.5,A*z);s(`Target look-ahead: ${W.toFixed(3)}s`);const j=Math.abs(W-p),H=Math.min(.8,.3+j*.5),Z=p*(1-H)+W*H;s(`Smoothed look-ahead: ${Z.toFixed(3)}s (adaptation rate: ${(H*100).toFixed(0)}%)`),Math.abs(Z-p)>.3&&s(`Look-ahead adjusted: ${p.toFixed(2)}s â†’ ${Z.toFixed(2)}s`,!1),y.value=Z},O=P=>P===void 0||!i.value.length||!m.value||c.value,D=P=>{const h=Math.round((P+y.value)*1e3);let k=-1;for(let $=0;$<i.value.length&&Math.round(i.value[$].time*1e3)<=h;$++)k=$;return k},R=(P,h)=>{P<0||P===o.value||(s(`Lyric activated: "${i.value[P].text}"`),s(`Activating lyric at ${h.toFixed(2)}s (adjusted: ${(h+y.value).toFixed(2)}s):
    - Index: ${P}
    - Lyric time: ${i.value[P].time.toFixed(2)}s`),s(`Transition details:
    - Raw position: ${h.toFixed(3)}s
    - Dynamic look-ahead: ${y.value.toFixed(3)}s
    - Adjusted position: ${(h+y.value).toFixed(3)}s`),P>0&&N(P,h),v.value=h,o.value=P,Pt(()=>q()))},N=(P,h)=>{const k=h-v.value,$=i.value[P].time-i.value[P-1].time;s(`Timing analysis:
    - Expected gap: ${$.toFixed(3)}s
    - Actual gap: ${k.toFixed(3)}s
    - Difference: ${(k-$).toFixed(3)}s`)},q=()=>{const P=document.querySelector(".lyrics-line.active"),h=r.value;P&&h&&P.scrollIntoView({behavior:"smooth",block:"center"})};return ae(()=>{var P;return(P=l.mediaItem)==null?void 0:P.item_id},()=>{_()},{immediate:!0}),ae(()=>l.position,P=>{if(O(P))return;const h=P??0;T(h);const k=D(h);k!==o.value&&R(k,h)}),Ve(()=>{const P=r.value;P&&P.addEventListener("scroll",()=>{c.value=!0,setTimeout(()=>{c.value=!1},8e3)},{passive:!0})}),(P,h)=>{var k;return d(),w("div",Ei,[n.value?(d(),w("div",Mi,[u(Ta,{indeterminate:"",color:P.textColor},null,8,["color"]),M("div",null,V(e(te)("loading_lyrics")),1)])):i.value.length?C.value&&m.value?(d(),w("div",zi,[M("div",Fi,V((k=l.mediaItem)==null?void 0:k.name),1),M("div",Di,V(b.value),1),M("div",qi,V(e(te)("lyrics_will_appear_soon")),1)])):(d(),w("div",{key:3,ref_key:"lyricsContainer",ref:r,class:He(["lyrics-scroll-container",{"static-lyrics":!m.value}])},[(d(!0),w(K,null,ue(i.value,($,B)=>(d(),w("div",{key:B,class:He(["lyrics-line",{active:o.value===B||!m.value}])},V($.text),3))),128))],2)):(d(),w("div",Li,V(e(te)("no_lyrics_available")),1))])}}}),Wi=fe(Oi,[["__scopeId","data-v-73a4fec0"]]),qa=G({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,i)=>{var n;return s.isVisible?(d(),S($e,le({key:0},s.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(Me)((n=s.icon)==null?void 0:n.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):I("",!0)}}}),Oa=G({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,s)=>(d(),S(_e,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=i=>e(t).showPlayersMenu=!0)},{default:f(()=>{var i;return[u(se,{color:l.color?l.color:"",size:24,icon:(i=e(t).activePlayer)!=null&&i.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),Qt=Symbol.for("vuetify:v-tabs"),Ri=he({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Pa(Wl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Ze=pe()({name:"VTab",props:Ri(),setup(a,l){let{slots:s,attrs:i}=l;const{textColorClasses:n,textColorStyles:o}=ul(a,"sliderColor"),r=F(),c=F(),y=Q(()=>a.direction==="horizontal"),v=Q(()=>{var b,m;return((m=(b=r.value)==null?void 0:b.group)==null?void 0:m.isSelected.value)??!1});function C(b){var g,_;let{value:m}=b;if(m){const T=(_=(g=r.value)==null?void 0:g.$el.parentElement)==null?void 0:_.querySelector(".v-tab--selected .v-tab__slider"),O=c.value;if(!T||!O)return;const D=getComputedStyle(T).color,R=T.getBoundingClientRect(),N=O.getBoundingClientRect(),q=y.value?"x":"y",P=y.value?"X":"Y",h=y.value?"right":"bottom",k=y.value?"width":"height",$=R[q],B=N[q],E=$>B?R[h]-N[h]:R[q]-N[q],A=Math.sign(E)>0?y.value?"right":"bottom":Math.sign(E)<0?y.value?"left":"top":"center",z=(Math.abs(E)+(Math.sign(E)<0?R[k]:N[k]))/Math.max(R[k],N[k])||0,W=R[k]/N[k]||0,j=1.5;cl(O,{backgroundColor:[D,"currentcolor"],transform:[`translate${P}(${E}px) scale${P}(${W})`,`translate${P}(${E/j}px) scale${P}(${(z-1)/j+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:ml})}}return ge(()=>{const b=ke.filterProps(a);return u(ke,le({symbol:Qt,ref:r,class:["v-tab",a.class],style:a.style,tabindex:v.value?0:-1,role:"tab","aria-selected":String(v.value),active:!1},b,i,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":C}),{...s,default:()=>{var m;return u(K,null,[((m=s.default)==null?void 0:m.call(s))??a.text,!a.hideSlider&&u("div",{ref:c,class:["v-tab__slider",n.value],style:o.value},null)])}})}),dl({},r)}}),Ni=a=>{const{touchstartX:l,touchendX:s,touchstartY:i,touchendY:n}=a,o=.5,r=16;a.offsetX=s-l,a.offsetY=n-i,Math.abs(a.offsetY)<o*Math.abs(a.offsetX)&&(a.left&&s<l-r&&a.left(a),a.right&&s>l+r&&a.right(a)),Math.abs(a.offsetX)<o*Math.abs(a.offsetY)&&(a.up&&n<i-r&&a.up(a),a.down&&n>i+r&&a.down(a))};function Hi(a,l){var i;const s=a.changedTouches[0];l.touchstartX=s.clientX,l.touchstartY=s.clientY,(i=l.start)==null||i.call(l,{originalEvent:a,...l})}function Yi(a,l){var i;const s=a.changedTouches[0];l.touchendX=s.clientX,l.touchendY=s.clientY,(i=l.end)==null||i.call(l,{originalEvent:a,...l}),Ni(l)}function Xi(a,l){var i;const s=a.changedTouches[0];l.touchmoveX=s.clientX,l.touchmoveY=s.clientY,(i=l.move)==null||i.call(l,{originalEvent:a,...l})}function Ui(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>Hi(s,l),touchend:s=>Yi(s,l),touchmove:s=>Xi(s,l)}}function Gi(a,l){var c;const s=l.value,i=s!=null&&s.parent?a.parentElement:a,n=(s==null?void 0:s.options)??{passive:!0},o=(c=l.instance)==null?void 0:c.$.uid;if(!i||!o)return;const r=Ui(l.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[o]=r,wa(r).forEach(y=>{i.addEventListener(y,r[y],n)})}function ji(a,l){var o,r;const s=(o=l.value)!=null&&o.parent?a.parentElement:a,i=(r=l.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!i)return;const n=s._touchHandlers[i];wa(n).forEach(c=>{s.removeEventListener(c,n[c])}),delete s._touchHandlers[i]}const Wa={mounted:Gi,unmounted:ji},Ra=Symbol.for("vuetify:v-window"),Na=Symbol.for("vuetify:v-window-group"),Ha=he({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Se(),...ze(),...Xe()},"VWindow"),ya=pe()({name:"VWindow",directives:{Touch:Wa},props:Ha(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:i}=it(a),{isRtl:n}=vt(),{t:o}=vl(),r=ba(a,Na),c=F(),y=Q(()=>n.value?!a.reverse:a.reverse),v=be(!1),C=Q(()=>{const q=a.direction==="vertical"?"y":"x",h=(y.value?!v.value:v.value)?"-reverse":"";return`v-window-${q}${h}-transition`}),b=be(0),m=F(void 0),g=Q(()=>r.items.value.findIndex(q=>r.selected.value.includes(q.id)));ae(g,(q,P)=>{const h=r.items.value.length,k=h-1;h<=2?v.value=q<P:q===k&&P===0?v.value=!0:q===0&&P===k?v.value=!1:v.value=q<P}),fl(Ra,{transition:C,isReversed:v,transitionCount:b,transitionHeight:m,rootRef:c});const _=Q(()=>a.continuous||g.value!==0),T=Q(()=>a.continuous||g.value!==r.items.value.length-1);function O(){_.value&&r.prev()}function D(){T.value&&r.next()}const R=Q(()=>{const q=[],P={icon:n.value?a.nextIcon:a.prevIcon,class:`v-window__${y.value?"right":"left"}`,onClick:r.prev,"aria-label":o("$vuetify.carousel.prev")};q.push(_.value?s.prev?s.prev({props:P}):u(ke,P,null):u("div",null,null));const h={icon:n.value?a.prevIcon:a.nextIcon,class:`v-window__${y.value?"left":"right"}`,onClick:r.next,"aria-label":o("$vuetify.carousel.next")};return q.push(T.value?s.next?s.next({props:h}):u(ke,h,null):u("div",null,null)),q}),N=Q(()=>a.touch===!1?a.touch:{...{left:()=>{y.value?O():D()},right:()=>{y.value?D():O()},start:P=>{let{originalEvent:h}=P;h.stopPropagation()}},...a.touch===!0?{}:a.touch});return ge(()=>ka(u(a.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},i.value,a.class],style:a.style},{default:()=>{var q,P;return[u("div",{class:"v-window__container",style:{height:m.value}},[(q=s.default)==null?void 0:q.call(s,{group:r}),a.showArrows!==!1&&u("div",{class:"v-window__controls"},[R.value])]),(P=s.additional)==null?void 0:P.call(s,{group:r})]}}),[[yl("touch"),N.value]])),{group:r}}}),Ki=he({...Pa(Ha(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Zi=pe()({name:"VTabsWindow",props:Ki(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const i=Ca(Qt,null),n=ot(a,"modelValue"),o=Q({get(){var r;return n.value!=null||!i?n.value:(r=i.items.value.find(c=>i.selected.value.includes(c.id)))==null?void 0:r.value},set(r){n.value=r}});return ge(()=>{const r=ya.filterProps(a);return u(ya,le({_as:"VTabsWindow"},r,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),s)}),{}}}),Ya=he({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Se(),..._l(),...bl()},"VWindowItem"),fa=pe()({name:"VWindowItem",directives:{Touch:Wa},props:Ya(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:s}=l;const i=Ca(Ra),n=pl(a,Na),{isBooted:o}=st();if(!i||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=be(!1),c=Q(()=>o.value&&(i.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function y(){!r.value||!i||(r.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function v(){var _;r.value||!i||(r.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Le((_=i.rootRef.value)==null?void 0:_.clientHeight)),i.transitionCount.value+=1)}function C(){y()}function b(_){r.value&&Pt(()=>{!c.value||!r.value||!i||(i.transitionHeight.value=Le(_.clientHeight))})}const m=Q(()=>{const _=i.isReversed.value?a.reverseTransition:a.transition;return c.value?{name:typeof _!="string"?i.transition.value:_,onBeforeEnter:v,onAfterEnter:y,onEnterCancelled:C,onBeforeLeave:v,onAfterLeave:y,onLeaveCancelled:C,onEnter:b}:!1}),{hasContent:g}=hl(a,n.isSelected);return ge(()=>u(gl,{transition:m.value,disabled:!o.value},{default:()=>{var _;return[ka(u("div",{class:["v-window-item",n.selectedClass.value,a.class],style:a.style},[g.value&&((_=s.default)==null?void 0:_.call(s))]),[[Al,n.isSelected.value]])]}})),{groupItem:n}}}),Ji=he({...Ya()},"VTabsWindowItem"),eo=pe()({name:"VTabsWindowItem",props:Ji(),setup(a,l){let{slots:s}=l;return ge(()=>{const i=fa.filterProps(a);return u(fa,le({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function to(a){return a?a.map(l=>wl(l)?l:{text:l,value:l}):[]}const ao=he({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Pl({mandatory:"force",selectedClass:"v-tab-item--selected"}),..._a(),...ze()},"VTabs"),lo=pe()({name:"VTabs",props:ao(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:s,slots:i}=l;const n=ot(a,"modelValue"),o=Q(()=>to(a.items)),{densityClasses:r}=ga(a),{backgroundColorClasses:c,backgroundColorStyles:y}=Ne(oe(a,"bgColor")),{scopeId:v}=pa();return gt({VTab:{color:oe(a,"color"),direction:oe(a,"direction"),stacked:oe(a,"stacked"),fixed:oe(a,"fixedTabs"),sliderColor:oe(a,"sliderColor"),hideSlider:oe(a,"hideSlider")}}),ge(()=>{const C=ea.filterProps(a),b=!!(i.window||a.items.length>0);return u(K,null,[u(ea,le(C,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},r.value,c.value,a.class],style:[{"--v-tabs-height":Le(a.height)},y.value,a.style],role:"tablist",symbol:Qt},v,s),{default:()=>{var m;return[((m=i.default)==null?void 0:m.call(i))??o.value.map(g=>{var _;return((_=i.tab)==null?void 0:_.call(i,{item:g}))??u(Ze,le(g,{key:g.text,value:g.value}),{default:i[`tab.${g.value}`]?()=>{var T;return(T=i[`tab.${g.value}`])==null?void 0:T.call(i,{item:g})}:void 0})})]}}),b&&u(Zi,le({modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,key:"tabs-window"},v),{default:()=>{var m;return[o.value.map(g=>{var _;return((_=i.item)==null?void 0:_.call(i,{item:g}))??u(eo,{value:g.value},{default:()=>{var T;return(T=i[`item.${g.value}`])==null?void 0:T.call(i,{item:g})}})}),(m=i.window)==null?void 0:m.call(i)]}})])}),{}}}),io=["onClick"],oo={class:"main"},so={key:0,class:"main-media-details"},no={key:0,class:"main-media-details-image"},ro={class:"main-media-details-track-info"},uo={key:0},co={key:0},mo={key:11,style:{margin:"auto","padding-top":"20px"}},vo={key:1,class:"main-queue-items"},yo={class:"queue-items-scroll-box"},fo={class:"media-thumb listitem-media-thumb"},po={class:"d-flex"},ho={style:{"white-space":"nowrap"},class:"pr-1"},go={key:0},bo={key:0,style:{"margin-left":"50px"}},_o={key:0,class:"text-caption"},Ao={key:1,class:"lyrics-wrapper"},Po={key:2,class:"main-queue-items"},wo={class:"main-media-details-image main-media-details-image-alt"},ko={class:"player-bottom"},Co={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},Io={class:"media-controls"},Qo={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},Vo={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},So=G({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{name:l}=pt(),s=a,i=new ct,n=F(-1),o=new ct,r=F([]),c=F(0),y=F(!1),v=Q(()=>t.activePlayerQueue?r.value.slice(t.activePlayerQueue.current_index):[]),C=Q(()=>t.activePlayerQueue?r.value.slice(0,t.activePlayerQueue.current_index).reverse():[]),b=Q(()=>{var z,W,j,H,Z,J;const A=(j=(W=(z=t.curQueueItem)==null?void 0:z.media_item)==null?void 0:W.metadata)==null?void 0:j.lyrics,p=(J=(Z=(H=t.curQueueItem)==null?void 0:H.media_item)==null?void 0:Z.metadata)==null?void 0:J.lrc_lyrics;return!!A&&A.trim().length>0||!!p&&p.trim().length>0}),m=Q(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),g=Q(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),_=Q(()=>at.display.height.value>800),T=function(A){t.showFullscreenPlayer=!1,ta.push({name:A.media_type,params:{itemId:A.item_id,provider:A.provider}})},O=function(A){t.globalSearchTerm=A,ta.push({name:"search"}),t.showFullscreenPlayer=!1},D=function(A,p){var j,H,Z,J,ne,Y,de;const z=r.value.indexOf(p),W=[{label:"play_now",labelArgs:[],action:()=>{N(p,"play_now")},icon:"mdi-play-circle-outline",disabled:z===((j=t.activePlayerQueue)==null?void 0:j.current_index)||z===((H=t.activePlayerQueue)==null?void 0:H.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{N(p,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:z<=(((Z=t.activePlayerQueue)==null?void 0:Z.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{N(p,"up")},icon:"mdi-arrow-up",disabled:z<=(((J=t.activePlayerQueue)==null?void 0:J.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{N(p,"down")},icon:"mdi-arrow-down",disabled:z<=(((ne=t.activePlayerQueue)==null?void 0:ne.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{N(p,"delete")},icon:"mdi-delete",disabled:z<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)}];((de=p==null?void 0:p.media_item)==null?void 0:de.media_type)==X.TRACK&&W.push({label:"show_info",labelArgs:[],action:()=>{T(p.media_item)},icon:"mdi-information-outline",disabled:!1}),Be.emit("contextmenu",{items:W,posX:A.clientX,posY:A.clientY})},R=function(A){t.activePlayer&&Be.emit("contextmenu",{items:Hl(t.activePlayer,t.activePlayerQueue),posX:A.clientX,posY:A.clientY})},N=function(A,p){var z,W,j,H,Z;!A||!t.activePlayerQueue||(p=="play_now"?x.queueCommandPlayIndex((z=t.activePlayerQueue)==null?void 0:z.queue_id,A.queue_item_id):p=="move_next"?x.queueCommandMoveNext((W=t.activePlayerQueue)==null?void 0:W.queue_id,A.queue_item_id):p=="up"?x.queueCommandMoveUp((j=t.activePlayerQueue)==null?void 0:j.queue_id,A.queue_item_id):p=="down"?x.queueCommandMoveDown((H=t.activePlayerQueue)==null?void 0:H.queue_id,A.queue_item_id):p=="delete"&&x.queueCommandDelete((Z=t.activePlayerQueue)==null?void 0:Z.queue_id,A.queue_item_id))},q=async function(){y.value=!0,r.value=[],await aa(100),y.value=!1},P=async function({done:A}){var j;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){A("empty");return}if(r.value.length>=((j=t.activePlayerQueue)==null?void 0:j.items)){A("empty");return}const p=r.value.length,z=(t.activePlayerQueue.current_index||0)+50,W=await x.getPlayerQueueItems(t.activePlayerQueue.queue_id,z,p);r.value.push(...W),W.length<50?A("empty"):A("ok")};Ve(()=>{const A=x.subscribe(kl.QUEUE_ITEMS_UPDATED,p=>{var z;p.object_id==((z=t.activePlayerQueue)==null?void 0:z.queue_id)&&(p.data,q())});Ye(A)});const h=async function(A){var W;if(!((W=t.curQueueItem)!=null&&W.media_item))return;if(!t.curQueueItem.media_item.favorite){x.toggleFavorite(t.curQueueItem.media_item);return}let p=t.curQueueItem.media_item;(p.provider!="library"||!("provider_mappings"in p))&&[X.ALBUM,X.ARTIST,X.AUDIOBOOK,X.PLAYLIST,X.PODCAST,X.RADIO,X.TRACK].includes(p.media_type)&&(p=await x.getLibraryItem(p.media_type,p.item_id,p.provider)||p);const z=[];"favorite"in p&&p.favorite&&p.provider=="library"&&[X.ALBUM,X.ARTIST,X.AUDIOBOOK,X.PLAYLIST,X.PODCAST,X.RADIO,X.TRACK].includes(p.media_type)&&z.push({label:"favorites_remove",labelArgs:[],action:()=>{x.removeItemFromFavorites(p.media_type,p.item_id),p.favorite=!1,t.curQueueItem.media_item.favorite=!1},icon:"mdi-heart"}),[X.ALBUM,X.ARTIST,X.AUDIOBOOK,X.PLAYLIST,X.PODCAST,X.RADIO,X.TRACK].includes(p.media_type)&&z.push({label:"add_playlist",labelArgs:[],action:()=>{Be.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}),Be.emit("contextmenu",{items:z,posX:A.clientX,posY:A.clientY})},k=function(){y.value=!0,aa(100).then(()=>{y.value=!1})},$=function(A,p){x.playMedia(A.uri,Cl.PLAY,void 0,p.position.toString())};ae(()=>t.activePlayerId,A=>{q()},{immediate:!0});const B=F(void 0),E=F(void 0);return mt(()=>{const A=Ue("white"),p=Ue("black"),z=5,W=.05,j=at.theme.current.value.dark?s.colorPalette.darkColor||"#000":s.colorPalette.lightColor||"#fff";let H=Ue(j);const Z=A.contrast(H),J=p.contrast(H),ne=Z>=J;let Y=ne?A:p,de=Math.max(Z,J);if(de<z){let Ae=W;for(;de<z&&Ae<=.5;)ne?H=H.darken(W):H=H.lighten(W),de=Ue(Y).contrast(H),Ae+=W}document.documentElement.style.setProperty("--text-color",Y.hex()),B.value=Y.hex(),E.value=H.hex()}),(A,p)=>(d(),S($a,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":p[12]||(p[12]=z=>e(t).showFullscreenPlayer=z),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:f(()=>[u(tt,{color:E.value},{default:f(()=>{var z,W,j,H,Z,J,ne,Y,de,Ae,Fe,Vt,St,$t,Tt,xt,Bt,Et,Mt,Lt,zt,Ft,Dt,qt,Ot,Wt,Rt,Nt,Ht,Yt,Xt,Ut,Gt;return[u(Xl,{class:"v-toolbar-default",color:"transparent"},{prepend:f(()=>[u(_e,{icon:"",onClick:p[0]||(p[0]=L=>e(t).showFullscreenPlayer=!1)},{default:f(()=>[u(se,{icon:"mdi-chevron-down"})]),_:1})]),append:f(()=>{var L;return[(L=e(t).activePlayerQueue)!=null&&L.radio_source.length?(d(),S(wt,{key:0,scrim:""},{activator:f(({props:ee})=>[u(_e,le(ee,{icon:""}),{default:f(()=>[u(se,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:f(()=>[u(tt,{title:e(te)("queue_radio_enabled"),subtitle:e(te)("queue_radio_based_on")},{text:f(()=>{var ee;return[(d(!0),w(K,null,ue((ee=e(t).activePlayerQueue)==null?void 0:ee.radio_source,ce=>(d(),w("div",{key:ce.uri},[M("a",{onClick:Te=>T(ce)},V(ce.name),9,io)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):I("",!0),_.value?I("",!0):(d(),S(Oa,{key:1})),u(_e,{icon:"",onClick:Ge(R,["stop"])},{default:f(()=>[u(se,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),M("div",oo,[e(ie)("bp7")||!e(t).showQueueItems?(d(),w("div",so,[A.$vuetify.display.height>600?(d(),w("div",no,[((z=e(t).activePlayer)==null?void 0:z.powered)!=!1&&!((W=e(t).curQueueItem)!=null&&W.image)&&((H=(j=e(t).activePlayer)==null?void 0:j.current_media)!=null&&H.image_url)?(d(),S(Je,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):((Z=e(t).activePlayer)==null?void 0:Z.powered)!=!1?(d(),S(Re,{key:1,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:A.$vuetify.theme.current.dark?e(lt):e(ut)},null,8,["item","fallback"])):(d(),S(Je,{key:2,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:A.$vuetify.theme.current.dark?e(lt):e(ut)},null,8,["src"]))])):I("",!0),M("div",ro,[((J=e(t).activePlayer)==null?void 0:J.powered)==!1?(d(),S(De,{key:0,style:re(`font-size: ${m.value};`)},{default:f(()=>{var L;return[U(V((L=e(t).activePlayer)==null?void 0:L.display_name),1)]}),_:1},8,["style"])):(ne=e(t).curQueueItem)!=null&&ne.media_item?(d(),S(De,{key:1,style:re(`font-size: ${m.value};cursor:pointer;`),onClick:p[1]||(p[1]=L=>T(e(t).curQueueItem.media_item))},{default:f(()=>[u(ye,{sync:e(i)},{default:f(()=>[U(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),w("span",uo,"("+V(e(t).curQueueItem.media_item.version)+")",1)):I("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):!e(t).activePlayerQueue&&((de=(Y=e(t).activePlayer)==null?void 0:Y.current_media)!=null&&de.title)?(d(),S(De,{key:2},{default:f(()=>{var L,ee,ce,Te;return[(ee=(L=e(t).activePlayer)==null?void 0:L.current_media)!=null&&ee.artist?(d(),w("div",co,[u(ye,{sync:e(i)},{default:f(()=>{var Pe,we;return[U(V((we=(Pe=e(t).activePlayer)==null?void 0:Pe.current_media)==null?void 0:we.artist),1)]}),_:1},8,["sync"])])):I("",!0),(Te=(ce=e(t).activePlayer)==null?void 0:ce.current_media)!=null&&Te.title?(d(),w("div",{key:1,style:re(`font-size: ${g.value};`)},[u(ye,{sync:e(i)},{default:f(()=>{var Pe,we;return[U(V((we=(Pe=e(t).activePlayer)==null?void 0:Pe.current_media)==null?void 0:we.title),1)]}),_:1},8,["sync"])],4)):I("",!0)]}),_:1})):(d(),S(De,{key:3,style:re(`font-size: ${m.value};cursor:pointer;`),onClick:p[2]||(p[2]=L=>e(t).showPlayersMenu=!0)},{default:f(()=>[u(ye,{sync:e(i)},{default:f(()=>{var L;return[U(V(((L=e(t).activePlayer)==null?void 0:L.display_name)||e(te)("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),((Ae=e(t).activePlayer)==null?void 0:Ae.powered)==!1?(d(),S(Ce,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:f(()=>[U(V(e(te)("off")),1)]),_:1})):I("",!0),(Vt=(Fe=e(t).curQueueItem)==null?void 0:Fe.streamdetails)!=null&&Vt.stream_title&&((St=e(t).activePlayer)==null?void 0:St.powered)!=!1?(d(),S(Ce,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:p[3]||(p[3]=L=>{var ee,ce;return O((ce=(ee=e(t).curQueueItem)==null?void 0:ee.streamdetails)==null?void 0:ce.stream_title)})},{default:f(()=>[u(ye,{sync:e(i)},{default:f(()=>[U(V(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1},8,["sync"])]),_:1})):I("",!0),($t=e(t).curQueueItem)!=null&&$t.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&((Tt=e(t).activePlayer)==null?void 0:Tt.powered)!=!1?(d(),S(Ce,{key:6,style:re(`font-size: ${g.value};cursor:pointer;`),onClick:p[4]||(p[4]=L=>T(e(t).curQueueItem.media_item.album))},{default:f(()=>[u(ye,{sync:e(i)},{default:f(()=>[U(V(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):I("",!0),(xt=e(t).curQueueItem)!=null&&xt.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length&&((Bt=e(t).activePlayer)==null?void 0:Bt.powered)!=!1?(d(),S(Ce,{key:7,style:re(`font-size: ${g.value};cursor:pointer;`),onClick:p[5]||(p[5]=L=>T(e(t).curQueueItem.media_item.artists[0]))},{default:f(()=>[u(ye,{sync:e(i)},{default:f(()=>[U(V(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):I("",!0),(Et=e(t).curQueueItem)!=null&&Et.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?(d(),S(Ce,{key:8,style:re(`font-size: ${g.value};`)},{default:f(()=>[u(ye,{sync:e(i)},{default:f(()=>[U(V(e(t).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):e(t).activePlayer&&((Mt=e(t).activePlayer)==null?void 0:Mt.active_source)!=((Lt=e(t).activePlayer)==null?void 0:Lt.player_id)&&((zt=e(t).activePlayer)==null?void 0:zt.powered)!=!1?(d(),S(Ce,{key:9},{default:f(()=>[U(V(e(te)("external_source_active",[e(Ia)(e(t).activePlayer)])),1)]),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0&&((Ft=e(t).activePlayer)==null?void 0:Ft.powered)!=!1?(d(),S(Ce,{key:10,style:re(`font-size: ${g.value}`)},{default:f(()=>[U(V(e(te)("queue_empty")),1)]),_:1},8,["style"])):I("",!0),((Dt=e(t).activePlayer)==null?void 0:Dt.powered)!=!1?(d(),w("div",mo,[u(Qa)])):I("",!0)])])):I("",!0),e(t).showQueueItems?(d(),w("div",vo,[u(lo,{modelValue:c.value,"onUpdate:modelValue":p[6]||(p[6]=L=>c.value=L),"hide-slider":"",density:"compact",onClick:k},{default:f(()=>[u(Ze,{value:0},{default:f(()=>{var L,ee;return[U(V(e(te)("queue"))+" ",1),u(dt,{color:"grey",content:(((L=e(t).activePlayerQueue)==null?void 0:L.items)||0)-(((ee=e(t).activePlayerQueue)==null?void 0:ee.current_index)||0),inline:""},null,8,["content"])]}),_:1}),u(Ze,{value:1},{default:f(()=>{var L;return[U(V(e(te)("played"))+" ",1),u(dt,{color:"grey",content:(L=e(t).activePlayerQueue)==null?void 0:L.current_index,inline:""},null,8,["content"])]}),_:1}),b.value?(d(),S(Ze,{key:0,value:2},{default:f(()=>[U(V(e(te)("lyrics")),1)]),_:1})):I("",!0)]),_:1},8,["modelValue"]),M("div",yo,[!y.value&&c.value!==2?(d(),S(ql,{key:0,onLoad:P,"empty-text":"",height:"100%"},{default:f(()=>[u(Ul,{"item-height":70,"max-height":"90%",items:c.value==0?v.value:C.value},{default:f(({item:L,index:ee})=>{var ce,Te,Pe,we,jt;return[u(Nl,{link:"","show-menu-btn":!0,disabled:!L.available,onClick:Ge(me=>D(me,L),["stop"]),onMenu:Ge(me=>D(me,L),["stop"]),onMouseenter:me=>n.value=ee,onMouseleave:p[7]||(p[7]=me=>n.value=-1)},{prepend:f(()=>[M("div",fo,[u(Re,{size:"50",item:L},null,8,["item"])])]),title:f(()=>[u(ye,{sync:ee==0&&c.value==0?e(i):e(o),disabled:!(ee==0&&c.value==0||n.value==ee)},{default:f(()=>[U(V(L.name),1)]),_:2},1032,["sync","disabled"])]),subtitle:f(()=>[M("div",po,[M("span",ho,V(e(Oe)(L.duration))+" | ",1),u(ye,{sync:ee==0&&c.value==0?e(i):e(o),disabled:!(ee==0&&c.value==0||n.value==ee)},{default:f(()=>[L.media_item&&"album"in L.media_item&&L.media_item.album?(d(),w("span",go,V(L.media_item.album.name),1)):I("",!0)]),_:2},1032,["sync","disabled"])])]),append:f(()=>[L.available?I("",!0):(d(),S(se,{key:0},{default:f(()=>p[13]||(p[13]=[U("mdi-alert")])),_:1,__:[13]}))]),_:2},1032,["disabled","onClick","onMenu","onMouseenter"]),L.queue_item_id==((ce=e(t).curQueueItem)==null?void 0:ce.queue_item_id)&&((we=(Pe=(Te=L.media_item)==null?void 0:Te.metadata)==null?void 0:Pe.chapters)!=null&&we.length)?(d(),w("div",bo,[(d(!0),w(K,null,ue((jt=L.media_item.metadata)==null?void 0:jt.chapters,me=>(d(),S(Qe,{key:me.position,onClick:Ge(Is=>$(L.media_item,me),["stop"])},{title:f(()=>[M("div",null,V(me.name),1)]),append:f(()=>[me.end?(d(),w("span",_o,V(e(Oe)(me.end-me.start)),1)):I("",!0)]),_:2},1032,["onClick"]))),128))])):I("",!0)]}),_:1},8,["items"])]),_:1})):I("",!0),c.value===2?(d(),w("div",Ao,[u(Wi,{"media-item":(qt=e(t).curQueueItem)==null?void 0:qt.media_item,position:(Ot=e(t).activePlayerQueue)==null?void 0:Ot.elapsed_time,duration:(Wt=e(t).curQueueItem)==null?void 0:Wt.duration,"stream-details":(Rt=e(t).curQueueItem)==null?void 0:Rt.streamdetails,"text-color":B.value},null,8,["media-item","position","duration","stream-details","text-color"])])):I("",!0)])])):I("",!0),!e(t).showQueueItems&&A.$vuetify.display.height<=600?(d(),w("div",Po,[M("div",wo,[u(Re,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):I("",!0)]),M("div",ko,[M("div",Co,[u(Ea,{"show-labels":!0,color:B.value},null,8,["color"])]),M("div",Io,[e(t).activePlayerQueue?(d(),S($e,{key:0,disabled:!((Nt=e(t).curQueueItem)!=null&&Nt.media_item),icon:(Yt=(Ht=e(t).curQueueItem)==null?void 0:Ht.media_item)!=null&&Yt.favorite?"mdi-heart":"mdi-heart-outline",title:e(te)("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:h},null,8,["disabled","icon","title"])):I("",!0),A.$vuetify.display.mdAndUp?(d(),S(La,{key:1,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):I("",!0),u(Fa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),u(za,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),u(Da,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),A.$vuetify.display.mdAndUp?(d(),S(Ma,{key:2,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):I("",!0),e(t).activePlayerQueue?(d(),S(qa,{key:3,class:"media-controls-item","max-height":"30px"})):I("",!0)]),e(t).activePlayer?(d(),w("div",Qo,[u(It,{width:"100%","is-powered":((Xt=e(t).activePlayer)==null?void 0:Xt.powered)!=!1,disabled:!e(t).activePlayer||!((Ut=e(t).activePlayer)!=null&&Ut.available),"model-value":Math.round(((Gt=e(t).activePlayer)==null?void 0:Gt.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus",color:B.value,"allow-wheel":!0,"onUpdate:modelValue":p[8]||(p[8]=L=>e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolume(e(t).activePlayerId,L):e(x).playerCommandVolumeSet(e(t).activePlayerId,L)),"onClick:prepend":p[9]||(p[9]=L=>e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolumeDown(e(t).activePlayerId):e(x).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":p[10]||(p[10]=L=>e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolumeUp(e(t).activePlayerId):e(x).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value","color"])])):I("",!0),_.value?(d(),w("div",Vo,[u(ke,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:p[11]||(p[11]=L=>e(t).showPlayersMenu=!0)},{default:f(()=>{var L;return[u(se,{icon:((L=e(t).activePlayer)==null?void 0:L.icon)||"mdi-speaker"},null,8,["icon"]),U(" "+V(e(t).activePlayer?e(Va)(e(t).activePlayer):""),1)]}),_:1})])):I("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),$o=fe(So,[["__scopeId","data-v-94562cb0"]]),To={key:1},xo={key:2,class:"icon-thumb"},Bo={key:0},Eo={key:2},Mo={key:3},Lo={key:4},zo={key:0,class:"pl-4"},Fo={key:0},Do={key:1},qo={key:2},Oo={key:3},Wo={key:4,class:"line-clamp-1"},Ro={key:5,class:"line-clamp-1"},No={key:6},Ho={key:7,class:"line-clamp-1"},Yo={key:8,class:"line-clamp-1"},Xo={key:0},Uo=G({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=new ct,s=a,i=Q(()=>{var n,o;return(o=(n=t.activePlayerQueue)==null?void 0:n.current_item)==null?void 0:o.streamdetails});return(n,o)=>(d(),w(K,null,[u(Qe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:f(()=>{var r,c,y,v,C,b,m,g,_,T;return[M("div",{class:"media-thumb player-media-thumb",style:re(`cursor: pointer;height: ${e(ie)({breakpoint:"phone"})?50:64}px; width: ${e(ie)({breakpoint:"phone"})?50:64}px; `),onClick:o[0]||(o[0]=O=>e(t).showFullscreenPlayer=!0)},[((r=e(t).activePlayer)==null?void 0:r.powered)!=!1&&((c=e(t).curQueueItem)!=null&&c.media_item||(y=e(t).curQueueItem)!=null&&y.image)?(d(),S(Re,{key:0,item:((v=e(t).curQueueItem)==null?void 0:v.media_item)||e(t).curQueueItem,fallback:e(lt)},null,8,["item","fallback"])):((C=e(t).activePlayer)==null?void 0:C.powered)!=!1&&((m=(b=e(t).activePlayer)==null?void 0:b.current_media)!=null&&m.image_url)?(d(),w("div",To,[u(Je,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(d(),w("div",xo,[u(se,{size:"35",icon:((g=e(t).activePlayer)==null?void 0:g.type)==e(Ke).PLAYER&&((_=e(t).activePlayer)!=null&&_.group_childs.length)?"mdi-speaker-multiple":((T=e(t).activePlayer)==null?void 0:T.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:f(()=>{var r,c,y,v,C,b;return[M("div",{style:re({cursor:"pointer",color:n.primaryColor})},[((r=e(t).activePlayer)==null?void 0:r.powered)==!1?(d(),w("div",{key:0,onClick:o[1]||(o[1]=m=>e(t).showPlayersMenu=!0)},V((c=e(t).activePlayer)==null?void 0:c.display_name),1)):(y=e(t).curQueueItem)!=null&&y.media_item?(d(),w("div",{key:1,onClick:o[2]||(o[2]=m=>e(t).showFullscreenPlayer=!0)},[u(ye,{sync:e(l)},{default:f(()=>[U(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),w("span",Bo,"("+V(e(t).curQueueItem.media_item.version)+")",1)):I("",!0)]),_:1},8,["sync"])])):e(t).curQueueItem?(d(),w("div",Eo,V(e(t).curQueueItem.name),1)):!e(t).activePlayerQueue&&((C=(v=e(t).activePlayer)==null?void 0:v.current_media)!=null&&C.title)?(d(),w("div",Mo,V(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?(d(),w("div",Lo,V((b=e(t).activePlayer)==null?void 0:b.display_name),1)):(d(),w("div",{key:5,onClick:o[3]||(o[3]=m=>e(t).showPlayersMenu=!0)},V(n.$t("no_player")),1))],4)]}),append:f(()=>{var r;return[(r=i.value)!=null&&r.audio_format.content_type&&!e(ie)({breakpoint:"phone"})&&n.showQualityDetailsBtn?(d(),w("div",zo,[u(Qa)])):I("",!0)]}),subtitle:f(()=>{var r;return[M("div",{style:re({cursor:"pointer",color:n.primaryColor}),class:"line-clamp-1",onClick:o[4]||(o[4]=c=>e(t).showFullscreenPlayer=!0)},[u(ye,{sync:e(l)},{default:f(()=>{var c,y,v,C,b,m,g,_,T,O,D,R,N,q,P;return[((c=e(t).activePlayer)==null?void 0:c.powered)==!1?(d(),w("div",Fo,V(n.$t("off")),1)):e(t).curQueueItem&&((y=e(t).curQueueItem.media_item)==null?void 0:y.media_type)==e(X).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!s.showOnlyArtist?(d(),w("div",Do,V(e(Il)(e(t).curQueueItem.media_item.artists))+" â€¢ "+V(e(t).curQueueItem.media_item.album.name),1)):(v=e(t).curQueueItem)!=null&&v.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(d(),w("div",qo,V(e(t).curQueueItem.media_item.artists[0].name),1)):(C=e(t).curQueueItem)!=null&&C.media_item&&"podcast"in e(t).curQueueItem.media_item&&((b=e(t).curQueueItem.media_item.podcast)!=null&&b.name)?(d(),w("div",Oo,V(e(t).curQueueItem.media_item.podcast.name),1)):(g=(m=e(t).curQueueItem)==null?void 0:m.streamdetails)!=null&&g.stream_title?(d(),w("div",Wo,V((T=(_=e(t).curQueueItem)==null?void 0:_.streamdetails)==null?void 0:T.stream_title),1)):(D=(O=e(t).curQueueItem)==null?void 0:O.media_item)!=null&&D.metadata.description?(d(),w("div",Ro,V(e(Ql)(e(t).curQueueItem.media_item.metadata.description,100)),1)):!e(t).activePlayerQueue&&((R=e(t).activePlayer)!=null&&R.active_source)&&((q=(N=e(t).activePlayer)==null?void 0:N.current_media)!=null&&q.artist)?(d(),w("div",No,V(e(t).activePlayer.current_media.artist),1)):!e(t).activePlayerQueue&&((P=e(t).activePlayer)!=null&&P.active_source)?(d(),w("div",Ho,V(n.$t("external_source_active",[e(Ia)(e(t).activePlayer)])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),w("div",Yo,V(n.$t("queue_empty")),1)):I("",!0)]}),_:1},8,["sync"]),e(t).activePlayer&&((r=e(t).activePlayer)==null?void 0:r.powered)!=!1?(d(),w("div",Xo,V(e(Va)(e(t).activePlayer)),1)):I("",!0)],4)]}),_:1}),u($o,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":n.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),Go={key:0},jo={key:0},Ko={class:"text-caption"},Zo={key:1},Jo=G({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,s=F(!1);return(i,n)=>l.isVisible&&e(t).activePlayer?(d(),w("div",Go,[u(wt,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:f(({props:o})=>{var r,c;return[e(ie)("bp6")||!i.responsiveVolumeSize?(d(),w("div",jo,[u(It,{style:"margin-right: 0px; margin-left: 0px;",width:i.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((r=e(t).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((c=e(t).activePlayer)==null?void 0:c.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":n[0]||(n[0]=y=>{var v,C;return e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolume(((v=e(t).activePlayer)==null?void 0:v.player_id)||"",y):e(x).playerCommandVolumeSet(((C=e(t).activePlayer)==null?void 0:C.player_id)||"",y)})},{prepend:f(()=>[u(_e,le({variant:"icon",size:"48",ripple:!1},{...o}),{default:f(()=>{var y,v;return[u(se,{color:l.color?i.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),M("div",Ko,V(e(t).activePlayer.group_childs.length>0?Math.round(((y=e(t).activePlayer)==null?void 0:y.group_volume)||0):Math.round(((v=e(t).activePlayer)==null?void 0:v.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(d(),w("div",Zo,[u(_e,le({...o},{size:"48",variant:"icon"}),{default:f(()=>{var y,v;return[u(se,{color:l.color?i.color:"",icon:"mdi-volume-high"},null,8,["color"]),M("div",{class:"text-caption",style:re({color:l.color?i.color:""})},V(e(t).activePlayer.group_childs.length>0?Math.round(((y=e(t).activePlayer)==null?void 0:y.group_volume)||0):Math.round(((v=e(t).activePlayer)==null?void 0:v.volume_level)||0)),5)]}),_:2},1040)]))]}),default:f(()=>[u(tt,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:f(()=>[e(t).activePlayer?(d(),S(Yl,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"show-heading-row":!0,"show-volume-control":!0,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):I("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):I("",!0)}}),es=fe(Jo,[["__scopeId","data-v-f4084555"]]),ts=G({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,s)=>(d(),w(K,null,[l.player&&l.player.isVisible?(d(),S(Oa,{key:0,color:l.player.color},null,8,["color"])):I("",!0),l.queue&&l.queue.isVisible?(d(),S(qa,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):I("",!0),l.volume&&l.volume.isVisible?(d(),S(es,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):I("",!0)],64))}}),as=["data-floating"],ls=["data-mobile"],is={class:"mediacontrols-left"},os={class:"mediacontrols-bottom-center"},ss={class:"mediacontrols-bottom-right"},ns={key:0,class:"volume-slider"},rs=G({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){Aa(o=>({"4978018a":n.value})),ha();const{mobile:l}=pt({mobileBreakpoint:576}),s=F({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),i=new Image;i.src=at.theme.current.value.dark?lt:ut,i.crossOrigin="Anonymous",i.addEventListener("load",function(){s.value=Vl(i)});const n=Q(()=>at.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return ae(()=>{var o;return(o=t.curQueueItem)==null?void 0:o.queue_item_id},()=>{var o;(o=t.curQueueItem)!=null&&o.media_item?i.src=ia(t.curQueueItem.media_item,oa.THUMB)||"":t.curQueueItem?i.src=ia(t.curQueueItem,oa.THUMB)||"":i.src=""}),(o,r)=>{var c,y,v,C,b,m,g,_,T,O,D;return d(),w(K,null,[M("div",{class:"mediacontrols-bg","data-floating":o.useFloatingPlayer},null,8,as),M("div",{class:"mediacontrols","data-mobile":e(l)},[M("div",is,[u(Uo,{"show-quality-details-btn":!!e(ie)("bp8"),"show-only-artist":!e(ie)("bp7"),"color-palette":s.value,"primary-color":o.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),M("div",os,[u(va,{"visible-components":{repeat:{isVisible:e(ie)("bp3")},shuffle:{isVisible:e(ie)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:o.useFloatingPlayer},previous:{isVisible:e(ie)("bp3")},next:{isVisible:e(ie)("bp3")}}},null,8,["visible-components"]),e(ie)("bp6")?(d(),S(Ea,{key:0,"is-progress-bar":!1,disabled:!((c=e(t).activePlayerQueue)!=null&&c.active)||((C=(v=(y=e(t).activePlayerQueue)==null?void 0:y.current_item)==null?void 0:v.media_item)==null?void 0:C.media_type)!==e(X).TRACK},null,8,["disabled"])):I("",!0)]),M("div",ss,[M("div",null,[u(ts,{queue:{isVisible:e(ie)("bp3"),color:o.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:o.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l)&&(((b=e(t).activePlayer)==null?void 0:b.volume_control)!=e(la)||((m=e(t).activePlayer)==null?void 0:m.group_childs.length)>0),color:o.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),u(va,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(ie)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:o.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,ls),e(l)&&(((g=e(t).activePlayer)==null?void 0:g.volume_control)!=e(la)||((_=e(t).activePlayer)==null?void 0:_.group_childs.length)>0)?(d(),w("div",ns,[u(It,{width:"100%",color:"secondary","is-powered":((T=e(t).activePlayer)==null?void 0:T.powered)!=!1,disabled:!e(t).activePlayer||!((O=e(t).activePlayer)!=null&&O.available),"model-value":Math.round(((D=e(t).activePlayer)==null?void 0:D.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=R=>e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolume(e(t).activePlayerId,R):e(x).playerCommandVolumeSet(e(t).activePlayerId,R)),"onClick:prepend":r[1]||(r[1]=R=>e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolumeDown(e(t).activePlayerId):e(x).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":r[2]||(r[2]=R=>e(t).activePlayer.group_childs.length>0?e(x).playerCommandGroupVolumeUp(e(t).activePlayerId):e(x).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):I("",!0)],64)}}}),us=fe(rs,[["__scopeId","data-v-e7d0fafb"]]),ds=he({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...At(),...Se(),..._t(),...Ct(),...bt(),...ze({tag:"footer"}),...Xe()},"VFooter"),cs=pe()({name:"VFooter",props:ds(),setup(a,l){let{slots:s}=l;const i=F(),{themeClasses:n}=it(a),{backgroundColorClasses:o,backgroundColorStyles:r}=Ne(oe(a,"color")),{borderClasses:c}=yt(a),{elevationClasses:y}=ft(a),{roundedClasses:v}=ht(a),C=be(32),{resizeRef:b}=Sl(g=>{g.length&&(C.value=g[0].target.clientHeight)}),m=Q(()=>a.height==="auto"?C.value:parseInt(a.height,10));return qe(()=>a.app,()=>{const g=kt({id:a.name,order:Q(()=>parseInt(a.order,10)),position:Q(()=>"bottom"),layoutSize:m,elementSize:Q(()=>a.height==="auto"?void 0:m.value),active:Q(()=>a.app),absolute:oe(a,"absolute")});mt(()=>{i.value=g.layoutItemStyles.value})}),ge(()=>u(a.tag,{ref:b,class:["v-footer",n.value,o.value,c.value,y.value,v.value,a.class],style:[r.value,a.app?i.value:{height:Le(a.height)},a.style]},s)),{}}}),ms=G({__name:"Footer",setup(a){const l=Q(()=>t.navigationMenuStyle=="horizontal"),s=Q(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),i=Q(()=>l.value?s.value+5:0);return(n,o)=>(d(),w(K,null,[l.value?(d(),w("div",{key:0,class:He(n.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:re(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(ie)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):I("",!0),e(t).navigationMenuStyle=="horizontal"?(d(),S(_i,{key:1,height:s.value},null,8,["height"])):I("",!0),u(cs,{bottom:"",fixed:"",class:He(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:re(`bottom: ${i.value}px;`),elevation:"10",app:""},{default:f(()=>[u(us,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),vs={style:{float:"right","margin-right":"-20px"}},ys=G({__name:"PlayerSelect",setup(a){const l=F(!1),s=F(null),i=Q(()=>Object.values(x.players).filter(c=>sa(c)).filter(c=>c.player_id!==Ie.player_id).sort((c,y)=>{var v;return c.display_name.toUpperCase()>((v=y.display_name)==null?void 0:v.toUpperCase())?1:-1}));ae(()=>t.activePlayerId,c=>{c&&localStorage.setItem("mass.LastPlayerId",c)}),ae(()=>x.players,c=>{c&&!t.activePlayer&&o()},{deep:!0}),ae(()=>x.state,c=>{c.value!=Tl.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function n(c,y=!1){t.activePlayerId==c.player_id?l.value=!l.value:(l.value=!1,t.activePlayerId=c.player_id),y&&(t.showPlayersMenu=!1)}Ve(()=>{o()});const o=function(){if(t.activePlayer&&sa(t.activePlayer))return;const c=r();c&&(t.activePlayerId=c)},r=function(){const c=localStorage.getItem("mass.LastPlayerId");if(c&&c in x.players&&x.players[c].available)return c};return(c,y)=>(d(),w(K,null,[u(Sa,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":y[0]||(y[0]=v=>e(t).showPlayersMenu=v)},null,8,["modelValue"]),e(t).showPlayersMenu?(d(),S(xa,{key:0,modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":y[4]||(y[4]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",width:460,style:{"z-index":"99999"},"z-index":"99999"},{default:f(()=>[M("div",null,[u(De,{class:"title",style:{"padding-top":"20px","padding-bottom":"20px"}},{default:f(()=>[M("b",null,V(c.$t("players")),1),M("div",vs,[u(_e,{variant:"icon",to:{name:"playersettings"}},{default:f(()=>[u(se,{size:"30"},{default:f(()=>y[5]||(y[5]=[U("mdi-cog-outline")])),_:1,__:[5]})]),_:1}),u(_e,{variant:"icon",onClick:y[1]||(y[1]=v=>e(t).showPlayersMenu=!1)},{default:f(()=>[u(se,{size:"30"},{default:f(()=>y[6]||(y[6]=[U("mdi-window-close")])),_:1,__:[6]})]),_:1})])]),_:1}),u(et),u(Ee,{flat:"",style:{margin:"0px 15px 5px 15px"}},{default:f(()=>[e(Ie).mode===e($l).BUILTIN&&e(Ie).player_id&&e(x).players[e(Ie).player_id]?(d(),S(je,{key:0,id:e(Ie).player_id,player:e(x).players[e(Ie).player_id],"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,"allow-power-control":!0,onClick:y[2]||(y[2]=v=>n(e(x).players[e(Ie).player_id]))},null,8,["id","player"])):I("",!0),(d(!0),w(K,null,ue(i.value.filter(v=>{var C;return[e(rt).PLAYING,e(rt).PAUSED].includes(v.state)||((C=e(x).queues[v.player_id])==null?void 0:C.items)>0&&v.powered!=!1}),v=>(d(),S(je,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(We).SET_MEMBERS),"allow-power-control":!0,onClick:C=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),u(Gl,{modelValue:s.value,"onUpdate:modelValue":y[3]||(y[3]=v=>s.value=v),variant:"accordion",flat:"",class:"expansion"},{default:f(()=>[u(na,{style:{padding:"0"}},{default:f(()=>[u(ra,null,{default:f(()=>[M("h3",null,V(c.$t("all_players")),1)]),_:1}),u(ua,{style:{padding:"0"}},{default:f(()=>[u(Ee,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:f(()=>[(d(!0),w(K,null,ue(i.value.filter(v=>v.type!=e(Ke).GROUP),v=>(d(),S(je,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(We).SET_MEMBERS),"allow-power-control":!0,onClick:C=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1}),i.value.filter(v=>v.type==e(Ke).GROUP).length?(d(),S(na,{key:0,style:{padding:"0"}},{default:f(()=>[u(ra,null,{default:f(()=>[M("h3",null,V(c.$t("all_groups")),1)]),_:1}),u(ua,{style:{padding:"0"}},{default:f(()=>[u(Ee,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:f(()=>[(d(!0),w(K,null,ue(i.value.filter(v=>v.type==e(Ke).GROUP),v=>(d(),S(je,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(We).SET_MEMBERS),"allow-power-control":!0,onClick:C=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1})):I("",!0)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])):I("",!0)],64))}}),fs=fe(ys,[["__scopeId","data-v-a66c8412"]]);function ps(a={}){const{immediate:l=!1,onNeedRefresh:s,onOfflineReady:i,onRegistered:n,onRegisteredSW:o,onRegisterError:r}=a;let c,y,v;const C=async(m=!0)=>{await y,v==null||v()};async function b(){if("serviceWorker"in navigator){if(c=await xl(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[],import.meta.url).then(({Workbox:m})=>new m("./sw.js",{scope:"./",type:"classic"})).catch(m=>{r==null||r(m)}),!c)return;v=()=>{c==null||c.messageSkipWaiting()};{let m=!1;const g=()=>{m=!0,c==null||c.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()}),s==null||s()};c.addEventListener("installed",_=>{typeof _.isUpdate>"u"?typeof _.isExternal<"u"&&_.isExternal?g():!m&&(i==null||i()):_.isUpdate||i==null||i()}),c.addEventListener("waiting",g)}c.register({immediate:l}).then(m=>{o?o("./sw.js",m):n==null||n(m)}).catch(m=>{r==null||r(m)})}}return y=b(),C}function hs(a={}){const{immediate:l=!0,onNeedRefresh:s,onOfflineReady:i,onRegistered:n,onRegisteredSW:o,onRegisterError:r}=a,c=F(!1),y=F(!1);return{updateServiceWorker:ps({immediate:l,onNeedRefresh(){c.value=!0,s==null||s()},onOfflineReady(){y.value=!0,i==null||i()},onRegistered:n,onRegisteredSW:o,onRegisterError:r}),offlineReady:y,needRefresh:c}}const gs={key:0,class:"pwa-toast",role:"alert"},bs={class:"message"},_s={key:0},As={key:1},Ps=G({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:s,updateServiceWorker:i}=hs(),n=async()=>{l.value=!1,s.value=!1};return(o,r)=>e(l)||e(s)?(d(),w("div",gs,[M("div",bs,[e(l)?(d(),w("span",_s," App ready to work offline ")):(d(),w("span",As," New content available, click on reload button to update. "))]),e(s)?(d(),w("button",{key:0,onClick:r[0]||(r[0]=c=>e(i)())},"Reload")):I("",!0),M("button",{onClick:n},"Close")])):I("",!0)}}),ws=he({...Se(),...zl({fullHeight:!0}),...Xe()},"VApp"),ks=pe()({name:"VApp",props:ws(),setup(a,l){let{slots:s}=l;const i=it(a),{layoutClasses:n,getLayoutItem:o,items:r,layoutRef:c}=Ll(a),{rtlClasses:y}=vt();return ge(()=>{var v;return u("div",{ref:c,class:["v-application",i.themeClasses.value,n.value,y.value,a.class],style:[a.style]},[u("div",{class:"v-application__wrap"},[(v=s.default)==null?void 0:v.call(s)])])}),{getLayoutItem:o,items:r,theme:i}}}),Cs=G({__name:"Default",setup(a){const l=Bl();return ae([()=>l.query.player,()=>Object.keys(x.players).length],([s])=>{var o;if(!s)return;const i=s.toString().toLowerCase(),n=(o=Object.values(x.players).find(r=>r.player_id.toLowerCase()===i||r.display_name.toLowerCase()===i))==null?void 0:o.player_id;n&&(t.activePlayerId=n)},{immediate:!0}),ae(()=>l.query.showFullscreenPlayer,s=>{t.showFullscreenPlayer=!!s},{immediate:!0}),ae(()=>l.query.frameless,s=>{s&&(t.frameless=!0)},{immediate:!0}),(s,i)=>(d(),w(K,null,[e(t).connected?(d(),S(ks,{key:0},{default:f(()=>[e(t).frameless?(d(),S(ma,{key:0})):(d(),w(K,{key:1},[u(fs),u(ms),u(ma)],64))]),_:1})):(d(),S(Sa,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:f(()=>[M("div",null,[u(Ta,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(d(),S(Ps,{key:2})):I("",!0)],64))}}),Ys=fe(Cs,[["__scopeId","data-v-33a00054"]]);export{Ys as default};

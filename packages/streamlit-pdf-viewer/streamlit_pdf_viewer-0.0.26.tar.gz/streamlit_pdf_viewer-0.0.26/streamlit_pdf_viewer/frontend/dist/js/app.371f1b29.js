(()=>{"use strict";var e={4015:(e,t,o)=>{var a=o(3751),n=o(641);const i={id:"app"};function r(e,t,o,a,r,s){const l=(0,n.g2)("PdfViewer"),d=(0,n.g2)("WithStreamlitConnection");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(d,null,{default:(0,n.k6)(({args:e})=>[(0,n.bF)(l,{args:e},null,8,["args"])]),_:1})])}var s=o(33);const l={key:0,id:"pdfContainer",class:"scrolling-container"},d={key:1},c=["src","width","height"],u={key:2},p=["src","width","height"],g={key:3},h={key:4,class:"zoom-controls"},v={key:0,class:"zoom-panel"},m={class:"zoom-input-container"},w=["onClick"];function y(e,t,o,i,r,y){return(0,n.uX)(),(0,n.CE)("div",{style:(0,s.Tr)(i.pdfContainerStyle),ref:"pdfContainer",class:"container-wrapper"},["unwrap"===o.args.rendering?((0,n.uX)(),(0,n.CE)("div",l,t[8]||(t[8]=[(0,n.Lk)("div",{id:"pdfViewer"},null,-1)]))):"legacy_embed"===o.args.rendering?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("embed",{src:`data:application/pdf;base64,${o.args.binary}`,width:`${o.args.width}`,height:`${o.args.height}`,type:"application/pdf"},null,8,c)])):"legacy_iframe"===o.args.rendering?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("embed",{src:`data:application/pdf;base64,${o.args.binary}`,width:`${o.args.width}`,height:`${o.args.height}`,type:"application/pdf"},null,8,p)])):((0,n.uX)(),(0,n.CE)("div",g," Error rendering option. ")),"unwrap"===o.args.rendering?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("button",{class:"zoom-button",onClick:t[0]||(t[0]=(0,a.D$)((...e)=>i.toggleZoomPanel&&i.toggleZoomPanel(...e),["stop"]))},(0,s.v_)(Math.round(100*i.currentZoom))+"% ",1),i.showZoomPanel?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("div",m,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"zoom-input","onUpdate:modelValue":t[1]||(t[1]=e=>i.manualZoomInput=e),onKeyup:t[2]||(t[2]=(0,a.jR)((...e)=>i.applyManualZoom&&i.applyManualZoom(...e),["enter"])),onBlur:t[3]||(t[3]=(...e)=>i.applyManualZoom&&i.applyManualZoom(...e))},null,544),[[a.Jo,i.manualZoomInput]]),t[9]||(t[9]=(0,n.Lk)("span",{class:"zoom-input-percent"},"%",-1))]),t[14]||(t[14]=(0,n.Lk)("div",{class:"zoom-separator"},null,-1)),(0,n.Lk)("button",{class:"zoom-option",onClick:t[4]||(t[4]=(...e)=>i.zoomIn&&i.zoomIn(...e))},t[10]||(t[10]=[(0,n.Lk)("span",{class:"zoom-icon"},"+",-1),(0,n.eW)(" Zoom In ")])),(0,n.Lk)("button",{class:"zoom-option",onClick:t[5]||(t[5]=(...e)=>i.zoomOut&&i.zoomOut(...e))},t[11]||(t[11]=[(0,n.Lk)("span",{class:"zoom-icon"},"−",-1),(0,n.eW)(" Zoom Out ")])),t[15]||(t[15]=(0,n.Lk)("div",{class:"zoom-separator"},null,-1)),(0,n.Lk)("button",{class:"zoom-option",onClick:t[6]||(t[6]=(...e)=>i.fitToWidth&&i.fitToWidth(...e))},t[12]||(t[12]=[(0,n.Lk)("span",{class:"zoom-icon"},"↔",-1),(0,n.eW)(" Fit to Width ")])),(0,n.Lk)("button",{class:"zoom-option",onClick:t[7]||(t[7]=(...e)=>i.fitToHeight&&i.fitToHeight(...e))},t[13]||(t[13]=[(0,n.Lk)("span",{class:"zoom-icon"},"↕",-1),(0,n.eW)(" Fit to Height ")])),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.zoomPresets,e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:(0,s.C4)(["zoom-option zoom-preset",{active:Math.abs(i.currentZoom-e)<.01}]),onClick:t=>i.setZoom(e)},(0,s.v_)(Math.round(100*e))+"% ",11,w))),128))])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)],4)}o(4114),o(8111),o(2489),o(7588);var f=o(953),k=(o(951),o(9936)),b=o(7445),_=o(2543);const E="pdfjs-dist/cmaps/",C=!0,x=!0,z=["solid","dashed","dotted","double","groove","ridge","inset","outset","none",void 0,null],L={props:["args"],setup(e){const t=(0,f.KR)(0),o=(0,f.KR)(0),a=(0,f.KR)([]),i=(0,f.KR)([]),r=(0,f.KR)([]),s=(0,f.KR)(e.args.height||0),l=(0,f.KR)(!1),d=null===e.args.zoom_level||void 0===e.args.zoom_level?"auto":e.args.zoom_level,c=(0,f.KR)(d),u=(0,f.KR)(1),p=[.5,.75,1,1.25,1.5,2],g=(0,f.KR)(null),h=(0,f.KR)(null),v=(0,f.KR)(100),m=(0,f.KR)(!1),w=!0===e.args.render_text,y=(e,t=window.innerWidth)=>{if("string"===typeof e&&e.endsWith("%")){const t=parseFloat(e);if(!isNaN(t))return{type:"percent",value:t/100}}const o=Number(e);return!isNaN(o)&&o>0?{type:"pixel",value:o}:{type:"pixel",value:t}},L=(0,n.EW)(()=>{const t=y(e.args.width,window.innerWidth),o="percent"===t.type?100*t.value+"%":`${t.value}px`,a={width:o,height:e.args.height?`${e.args.height}px`:"auto",position:"relative"},n=e.args.viewer_align||"center";return"center"===n?(a.marginLeft="auto",a.marginRight="auto"):"left"===n?(a.marginLeft="0",a.marginRight="auto"):"right"===n&&(a.marginLeft="auto",a.marginRight="0"),a}),R=e=>{e&&(e.innerHTML="")},$=(e,t,o,a,n=1)=>{const i=e.getViewport({scale:t,rotation:o}),r=(window.devicePixelRatio||1)*n,s=document.createElement("canvas");return s.id=`canvas_page_${a}`,s.height=i.height*r,s.width=i.width*r,s.style.width=`${i.width}px`,s.style.height=`${i.height}px`,s.style.display="block",s.getContext("2d").scale(r,r),s},M=(t,o,a,n)=>{const i=document.createElement("div");t.id=`${t.id||o}`,i.id=`annotation-${t.id}`,i.setAttribute("data-index",t.id),i.style.position="absolute",i.style.left=t.x*n+"px",i.style.top=t.y*n+"px",i.style.width=t.width*n+"px",i.style.height=t.height*n+"px";let r=t.border;t.border&&z.includes(t.border)||(r="solid"),i.style.outline=`${e.args.annotation_outline_size*n}px ${r} ${t.color}`,i.style.cursor=w?"text":"pointer",i.style.pointerEvents=w?"none":"auto",i.style.zIndex=10,w||i.addEventListener("click",()=>{b.wk.setComponentValue({clicked_annotation:{index:t.id,...t}})}),a.appendChild(i)},Z=async(t,o,a,n,i)=>{const r={canvasContext:o.getContext("2d"),viewport:a};await t.render(r).promise;const s=document.createElement("div");s.className="page",s.style.position="relative",s.style.width=`${a.width}px`,s.style.height=`${a.height}px`,s.style.marginBottom=`${e.args.pages_vertical_spacing}px`,e.args.show_page_separator&&(s.style.borderBottom="1px solid #ddd");const l=document.createElement("div");if(l.className="canvasWrapper",l.style.position="absolute",l.style.top="0",l.style.left="0",l.appendChild(o),s.appendChild(l),w){const e=await t.getTextContent(),o=document.createElement("div");o.className="textLayer",o.style.zIndex="11",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height=`${a.height}px`,o.style.width=`${a.width}px`;const n=new k.D6({textContentSource:e,container:o,viewport:a,textDivs:[]});await n.render(),s.appendChild(o)}n&&n.length>0&&n.forEach((e,t)=>{const o=i+t;M(e,o,s,a.scale)});const d=document.getElementById("pdfViewer");d.appendChild(s)},P=t=>0===e.args.pages_to_render.length?Array.from({length:t},(e,t)=>t+1):e.args.pages_to_render,W=async(n,s,l)=>{t.value=0,a.value=[],i.value=[],r.value=[];const d=e.args.resolution_boost||1;let p=0;const g=await n.getPage(1),m=g.getViewport({scale:1});let w;if("auto"===c.value)w=o.value/m.width*.98;else if("auto-height"===c.value){const t=h.value.clientHeight;w=!e.args.height||t<50?o.value/m.width*.98:t/m.height*.98}else w=c.value;u.value=w,v.value=Math.round(100*w);let y=0;for(let o=1;o<=n.numPages;o++){const c=await n.getPage(o),u=c.rotate;a.value.push(w),i.value.push(c.getViewport({scale:1,rotation:u}).height);const g=c.getViewport({scale:w,rotation:u});if(g.width>p&&(p=g.width),l.includes(o)){const a=$(c,w,u,o,d);s.style.setProperty("--scale-factor",w);const n=e.args.annotations.filter(e=>Number(e.page)===o);t.value+=a.height/((window.devicePixelRatio||1)*d),await Z(c,a,g,n,y),y+=n.length,a.id&&r.value.push(a.id)}}l.length>0&&(t.value-=e.args.pages_vertical_spacing),s.style.width=`${p}px`,s.style.marginLeft="auto",s.style.marginRight="auto"},I=e=>{console.error(e),window.alert(e.message)},K=async e=>{k.EA.workerSrc="pdfjs-dist/build/pdf.worker.mjs";try{const t=(0,k.YE)({url:e,cMapUrl:E,cMapPacked:C,enableXfa:x}),o=await t.promise;g.value=o;const a=document.getElementById("pdfViewer");R(a);const n=P(o.numPages);await W(o,a,n),V()}catch(t){I(t)}},V=()=>{if(e.args.scroll_to_page){const t=document.getElementById(`canvas_page_${e.args.scroll_to_page}`);t&&t.scrollIntoView({behavior:"smooth"})}else if(e.args.scroll_to_annotation){const t=document.querySelector(`[id^="annotation-"][data-index="${e.args.scroll_to_annotation}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},N=()=>{const o=e.args.height?e.args.height:t.value;o!==s.value&&(b.wk.setFrameHeight(o),s.value=o)},O=()=>{const t=y(e.args.width,window.innerWidth);let a;a="percent"===t.type?Math.min(Math.floor(t.value*window.innerWidth),window.innerWidth):t.value,a!==o.value&&(o.value=a)},T=async()=>{if(!m.value){m.value=!0;try{if("unwrap"===e.args.rendering){const t=`data:application/pdf;base64,${e.args.binary}`;O(),await K(t),N()}}catch(t){console.error(t)}finally{m.value=!1}}};(0,n.wB)(()=>e.args.binary,()=>{T()}),(0,n.wB)(()=>e.args.zoom_level,e=>{c.value=null===e||void 0===e?"auto":e,T()}),(0,n.wB)(()=>e.args.viewer_align,()=>{T()});const X=e=>{c.value=e,l.value=!1,T()},j=()=>{const e=Math.min(1.2*u.value,10);X(e)},F=()=>{const e=Math.max(u.value/1.2,.1);X(e)},B=()=>{X("auto")},D=async()=>{e.args.height?X("auto-height"):X("auto")},S=()=>{l.value=!l.value,l.value&&(v.value=Math.round(100*u.value))},H=()=>{let e=parseFloat(v.value);!isNaN(e)&&e>0?(e=Math.max(10,Math.min(e,1e3)),X(e/100)):v.value=Math.round(100*u.value)},A=e=>{l.value&&!e.target.closest(".zoom-controls")&&(l.value=!1)},Q=(0,_.debounce)(T,200);return(0,n.sV)(()=>{Q(),window.addEventListener("resize",Q),document.addEventListener("click",A)}),(0,n.hi)(()=>{window.removeEventListener("resize",Q),document.removeEventListener("click",A)}),{pdfContainer:h,pdfContainerStyle:L,showZoomPanel:l,currentZoom:u,localZoomLevel:c,zoomPresets:p,manualZoomInput:v,setZoom:X,zoomIn:j,zoomOut:F,fitToWidth:B,fitToHeight:D,toggleZoomPanel:S,applyManualZoom:H}}};var R=o(6262);const $=(0,R.A)(L,[["render",y],["__scopeId","data-v-317c318d"]]),M=$,Z={key:0},P={class:"err__msg"};function W(e,t,o,a,i,r){return(0,n.uX)(),(0,n.CE)("div",null,[""!=e.componentError?((0,n.uX)(),(0,n.CE)("div",Z,[t[0]||(t[0]=(0,n.Lk)("h1",{class:"err__title"},"Component Error",-1)),(0,n.Lk)("div",P,"Message: "+(0,s.v_)(e.componentError),1)])):null!=e.renderData?(0,n.RG)(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled},void 0,!0):(0,n.Q3)("",!0)])}const I=(0,n.pM)({name:"WithStreamlitConnection",setup(){const e=(0,f.KR)(void 0),t=(0,f.KR)(""),o=o=>{const a=o;e.value=a.detail,t.value=""};return(0,n.sV)(()=>{b.wk.events.addEventListener(b.wk.RENDER_EVENT,o),b.wk.setComponentReady()}),(0,n.$u)(()=>{""!=t.value&&b.wk.setFrameHeight()}),(0,n.hi)(()=>{b.wk.events.removeEventListener(b.wk.RENDER_EVENT,o)}),(0,n.qG)(e=>{t.value=String(e)}),{renderData:e,componentError:t}}}),K=(0,R.A)(I,[["render",W],["__scopeId","data-v-bef81972"]]),V=K,N=(0,n.pM)({name:"App",components:{PdfViewer:M,WithStreamlitConnection:V}}),O=(0,R.A)(N,[["render",r]]),T=O;(0,a.Ef)(T).mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,(()=>{var e=[];o.O=(t,a,n,i)=>{if(!a){var r=1/0;for(c=0;c<e.length;c++){for(var[a,n,i]=e[c],s=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every(e=>o.O[e](a[l]))?a.splice(l--,1):(s=!1,i<r&&(r=i));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,n,i]}})(),(()=>{o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[r,s,l]=a,d=0;if(r.some(t=>0!==e[t])){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var c=l(o)}for(t&&t(a);d<r.length;d++)i=r[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},a=self["webpackChunkstreamlit_pdf_viewer"]=self["webpackChunkstreamlit_pdf_viewer"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[504],()=>o(4015));a=o.O(a)})();
//# sourceMappingURL=app.371f1b29.js.map
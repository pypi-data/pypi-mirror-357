import{_ as h,B as S,D as C,C as p,q as a,b as v,a as k,F as g,z as V,A as b,s as _,v as n,g as $,p as B,r as R,u as D,n as P,d as q,K as z}from"./main-Dl2Lrwga.js";import{h as E}from"./VDialog-BScRe1ug.js";import{r as A,s as N}from"./VSelectionControl-CjjwyQ-Y.js";import{f as T}from"./forwardRefs-DkWUbz_i.js";const w={name:"SubmitFooter",components:{ConfirmFooter:E},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...C(p,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...S(p,["clearErrors"])}},I={key:0,class:"errors"},K={key:1,class:"success"},L={key:2};function M(e,s,l,d,m,i){const u=_("ConfirmFooter");return n(),a("footer",null,[v("div",null,[e.errors&&e.errors.length>0?(n(),a("small",I,[(n(!0),a(g,null,V(e.errors,(c,t)=>(n(),a("div",{key:t},b(c),1))),128))])):e.success?(n(),a("small",K,b(e.success),1)):(n(),a("small",L,"Â "))]),k(u,{"confirm-text":i.confirmText,disabled:l.disabled,onConfirm:s[0]||(s[0]=c=>e.$emit("submit")),onCancel:s[1]||(s[1]=c=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const O=h(w,[["render",M],["__scopeId","data-v-d960409d"]]),j=B({...z(),...N()},"VForm"),Q=$()({name:"VForm",props:j(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:l,emit:d}=s;const m=A(e),i=R();function u(t){t.preventDefault(),m.reset()}function c(t){const o=t,r=m.validate();o.then=r.then.bind(r),o.catch=r.catch.bind(r),o.finally=r.finally.bind(r),d("submit",o),o.defaultPrevented||r.then(y=>{var f;let{valid:F}=y;F&&((f=i.value)==null||f.submit())}),o.preventDefault()}return D(()=>{var t;return v("form",{ref:i,class:q(["v-form",e.class]),style:P(e.style),novalidate:!0,onReset:u,onSubmit:c},[(t=l.default)==null?void 0:t.call(l,m)])}),T(m,i)}});export{O as S,Q as V};

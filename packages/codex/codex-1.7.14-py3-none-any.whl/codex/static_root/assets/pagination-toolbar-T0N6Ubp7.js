import{g as me,p as le,f as nt,t as D,u as he,b as c,n as oe,d as N,K as Ce,aW as Le,_ as M,x as b,W as Te,z as ue,w as $,m as J,v as l,a6 as Me,a as u,E as de,aX as rt,N as I,q as v,H as p,A as E,aw as ot,ae as _e,aY as lt,aZ as ut,az as dt,s as y,B as pe,a_ as ct,a$ as mt,D as z,U as ht,a0 as ze,y as re,b0 as pt,l as ft,b1 as vt,F as fe,ag as gt,ac as bt,ad as kt,a9 as Oe,b2 as yt,Y as _t,ab as St,c as k,b3 as Ie,aP as Be,aR as $e,r as Se,b4 as wt,b5 as we,aV as Ct,aU as Tt,i as Ae,b6 as Mt,j as se,T as xe,aL as Bt,e as Rt}from"./main-Dl2Lrwga.js";import{w as Vt,V as ve,k as Ge,n as Nt,x as Lt,j as It,R as Pe,y as $t,u as xt,i as Pt,c as Fe}from"./forwardRefs-DkWUbz_i.js";import{c as Ft,d as Dt}from"./VSelect-B_F15uRm.js";import{a as Et,c as zt,d as Ot,V as At}from"./VDialog-BScRe1ug.js";import{C as Gt}from"./change-password-dialog-DQ_0TaFN.js";import{d as Ut,f as jt,u as qt,m as Ht,g as Kt,h as De,i as Wt}from"./VSelectionControl-CjjwyQ-Y.js";import{V as Ue}from"./VTable-DuRw3_Nt.js";import{C as je}from"./confirm-dialog-Bkr6kSge.js";import{P as Yt,V as Zt}from"./unauthorized-T8UCTUHd.js";const Xt=le({...Ce(),...Vt({variant:"text"})},"VToolbarItems"),oi=me()({name:"VToolbarItems",props:Xt(),setup(e,t){let{slots:a}=t;return nt({VBtn:{color:D(()=>e.color),height:"inherit",variant:D(()=>e.variant)}}),he(()=>{var n;return c("div",{class:N(["v-toolbar-items",e.class]),style:oe(e.style)},[(n=a.default)==null?void 0:n.call(a)])}),{}}}),ye=new Set(["",Le,Le.toString(),void 0]),Qt=function(e){let t;if(ye.has(e))t=e;else if(e instanceof Object)if("ids"in e){const a=new Set(e.ids);ye.intersection(a).size>0?t=void 0:t={value:e.ids.join(","),title:e.name}}else ye.has(e.pk)?t=void 0:t={value:e.pk,title:e.name};else t={value:e,title:e.toString()};return e!=null&&e.url&&(t.url=e.url),t},Jt=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},ea=function(e,t){return Number.parseFloat(e.title)-Number.parseFloat(t.title)},ta=function(e,t,a=!1){var o;const n=e||[],r=t&&t.toLowerCase();let s=[];for(const d of n){const h=Qt(d);h!=null&&(!r||(o=h==null?void 0:h.title)!=null&&o.toLowerCase().includes(r))&&s.push(h)}const i=a?ea:Jt;return s.sort(i)},aa={name:"ToolbarSelect",props:{selectLabel:{type:String,default:""},maxSelectLen:{type:Number,default:0}},computed:{style(){if(this.maxSelectLen){const e=this.$vuetify.display.xs?"max-width":"width",t=this.maxSelectLen*.7+"em";return`${e}: ${t}`}return""}}};function sa(e,t,a,n,r,s){return l(),b(Ft,J(e.$attrs,{label:a.selectLabel,"aria-label":a.selectLabel,class:"toolbarSelect",density:"compact","full-width":"","menu-props":{maxHeight:void 0},"hide-details":"auto",style:s.style,variant:"plain"}),Te({item:$(({item:i,props:o})=>[u(Et,J(o,{density:"compact",variant:"plain",title:i.title,value:i.value}),null,16,["title","value"])]),_:2},[ue(e.$slots,(i,o)=>({name:o,fn:$(d=>[Me(e.$slots,o,J({props:i},d),void 0,!0)])}))]),1040,["label","aria-label","style"])}const li=M(aa,[["render",sa],["__scopeId","data-v-cda2da63"]]),ui=zt("v-spacer","div","VSpacer"),ia={name:"BookCover",props:{group:{type:String,required:!0},pks:{type:Array,required:!0},childCount:{type:Number,default:1},finished:{type:Boolean},mtime:{type:Number,default:Date.now()}},data(){return{showPlaceholder:!1}},computed:{...de(I,["coverSettings"]),coverSrc(){return rt({group:this.group,pks:this.pks},this.coverSettings,this.mtime)},multiPkClasses(){const e=this.pks.length,t={};return e>=4?t.stack4=!0:e>1&&(t[`stack${e}`]=!0),t}},mounted:function(){this.delayPlaceholder()},methods:{delayPlaceholder:function(){setTimeout(()=>{this.showPlaceholder=!0},2e3)}}},na={class:"bookCover"},ra={key:1,class:"childCount"};function oa(e,t,a,n,r,s){return l(),v("div",na,[u(Ot,{src:s.coverSrc,class:N(["coverImg",s.multiPkClasses])},null,8,["src","class"]),a.finished!==!0?(l(),v("div",{key:0,class:N({unreadFlag:!0,mixedreadFlag:a.finished===null})},null,2)):p("",!0),a.group!=="c"?(l(),v("span",ra,E(a.childCount),1)):p("",!0)])}const la=M(ia,[["render",oa],["__scopeId","data-v-de968aef"]]),ua=10,da={name:"DownloadButton",components:{ConfirmDialog:je},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},data(){return{mdiDownload:dt}},computed:{...de(I,["filterOnlySettings","groupNames"]),show(){var e,t;return((t=(e=this.item)==null?void 0:e.ids)==null?void 0:t.length)>0&&!this.item.ids.includes(0)},isOneComic(){var e,t,a;return((e=this.item)==null?void 0:e.group)==="c"&&((a=(t=this.item)==null?void 0:t.ids)==null?void 0:a.length)===1},downloadFn(){var e;return this.isOneComic?this.item.name:`${this.groupNames[(e=this.item)==null?void 0:e.group]} - ${this.item.name} Comics.zip`},downloadURL(){var t,a,n,r;let e="";if(this.isOneComic){const s=this.item.ids[0];e=lt({pk:s},this.downloadFn,(t=this.item)==null?void 0:t.mtime)}else{const s=(a=this.item)==null?void 0:a.group,i=(n=this.item)==null?void 0:n.ids,o=this.filterOnlySettings;e=ut({group:s,pks:i},this.downloadFn,o,(r=this.item)==null?void 0:r.mtime)}return e},formattedChildren(){var e;return _e.format((e=this.item)==null?void 0:e.childCount)},title(){let e="Download";return e+=this.isOneComic?" Book":` ${this.formattedChildren} Books`,e},confirm(){var e;return((e=this.item)==null?void 0:e.childCount)>ua},confirmText(){return this.confirm?`Download ${this.formattedChildren} books`:""}},methods:{download(){const e=this.downloadURL,t=this.downloadFn;if(this.isOneComic)ot(e,t);else{const a=document.createElement("a");a.download=this.downloadFn,a.href=this.downloadURL,a.click(),a.remove()}}}};function ca(e,t,a,n,r,s){const i=y("ConfirmDialog");return s.show?(l(),b(i,{key:0,button:a.button,"button-text":s.title,confirm:s.confirm,"confirm-text":"Download","prepend-icon":r.mdiDownload,"title-text":s.title,text:"May take a while",onConfirm:s.download},null,8,["button","button-text","confirm","prepend-icon","title-text","onConfirm"])):p("",!0)}const ma=M(da,[["render",ca],["__scopeId","data-v-b589c090"]]),ha=1,pa={name:"MarkReadButton",components:{ConfirmDialog:je},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},computed:{...de(I,["groupNames"]),verb(){return this.item.finished?"Unread":"Read"},confirm(){return this.item.children>ha},show(){var e,t;return((t=(e=this.item)==null?void 0:e.ids)==null?void 0:t.length)>0&&!this.item.ids.includes(0)},icon(){return this.item.finished?ct:mt},confirmText(){return this.confirm?`Mark ${this.verb}`:""},markReadText(){const e=["Mark"];this.item.group!="c"&&e.push("Entire");const t=this.groupNames[this.item.group];return e.push(t,this.verb),e.join(" ")},itemName(){return this.item.name||"(Empty)"}},methods:{...pe(I,["setBookmarkFinished"]),toggleRead:function(){this.setBookmarkFinished(this.item,!this.item.finished)}}};function fa(e,t,a,n,r,s){const i=y("ConfirmDialog");return s.show?(l(),b(i,{key:0,button:a.button,"button-text":s.markReadText,confirm:s.confirm,"confirm-text":s.confirmText,"prepend-icon":s.icon,"title-text":s.markReadText,text:s.itemName,onConfirm:s.toggleRead},null,8,["button","button-text","confirm","confirm-text","prepend-icon","title-text","text","onConfirm"])):p("",!0)}const va=M(pa,[["render",fa],["__scopeId","data-v-c904f535"]]),ga=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ba=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],ka=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],ya=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Ee=(e,t,a)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(n=e.toLocaleString(void 0,a)),n},qe=e=>{if(typeof e=="number")return Math.log10(e);const t=e.toString(10);return t.length+Math.log10("0."+t.slice(0,15))},_a=e=>typeof e=="number"?Math.log(e):qe(e)*Math.log(10),Sa=(e,t)=>{if(typeof e=="number")return e/t;const a=e/BigInt(t),n=e%BigInt(t);return Number(a)+Number(n)/t};function He(e,t){if(typeof e!="bigint"&&!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?ya:ka:t.binary?ba:ga,n=t.space?" ":"";if(t.signed&&(typeof e=="number"?e===0:e===0n))return` 0${n}${a[0]}`;const r=e<0,s=r?"-":t.signed?"+":"";r&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i={maximumFractionDigits:t.maximumFractionDigits,...i}),e<1){const g=Ee(e,t.locale,i);return s+g+n+a[0]}const o=Math.min(Math.floor(t.binary?_a(e)/Math.log(1024):qe(e)/3),a.length-1);e=Sa(e,(t.binary?1024:1e3)**o),i||(e=e.toPrecision(3));const d=Ee(Number(e),t.locale,i),h=a[o];return s+d+n+h}const wa={name:"MetadataExpandButton"};function Ca(e,t,a,n,r,s){return l(),b(ve,{density:"compact",text:"...expand",variant:"text"})}const Ta=M(wa,[["render",Ca]]),Ma={name:"MetadataTextBox",components:{ExpandButton:Ta},props:{group:{type:String,default:""},highlight:{type:Boolean,default:!1},label:{type:String,default:""},maxHeight:{type:Number,default:0},value:{type:[Object,String,Number,Boolean],default:void 0}},data(){return{mdiOpenInNew:ze,expanded:!1,mounted:!1}},computed:{...de(I,["groupNames"]),...z(I,{browserShow:e=>e.settings.show,browserTopGroup:e=>e.settings.topGroup,folderViewEnabled:e=>e.page.adminFlags.folderView}),computedValue(){return this.value&&this.value.name!==void 0?this.value.name:this.value},lastSlashIndex(){return this.computedValue.lastIndexOf("/")+1},displayValue(){let e;return this.group==="f"&&this.computedValue?e=this.computedValue.slice(0,Math.max(0,this.lastSlashIndex)):this.group==="v"&&this.computedValue?e=ht(this.computedValue):e=this.computedValue,e},textValueStyles(){const e=this.maxHeight>0&&!this.expanded?this.maxHeight:0;return e?"max-height: "+e+"px;":""},textValueRefName(){return"mdTextValue"+this.label.replaceAll(" ","")},isOverflow(){if(!this.mounted)return!1;const e=this.$refs[this.textValueRefName];return e?e.clientHeight<e.scrollHeight:!1},showExpandButton(){return!this.expanded&&this.maxHeight>0&&this.isOverflow},linkPks(){return(this.value.ids||[this.value.pk]).join(",")},clickable(){var t;const e=this.$router.currentRoute.value.params;return!this.group||e.group===this.group||this.group==="f"&&!this.folderViewEnabled||!["a","f"].includes(this.group)&&!this.browserShow[this.group]?!1:!!((t=this.linkPks)!=null&&t.length)},classes(){return{clickable:this.clickable,highlight:this.highlight}},toRoute(){if(!this.clickable)return"";const e=this.group,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){return{topGroup:this.getTopGroup(this.group)}},title(){let e;return this.label?e=this.label:this.group?e=this.groupNames[this.group]:e="",this.toRoute?`Browse to ${e}`:e},baseName(){return this.group==="f"?this.computedValue.slice(Math.max(0,this.lastSlashIndex)):""}},mounted(){this.mounted=!0},methods:{...pe(I,["routeWithSettings","getTopGroup"]),onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Ba={key:0,class:"text"},Ra={key:0,class:"textLabel"},Va=["title"],Na={key:0,class:"textContent"};function La(e,t,a,n,r,s){const i=y("ExpandButton");return s.displayValue?(l(),v("div",Ba,[a.label?(l(),v("div",Ra,[re(E(a.label)+" ",1),s.showExpandButton?(l(),b(i,{key:0,class:"expandButton",onClick:t[0]||(t[0]=o=>r.expanded=!0)})):p("",!0)])):p("",!0),u(Ut,null,{default:$(()=>[c("div",null,[c("div",{ref:s.textValueRefName,class:"textValue",style:oe(s.textValueStyles)},[c("span",{class:N(["textContent",s.classes]),title:s.title,onClick:t[1]||(t[1]=(...o)=>s.onClick&&s.onClick(...o))},E(s.displayValue),11,Va),s.baseName?(l(),v("span",Na,E(s.baseName),1)):p("",!0)],4),s.showExpandButton&&!a.label?(l(),b(i,{key:0,class:"expandButton",onClick:t[2]||(t[2]=o=>r.expanded=!0)})):p("",!0)])]),_:1})])):p("",!0)}const Re=M(Ma,[["render",La],["__scopeId","data-v-41dc5477"]]),Ke=["creators","writers","pencillers","inkers","cover_artists","colorists","letterers","editors"];Object.freeze(Ke);const We=["genres","characters","teams","locations","seriesGroups","stories","storyArcNumbers","tags"];Object.freeze(We);const Z=pt("metadata",{state:()=>({md:void 0}),getters:{_mappedContributors(e){var a;const t={};if(!((a=e==null?void 0:e.md)!=null&&a.contributors))return t;for(const{role:n,person:r}of e.md.contributors){const s=n.name+"s";s in t||(t[s]=[]),t[s].push(r)}return t},_sortedRoles(e){let t=[];const a=new Set(Object.keys(e._mappedContributors));for(const r of Ke)a.has(r)&&(t.push(r),a.delete(r));const n=[...a].sort();return[...t,...n]},contributors(e){return this.mapTag(e._mappedContributors,e._sortedRoles,"contributors")},identifiers(e){var a;const t=[];if(!((a=e.md)!=null&&a.identifiers))return t;for(const n of this.md.identifiers){const r=n.name.split(":"),s=r[0],i=r[1],o=I().identifierTypeTitle(s);let d="";o&&o!=="None"&&(d+=o+":"),d+=i;const h={pk:n.pk,url:n.url,name:d};t.push(h)}return t},tags(e){const t=e.mapTag(e.md,We);return this.identifiers&&(t.Identifiers={filter:"identifiers",tags:this.identifiers}),t}},actions:{async loadMetadata({group:e,pks:t}){await vt.getMetadata({group:e,pks:t},I().metadataSettings).then(a=>{const n={...a.data};return n.loaded=!0,this.md=n,!0}).catch(a=>{console.error(a),this.clearMetadata()})},clearMetadata(){this.md=void 0},mapTag(e,t,a){const n={};for(const r of t){let s=e[r];if(!(s!=null&&s.length))continue;let i;a?i=a:r==="storyArcNumbers"?i="storyArcs":i=r;const o=ft(r);s=s.sort((d,h)=>d.name.localeCompare(h.name)),n[o]={filter:i,tags:s}}return n}}}),Ia={name:"MetadataRatings",components:{MetadataText:Re},computed:{...z(Z,{md:e=>e.md}),show(){var e,t,a;return((e=this.md)==null?void 0:e.communityRating)||((t=this.md)==null?void 0:t.criticRating)||((a=this.md)==null?void 0:a.ageRating)}}},$a={key:0},xa={key:1},Pa={key:2};function Fa(e,t,a,n,r,s){const i=y("MetadataText");return s.show?(l(),b(Ue,{key:0},{default:$(()=>[c("tbody",null,[e.md.communityRating?(l(),v("tr",$a,[t[0]||(t[0]=c("td",{class:"key"},"Community Rating",-1)),c("td",null,[u(i,{value:e.md.communityRating},null,8,["value"])])])):p("",!0),e.md.criticalRating?(l(),v("tr",xa,[t[1]||(t[1]=c("td",{class:"key"},"Critical Rating",-1)),c("td",null,[u(i,{value:e.md.criticalRating},null,8,["value"])])])):p("",!0),e.md.ageRating?(l(),v("tr",Pa,[t[2]||(t[2]=c("td",{class:"key"},"Age Rating",-1)),c("td",null,[u(i,{value:e.md.ageRating},null,8,["value"])])])):p("",!0)])]),_:1})):p("",!0)}const Da=M(Ia,[["render",Fa],["__scopeId","data-v-c3e9cb26"]]),Ea=new Set(["p","i","s","v"]),za={name:"MetadataTags",props:{item:{type:Object,required:!0},filter:{type:String,default:""}},data(){return{mdiOpenInNew:ze}},computed:{...z(I,{browserShow:e=>e.settings.show,filterValues(e){return e.settings.filters[this.filter]},topGroup:e=>e.settings.topGroup}),...z(Z,{mdGroup:e=>e.md.group,mdIds:e=>e.md.ids}),groupMode(){return Ea.has(this.filter)},clickable(){return this.filter&&this.item.value&&(!this.groupMode||this.browserShow[this.filter])},classes(){return{clickable:(this.clickable||this.item.url)&&!this.highlight}},highlight(){var e;return!!(this.groupMode&&this.filter===this.mdGroup&&this.mdIds.includes(this.item.value)||(e=this.filterValues)!=null&&e.includes(this.item.value))},variant(){return this.highlight?"flat":"tonal"},color(){const e=this.$vuetify.theme.current.colors;return this.highlight?e["primary-darken-1"]:""},linkGroup(){let e;return this.groupMode?e=this.filter:e=["f","s"].includes(this.topGroup)?this.topGroup:"r",e},linkPks(){return this.groupMode||this.linkGroup!=="a"&&this.filter==="storyArcs"?this.item.value.toString():"0"},toRoute(){if(!this.clickable)return"";const e=this.linkGroup,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){let e;return this.linkPks==="0"?e={filters:{[this.filter]:[this.item.value]}}:e={topGroup:this.getTopGroup(this.linkGroup)},e}},methods:{...pe(I,["routeWithSettings","getTopGroup"]),async onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Oa=["href"],Aa={key:1};function Ga(e,t,a,n,r,s){return l(),b(Dt,{class:N(s.classes),color:s.color,value:a.item.value,variant:s.variant,onClick:s.onClick},{default:$(()=>[a.item.url?(l(),v("a",{key:0,href:a.item.url,target:"_blank"},[re(E(a.item.title),1),u(Ge,null,{default:$(()=>[re(E(r.mdiOpenInNew),1)]),_:1})],8,Oa)):(l(),v("span",Aa,E(a.item.title),1))]),_:1},8,["class","color","value","variant","onClick"])}const Ua=M(za,[["render",Ga],["__scopeId","data-v-90b0c4fe"]]),ja={name:"MetadataTags",components:{MetadataChip:Ua},props:{label:{type:String,default:""},values:{type:Array,default(){return[]}},filter:{type:String,required:!1,default:void 0}},computed:{items(){return ta(this.values)}}},qa={key:0},Ha={key:0,class:"chipGroupLabel"};function Ka(e,t,a,n,r,s){var o;const i=y("MetadataChip");return((o=s.items)==null?void 0:o.length)>0?(l(),v("div",qa,[a.label?(l(),v("div",Ha,E(a.label),1)):p("",!0),c("div",null,[(l(!0),v(fe,null,ue(s.items,d=>(l(),b(i,{key:`${a.filter}/${d.value}`,filter:a.filter,item:d},null,8,["filter","item"]))),128))])])):p("",!0)}const Ye=M(ja,[["render",Ka],["__scopeId","data-v-b7cb58ab"]]),Wa={name:"MetadataTagsTable",components:{MetadataTags:Ye},props:{tagMap:{type:Object,required:!0}},computed:{show(){return Object.keys(this.tagMap).length>0}}},Ya={class:"key"},Za={class:"tags"};function Xa(e,t,a,n,r,s){const i=y("MetadataTags");return s.show?(l(),b(Ue,{key:0},{default:$(()=>[c("tbody",null,[(l(!0),v(fe,null,ue(Object.entries(a.tagMap),([o,{filter:d,tags:h}])=>(l(),v("tr",{key:o},[c("td",Ya,E(o),1),c("td",Za,[u(i,{filter:d,values:h},null,8,["filter","values"])])]))),128))])]),_:1})):p("",!0)}const Qa=M(Wa,[["render",Xa],["__scopeId","data-v-bbaac1cc"]]),Ja={name:"MetadataBody",components:{MetadataRatings:Da,MetadataTagsTable:Qa,MetadataText:Re},props:{group:{type:String,required:!0},book:{type:Object,required:!0}},computed:{...de(Z,["contributors","ratings","tags"]),...z(I,{twentyFourHourTime:e=>{var t;return(t=e.settings)==null?void 0:t.twentyFourHourTime},readingDirectionTitles:e=>e.choices.static.readingDirection}),...z(Z,{md:e=>e.md}),readingDirectionText(){return this.md?this.readingDirectionTitles[this.md.readingDirection]:"Unknown"},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?He(this.md.size):0},sizeLabel(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.group)==="c"?"Size":"Total Size"},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"}},methods:{formatDateTime(e){return gt(e,this.twentyFourHourTime)}}},es={id:"metadataBody"},ts={class:"mdSection"},as={class:"mdSection"},ss={class:"quarterRow"},is={class:"thirdRow"},ns={class:"lastSmallRow"},rs={key:0,class:"halfRow mdSection"},os={class:"mdSection"},ls={class:"inlineRow"},us={class:"inlineRow"};function ds(e,t,a,n,r,s){var h,g;const i=y("MetadataText"),o=y("MetadataTagsTable"),d=y("MetadataRatings");return l(),v("div",es,[c("section",ts,[u(i,{value:e.md.summary,"max-height":100},null,8,["value"]),u(i,{value:e.md.review,label:"Review","max-height":100},null,8,["value"])]),u(o,{"tag-map":e.contributors,class:"mdSection"},null,8,["tag-map"]),c("section",as,[c("div",ss,[e.md.createdAt?(l(),b(i,{key:0,value:s.formatDateTime(e.md.createdAt),label:"Created at",class:"mtime"},null,8,["value"])):p("",!0),e.md.updatedAt?(l(),b(i,{key:1,value:s.formatDateTime(e.md.updatedAt),label:"Updated at",class:"mtime"},null,8,["value"])):p("",!0),u(i,{value:s.size,label:s.sizeLabel},null,8,["value","label"]),u(i,{value:s.fileType,label:"File Type"},null,8,["value"])]),c("div",is,[u(i,{label:"Reading Direction",value:s.readingDirectionText},null,8,["value"]),u(i,{value:e.md.original_format,label:"Original Format"},null,8,["value"]),u(i,{value:(!!e.md.monochrome).toString(),label:"Monochrome"},null,8,["value"])]),c("div",ns,[u(i,{group:"f",value:{pk:e.md.parentFolderId,name:e.md.path},label:"Path"},null,8,["value"])])]),(h=e.md)!=null&&h.country||(g=e.md)!=null&&g.language?(l(),v("section",rs,[u(i,{value:e.md.country,label:"Country"},null,8,["value"]),u(i,{value:e.md.language,label:"Language"},null,8,["value"])])):p("",!0),u(d,{class:"mdSection"}),u(o,{"tag-map":e.tags,class:"mdSection"},null,8,["tag-map"]),c("section",os,[c("section",ls,[u(i,{value:e.md.notes,label:"Notes"},null,8,["value"])]),c("section",us,[u(i,{value:e.md.tagger,label:"Tagger"},null,8,["value"]),u(i,{value:e.md.scanInfo,label:"Scan"},null,8,["value"])])])])}const cs=M(Ja,[["render",ds],["__scopeId","data-v-d2a60d46"]]),Ze=new Set("rtl","btt");Object.freeze(Ze);const Xe=({ids:e,page:t,readingDirection:a,pageCount:n},r)=>{if(e.length===0||r&&!n)return"";const s=e[0];if(t)t=Number(t);else if(Ze.has(a)){const i=Number(n)-1;t=Math.max(i,0)}else t=0;return{name:"reader",params:{pk:s,page:t}}},Qe={p:"publisher",i:"imprint",s:"series",v:"volume",f:"folder",a:"storyArc"};Object.freeze(Qe);const ms={name:"MetadataControls",components:{DownloadButton:ma,MarkReadButton:va},props:{group:{type:String,required:!0}},computed:{...z(Z,{md:e=>e.md}),...z(I,{importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata}}),downloadName(){const e=this.md;let t;if(!e)t="Unknown.cbz";else if(e.fileName)t=e.fileName;else{if(this.md.group==="f")return[this.firstNameFromList(e.folderList)];if(this.md.group==="a")return[this.firstNameFromList(e.storyArcList)];t=[this.firstNameFromList(e.publisherList),this.firstNameFromList(e.imprintList),this.firstNameFromList(e.seriesList),this.firstNameFromList(e.volumeList),Oe(this.md,3),this.md.name].filter(Boolean).join(" ")}return t},downloadItem(){var e,t,a,n;return{group:(e=this.md)==null?void 0:e.group,ids:(t=this.md)==null?void 0:t.ids,childCount:(a=this.md)==null?void 0:a.childCount,mtime:(n=this.md)==null?void 0:n.mtime,name:this.downloadName}},isReadButtonShown(){return this.group==="c"&&this.$route.name!="reader"},isReadButtonEnabled(){return!!this.readerRoute},markReadItem(){let e="";const t=Qe[this.md.group];return t?e=(this.md[t+"List"]||[]).map(({name:r})=>r).join(", "):e=this.md.name,{group:this.md.group,ids:this.md.ids,finished:this.md.finished,name:e,children:this.md.childCount||1}},readButtonIcon(){return this.isReadButtonEnabled?bt:kt},readerRoute(){var e;return(e=this.md)!=null&&e.ids?Xe(this.md,this.importMetadata):{}},size(){return this.$vuetify.display.smAndDown?"x-small":"default"}},methods:{firstNameFromList(e){let t="";if(!e)return t;for(const a of Object.values(e))if(a.name){t=a.name;break}return t}}},hs={class:"controlRow"};function ps(e,t,a,n,r,s){const i=y("DownloadButton"),o=y("MarkReadButton");return l(),v("section",hs,[u(i,{id:"downloadButton",button:!0,item:s.downloadItem,size:s.size},null,8,["item","size"]),u(o,{id:"markReadButton",button:!0,item:s.markReadItem,size:s.size},null,8,["item","size"]),s.isReadButtonShown?(l(),b(ve,{key:0,id:"readButton",title:"Read Comic",disabled:!s.isReadButtonEnabled,size:s.size,to:s.readerRoute},{default:$(()=>[u(Ge,null,{default:$(()=>[re(E(s.readButtonIcon),1)]),_:1}),t[0]||(t[0]=re(" Read "))]),_:1,__:[0]},8,["disabled","size","to"])):p("",!0)])}const fs=M(ms,[["render",ps],["__scopeId","data-v-d254bb05"]]),vs={name:"MetadataBookCover",components:{BookCover:la},props:{group:{type:String,required:!0}},computed:{...z(Z,{md:e=>e.md})}},gs={class:"bookCoverWrapper"};function bs(e,t,a,n,r,s){const i=y("BookCover");return l(),v("div",gs,[u(i,{id:"bookCover",group:a.group,pks:e.md.ids,"child-count":e.md.childCount,finished:e.md.finished,mtime:e.md.mtime},null,8,["group","pks","child-count","finished","mtime"]),u(Nt,{class:"bookCoverProgress","model-value":e.md.progress,rounded:"","background-color":"inherit",height:"2","aria-label":"% read"},null,8,["model-value"])])}const ks=M(vs,[["render",bs],["__scopeId","data-v-3a0db03b"]]),ys={name:"MetadataHeader",components:{MetadataBookCover:ks,MetadataControls:fs,MetadataTags:Ye,MetadataText:Re},props:{group:{type:String,required:!0}},computed:{...z(I,{importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata},q:e=>e.settings.q}),...z(Z,{md:e=>e.md}),date(){if(!this.md.year&&!this.md.month&&!this.md.day)return"";const e=new Date(this.md.year||1970,this.md.month||1,this.md.day||1),t={};return this.md.year&&(t.year="numeric"),this.md.month&&(t.month=this.$vuetify.display.smAndDown?"short":"long"),this.md.day&&(t.day="numeric"),e.toLocaleDateString("default",t)},readerRoute(){var e;return(e=this.md)!=null&&e.ids?Xe(this.md,this.importMetadata):{}},formattedIssueNumber(){if(!this.md)return"Unknown";if(!((this.md.issueNumber===null||this.md.issueNumber===void 0)&&!this.md.issueSuffix))return"#"+Oe(this.md)},pages(){let e="";if(!this.md)return e;if(this.md.page){const a=_e.format(this.md.page);e+=this.$vuetify.display.smAndDown?`${a} / `:`Read ${a} of `}const t=_e.format(this.md.pageCount);return e+=`${t} page`,this.md.pageCount!==1&&(e+="s"),this.$vuetify.display.smAndUp&&this.md.progress>0&&(e+=` (${Math.round(this.md.progress)}%)`),e},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?He(this.md.size):0},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"},seriesVolumeCount(){const e=this.md.seriesVolumeCount;return e?`of ${e}`:""},volumeIssueCount(){const e=this.md.volumeIssueCount;return e?`/ ${e}`:""}}},_s={id:"metadataHeader"},Ss={key:1,id:"seriesHeader"},ws={id:"seriesRow",class:"inlineRow"},Cs={key:2,id:"titleRow"},Ts={key:4,id:"publisherRow",class:"inlineRow"},Ms={key:7,id:"pageDateRow",class:"inlineRow"};function Bs(e,t,a,n,r,s){var g,w,V,L,O,A,q,x;const i=y("MetadataText"),o=y("MetadataBookCover"),d=y("MetadataTags"),h=y("MetadataControls");return l(),v(fe,null,[c("header",_s,[e.q?(l(),b(i,{key:0,id:"search",value:e.q,label:"Search Query",highlight:!0},null,8,["value"])):p("",!0),u(o,{id:"metadataBookCover",group:a.group},null,8,["group"]),((g=e.md.seriesList)==null?void 0:g.length)===1?(l(),v("section",Ss,[c("div",ws,[(l(),b(i,{id:"series",key:e.md.seriesList[0].ids,value:e.md.seriesList[0],group:"s",highlight:e.md.group==="s"},null,8,["value","highlight"])),((w=e.md.volumeList)==null?void 0:w.length)===1?(l(),b(i,{id:"volume",key:e.md.volumeList[0].ids,value:e.md.volumeList[0],group:"v",highlight:e.md.group==="v"},null,8,["value","highlight"])):p("",!0),u(i,{value:s.seriesVolumeCount,class:"subdued"},null,8,["value"]),u(i,{id:"issue",value:s.formattedIssueNumber,group:"c",highlight:e.md.group==="c"},null,8,["value","highlight"]),u(i,{value:s.volumeIssueCount,class:"subdued"},null,8,["value"])])])):p("",!0),e.md.name?(l(),v("span",Cs,E(e.md.name),1)):p("",!0),((V=e.md.seriesList)==null?void 0:V.length)>1?(l(),b(d,{key:3,id:"seriesTags",class:"groupTags",label:"Series",values:e.md.seriesList,filter:"s"},null,8,["values"])):p("",!0),c("div",null,[((L=e.md.volumeList)==null?void 0:L.length)>1?(l(),b(d,{key:0,id:"volumeTags",class:"groupTags",label:"Volumes",values:e.md.volumeList,filter:"v"},null,8,["values"])):p("",!0)]),((O=e.md.publisherList)==null?void 0:O.length)===1?(l(),v("div",Ts,[(l(),b(i,{id:"publisher",key:e.md.publisherList[0].ids,group:"p",highlight:e.md.group==="p",value:e.md.publisherList[0]},null,8,["highlight","value"])),((A=e.md.imprintList)==null?void 0:A.length)===1?(l(),b(i,{id:"imprint",key:e.md.imprintList[0].ids,group:"i",highlight:e.md.group==="i",value:e.md.imprintList[0]},null,8,["highlight","value"])):p("",!0)])):p("",!0),((q=e.md.publisherList)==null?void 0:q.length)>1?(l(),b(d,{key:5,id:"publisherTags",class:"groupTags",label:"Publishers",values:e.md.publisherList,filter:"p"},null,8,["values"])):p("",!0),((x=e.md.imprintList)==null?void 0:x.length)>1?(l(),b(d,{key:6,id:"imprintTags",class:"groupTags",label:"Imprints",values:e.md.imprintList,filter:"i"},null,8,["values"])):p("",!0),s.pages||e.md.year||e.md.month||e.md.day?(l(),v("div",Ms,[u(i,{value:s.pages},null,8,["value"]),u(i,{value:s.date,class:"datePicker"},null,8,["value"])])):p("",!0)]),u(h,{id:"controls",group:a.group},null,8,["group"])],64)}const Rs=M(ys,[["render",Bs],["__scopeId","data-v-d0899f1f"]]),Vs=1160,Ns=.05,Ls=250,Is={name:"MetadataButton",components:{CloseButton:Gt,MetadataBody:cs,MetadataHeader:Rs,PlaceholderLoading:Yt},props:{book:{type:Object,required:!0},children:{type:Number,default:1},group:{type:String,required:!0},toolbar:{type:Boolean,default:!1}},data(){return{mdiTagOutline:yt,dialog:!1,progress:0}},computed:{...z(Z,{md:e=>e.md}),showContainer(){var e;return((e=this.md)==null?void 0:e.loaded)||!1},buttonVariant(){return this.toolbar?"plain":"text"}},watch:{dialog(e){e?this.dialogOpened():this.clearMetadata()}},methods:{...pe(Z,["clearMetadata","loadMetadata"]),dialogOpened(){const e=this.book.ids||[this.book.pk],t={group:this.group,pks:e};this.loadMetadata(t),this.startProgress()},startProgress(){this.startTime=Date.now(),this.estimatedMS=Math.max(Ns,this.children/Vs)*1e3,this.updateProgress()},updateProgress(){const e=Date.now()-this.startTime;this.progress=e/this.estimatedMS*100,!(this.progress>=100||this.md)&&setTimeout(()=>{this.updateProgress()},Ls)}}},$s={key:1,id:"placeholderContainer"};function xs(e,t,a,n,r,s){const i=y("CloseButton"),o=y("MetadataHeader"),d=y("MetadataBody"),h=y("PlaceholderLoading");return l(),b(At,{modelValue:r.dialog,"onUpdate:modelValue":t[3]||(t[3]=g=>r.dialog=g),fullscreen:"",transition:"dialog-bottom-transition"},{activator:$(({props:g})=>[u(ve,J({"aria-label":"tags",class:"tagButton cardControlButton",variant:s.buttonVariant,icon:r.mdiTagOutline,title:"Tags"},g,{onClick:t[0]||(t[0]=St(()=>{},["prevent"]))}),null,16,["variant","icon"])]),default:$(()=>[u(i,{class:"closeButton",title:"Close Metadata (esc)",onClick:t[1]||(t[1]=g=>r.dialog=!1)}),s.showContainer?(l(),v("div",{key:0,id:"metadataContainer",onKeyup:t[2]||(t[2]=_t(g=>r.dialog=!1,["esc"]))},[u(o,{group:a.group},null,8,["group"]),u(d,{book:a.book,group:a.group},null,8,["book","group"])],32)):(l(),v("div",$s,[t[4]||(t[4]=c("div",{id:"placeholderTitle"},"Tags Loading",-1)),u(h,{"model-value":r.progress,indeterminate:r.progress>=100,class:"placeholder"},null,8,["model-value","indeterminate"])]))]),_:1},8,["modelValue"])}const di=M(Is,[["render",xs],["__scopeId","data-v-60b1fb43"]]),Ps={name:"PaginationNavButton",props:{narrow:{type:Boolean,default:!0}},computed:{classes(){return{narrowButton:this.narrow}}}};function Fs(e,t,a,n,r,s){return l(),b(ve,{variant:"plain",density:"compact",class:N(["paginationNavButton",s.classes]),size:"medium"},Te({_:2},[ue(e.$slots,(i,o)=>({name:o,fn:$(d=>[Me(e.$slots,o,J({props:i},d),void 0,!0)])}))]),1032,["class"])}const ci=M(Ps,[["render",Fs],["__scopeId","data-v-cf061c30"]]),Ve=Symbol.for("vuetify:v-slider");function Ds(e,t,a){const n=a==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return n?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function Es(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const zs=le({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...It(),...Lt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Os=e=>{const t=k(()=>parseFloat(e.min)),a=k(()=>parseFloat(e.max)),n=k(()=>Number(e.step)>0?parseFloat(e.step):0),r=k(()=>Math.max(Ie(n.value),Ie(t.value)));function s(i){if(i=parseFloat(i),n.value<=0)return i;const o=we(i,t.value,a.value),d=t.value%n.value;let h=Math.round((o-d)/n.value)*n.value+d;return o>h&&h+n.value>a.value&&(h=a.value),parseFloat(Math.min(h,a.value).toFixed(r.value))}return{min:t,max:a,step:n,decimals:r,roundValue:s}},As=e=>{let{props:t,steps:a,onSliderStart:n,onSliderMove:r,onSliderEnd:s,getActiveThumb:i}=e;const{isRtl:o}=Be(),d=D(()=>t.reverse),h=k(()=>t.direction==="vertical"),g=k(()=>h.value!==d.value),{min:w,max:V,step:L,decimals:O,roundValue:A}=a,q=k(()=>parseInt(t.thumbSize,10)),x=k(()=>parseInt(t.tickSize,10)),K=k(()=>parseInt(t.trackSize,10)),W=k(()=>(V.value-w.value)/L.value),ee=D(()=>t.disabled),G=k(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),C=k(()=>t.error||t.disabled?void 0:t.trackColor??t.color),U=k(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),T=$e(!1),B=$e(0),j=Se(),P=Se();function _(m){var Ne;const f=(Ne=j.value)==null?void 0:Ne.$el;if(!f)return;const H=t.direction==="vertical",Je=H?"top":"left",et=H?"height":"width",tt=H?"clientY":"clientX",{[Je]:at,[et]:st}=f.getBoundingClientRect(),it=Es(m,tt);let ke=we((it-at-B.value)/st)||0;return(H?g.value:g.value!==o.value)&&(ke=1-ke),A(w.value+ke*(V.value-w.value))}const te=m=>{const f=_(m);f!=null&&s({value:f}),T.value=!1,B.value=0},Y=m=>{const f=_(m);P.value=i(m),P.value&&(T.value=!0,P.value.contains(m.target)?B.value=Ds(m,P.value,t.direction):(B.value=0,f!=null&&r({value:f})),f!=null&&n({value:f}),Ct(()=>{var H;return(H=P.value)==null?void 0:H.focus()}))},F={passive:!0,capture:!0};function X(m){const f=_(m);f!=null&&r({value:f})}function Q(m){m.stopPropagation(),m.preventDefault(),te(m),window.removeEventListener("mousemove",X,F),window.removeEventListener("mouseup",Q)}function ce(m){var f;te(m),window.removeEventListener("touchmove",X,F),(f=m.target)==null||f.removeEventListener("touchend",ce)}function ge(m){var f;Y(m),window.addEventListener("touchmove",X,F),(f=m.target)==null||f.addEventListener("touchend",ce,{passive:!1})}function be(m){m.button===0&&(m.preventDefault(),Y(m),window.addEventListener("mousemove",X,F),window.addEventListener("mouseup",Q,{passive:!1}))}const ie=m=>{const f=(m-w.value)/(V.value-w.value)*100;return we(isNaN(f)?0:f,0,100)},R=D(()=>t.showTicks),S=k(()=>R.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(m=>({value:m,position:ie(m),label:m.toString()})):Object.keys(t.ticks).map(m=>({value:parseFloat(m),position:ie(parseFloat(m)),label:t.ticks[m]})):W.value!==1/0?wt(W.value+1).map(m=>{const f=w.value+m*L.value;return{value:f,position:ie(f)}}):[]:[]),ne=k(()=>S.value.some(m=>{let{label:f}=m;return!!f})),ae={activeThumbRef:P,color:D(()=>t.color),decimals:O,disabled:ee,direction:D(()=>t.direction),elevation:D(()=>t.elevation),hasLabels:ne,isReversed:d,indexFromEnd:g,min:w,max:V,mousePressed:T,numTicks:W,onSliderMousedown:be,onSliderTouchstart:ge,parsedTicks:S,parseMouseMove:_,position:ie,readonly:D(()=>t.readonly),rounded:D(()=>t.rounded),roundValue:A,showTicks:R,startOffset:B,step:L,thumbSize:q,thumbColor:G,thumbLabel:D(()=>t.thumbLabel),ticks:D(()=>t.ticks),tickSize:x,trackColor:C,trackContainerRef:j,trackFillColor:U,trackSize:K,vertical:h};return Tt(Ve,ae),ae},Gs=le({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ce()},"VSliderThumb"),Us=me()({name:"VSliderThumb",directives:{vRipple:Pe},props:Gs(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=Ae(Ve),{isRtl:s,rtlClasses:i}=Be();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:o,max:d,thumbColor:h,step:g,disabled:w,thumbSize:V,thumbLabel:L,direction:O,isReversed:A,vertical:q,readonly:x,elevation:K,mousePressed:W,decimals:ee,indexFromEnd:G}=r,C=k(()=>w.value?void 0:K.value),{elevationClasses:U}=$t(C),{textColorClasses:T,textColorStyles:B}=xt(h),{pageup:j,pagedown:P,end:_,home:te,left:Y,right:F,down:X,up:Q}=Mt,ce=[j,P,_,te,Y,F,X,Q],ge=k(()=>g.value?[1,2,3]:[1,5,10]);function be(R,S){if(!ce.includes(R.key))return;R.preventDefault();const ne=g.value||.1,ae=(d.value-o.value)/ne;if([Y,F,X,Q].includes(R.key)){const f=(q.value?[s.value?Y:F,A.value?X:Q]:G.value!==s.value?[Y,Q]:[F,Q]).includes(R.key)?1:-1,H=R.shiftKey?2:R.ctrlKey?1:0;f===-1&&S===d.value&&!H&&!Number.isInteger(ae)?S=S-ae%1*ne:S=S+f*ne*ge.value[H]}else if(R.key===te)S=o.value;else if(R.key===_)S=d.value;else{const m=R.key===P?1:-1;S=S-m*ne*(ae>100?ae/10:10)}return Math.max(e.min,Math.min(e.max,S))}function ie(R){const S=be(R,e.modelValue);S!=null&&n("update:modelValue",S)}return he(()=>{const R=se(G.value?100-e.position:e.position,"%");return c("div",{class:N(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&W.value},e.class,i.value]),style:oe([{"--v-slider-thumb-position":R,"--v-slider-thumb-size":se(V.value)},e.style]),role:"slider",tabindex:w.value?-1:0,"aria-label":e.name,"aria-valuemin":o.value,"aria-valuemax":d.value,"aria-valuenow":e.modelValue,"aria-readonly":!!x.value,"aria-orientation":O.value,onKeydown:x.value?void 0:ie},[c("div",{class:N(["v-slider-thumb__surface",T.value,U.value]),style:{...B.value}},null),xe(c("div",{class:N(["v-slider-thumb__ripple",T.value]),style:oe(B.value)},null),[[Pe,e.ripple,null,{circle:!0,center:!0}]]),u(jt,{origin:"bottom center"},{default:()=>{var S;return[xe(c("div",{class:"v-slider-thumb__label-container"},[c("div",{class:N(["v-slider-thumb__label",T.value])},[c("div",null,[((S=a["thumb-label"])==null?void 0:S.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(g.value?ee.value:1)])])]),[[Bt,L.value&&e.focused||L.value==="always"]])]}})])}),{}}}),js=le({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ce()},"VSliderTrack"),qs=me()({name:"VSliderTrack",props:js(),emits:{},setup(e,t){let{slots:a}=t;const n=Ae(Ve);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:i,showTicks:o,tickSize:d,trackColor:h,trackFillColor:g,trackSize:w,vertical:V,min:L,max:O,indexFromEnd:A}=n,{roundedClasses:q}=Pt(i),{backgroundColorClasses:x,backgroundColorStyles:K}=Fe(g),{backgroundColorClasses:W,backgroundColorStyles:ee}=Fe(h),G=k(()=>`inset-${V.value?"block":"inline"}-${A.value?"end":"start"}`),C=k(()=>V.value?"height":"width"),U=k(()=>({[G.value]:"0%",[C.value]:"100%"})),T=k(()=>e.stop-e.start),B=k(()=>({[G.value]:se(e.start,"%"),[C.value]:se(T.value,"%")})),j=k(()=>o.value?(V.value?s.value.slice().reverse():s.value).map((_,te)=>{var F;const Y=_.value!==L.value&&_.value!==O.value?se(_.position,"%"):void 0;return c("div",{key:_.value,class:N(["v-slider-track__tick",{"v-slider-track__tick--filled":_.position>=e.start&&_.position<=e.stop,"v-slider-track__tick--first":_.value===L.value,"v-slider-track__tick--last":_.value===O.value}]),style:{[G.value]:Y}},[(_.label||a["tick-label"])&&c("div",{class:"v-slider-track__tick-label"},[((F=a["tick-label"])==null?void 0:F.call(a,{tick:_,index:te}))??_.label])])}):[]);return he(()=>c("div",{class:N(["v-slider-track",q.value,e.class]),style:oe([{"--v-slider-track-size":se(w.value),"--v-slider-tick-size":se(d.value)},e.style])},[c("div",{class:N(["v-slider-track__background",W.value,{"v-slider-track__background--opacity":!!r.value||!g.value}]),style:{...U.value,...ee.value}},null),c("div",{class:N(["v-slider-track__fill",x.value]),style:{...B.value,...K.value}},null),o.value&&c("div",{class:N(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}])},[j.value])])),{}}}),Hs=le({...Kt(),...zs(),...Ht(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ks=me()({name:"VSlider",props:Hs(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=Se(),{rtlClasses:s}=Be(),i=Os(e),o=Rt(e,"modelValue",void 0,C=>i.roundValue(C??i.min.value)),{min:d,max:h,mousePressed:g,roundValue:w,onSliderMousedown:V,onSliderTouchstart:L,trackContainerRef:O,position:A,hasLabels:q,readonly:x}=As({props:e,steps:i,onSliderStart:()=>{n("start",o.value)},onSliderEnd:C=>{let{value:U}=C;const T=w(U);o.value=T,n("end",T)},onSliderMove:C=>{let{value:U}=C;return o.value=w(U)},getActiveThumb:()=>{var C;return(C=r.value)==null?void 0:C.$el}}),{isFocused:K,focus:W,blur:ee}=qt(e),G=k(()=>A(o.value));return he(()=>{const C=De.filterProps(e),U=!!(e.label||a.label||a.prepend);return u(De,J({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||q.value,"v-slider--focused":K.value,"v-slider--pressed":g.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},C,{focused:K.value}),{...a,prepend:U?T=>{var B,j;return c(fe,null,[((B=a.label)==null?void 0:B.call(a,T))??(e.label?u(Wt,{id:T.id.value,class:"v-slider__label",text:e.label},null):void 0),(j=a.prepend)==null?void 0:j.call(a,T)])}:void 0,default:T=>{let{id:B,messagesId:j}=T;return c("div",{class:"v-slider__container",onMousedown:x.value?void 0:V,onTouchstartPassive:x.value?void 0:L},[c("input",{id:B.value,name:e.name||B.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:o.value},null),u(qs,{ref:O,start:0,stop:G.value},{"tick-label":a["tick-label"]}),u(Us,{ref:r,"aria-describedby":j.value,focused:K.value,min:d.value,max:h.value,modelValue:o.value,"onUpdate:modelValue":P=>o.value=P,position:G.value,elevation:e.elevation,onFocus:W,onBlur:ee,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),Ws={name:"PaginationSlider",props:{min:{type:Number,default:0}}};function Ys(e,t,a,n,r,s){return l(),b(Ks,J({"thumb-size":"36",class:"paginationSlider",density:"compact","hide-details":"auto",min:a.min,rounded:!0,"show-ticks":"always",step:1,"thumb-label":"always"},e.$attrs),{"tick-label":$(({index:i})=>[re(E(i+a.min),1)]),_:1},16,["min"])}const mi=M(Ws,[["render",Ys],["__scopeId","data-v-01b67afd"]]),Zs={name:"PaginationToolbar"};function Xs(e,t,a,n,r,s){return l(),b(Zt,{class:"paginationToolbar codexToolbar",density:"compact",transform:"center bottom"},Te({_:2},[ue(e.$slots,(i,o)=>({name:o,fn:$(d=>[Me(e.$slots,o,J({props:i},d),void 0,!0)])}))]),1024)}const hi=M(Zs,[["render",Xs],["__scopeId","data-v-cfa8cce0"]]);export{la as B,ma as D,va as M,ye as N,ci as P,li as T,oi as V,ui as a,di as b,hi as c,mi as d,Xe as g,He as p,ta as t};

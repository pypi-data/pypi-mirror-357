\subsection{Manual Testing of UC-120-1.5: GDAS Data Retrieval}

The retrieval of meteorological data from GDAS requires manual testing due to the endpoint's instability, which causes occasional failures.
However, since a fallback mechanism exists, these failures are not critical for operations. Testing requires an account with access to the Research Data Archive (RDA) and proper authentication.

To authenticate, a valid authentication token is required. The token can be obtained by registering at the RDA website:
\url{https://rda.ucar.edu/accounts/login/?return=/}

Once registered, the authentication token should be stored in an environment variable (e.g., \texttt{RDAMS\_TOKEN}) and saved to a file using the following command:

\begin{minted}[fontsize=\scriptsize, breaklines]{bash}
echo -n $RDAMS_TOKEN > rdams_token.txt
\end{minted}

The token file must be named \texttt{rdams\_token.txt} and placed in the same directory from which the code is executed.

To manually test the retrieval of meteorological data from GDAS, run the following command:

\begin{minted}[fontsize=\scriptsize, breaklines]{bash}
pytest src/calibpipe/tests/unittests/atmosphere/test_meteo_data_handler.py -k "test_gdas_data_retrieval"
\end{minted}

A successful test run should produce an output similar to:

\begin{minted}[fontsize=\scriptsize, breaklines, breakanywhere]{bash}
=========================== test session starts ============================
platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
rootdir: /Users/mdalchen/work/dpps/code/code-prototypes/calibpipe
configfile: pyproject.toml
plugins: requirements-0.1.0, cov-5.0.0
collected 9 items / 8 deselected / 1 selected

src/calibpipe/tests/unittests/atmosphere/test_meteo_data_handler.py X [100%]
============================= warnings summary =============================
...
========= 8 deselected, 1 xpassed, 3 warnings in 135.75s (0:02:15) =========
\end{minted}

\ManualTestCase{UC-120-1.5}{passed}{Tested manually because GDAS endpoint is unstable. Details are provided in the manual testing section.}

"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9562],{31425:function(a,b,c){c.d(b,{Z:function(){return s}});var d=c(63366),e=c(87462),f=c(67294),g=c(86010),h=c(94780),i=c(90948),j=c(71657),k=c(1588),l=c(34867);function m(a){return(0,l.ZP)("MuiDialogActions",a)}(0,k.Z)("MuiDialogActions",["root","spacing"]);var n=c(85893);let o=["className","disableSpacing"],p=a=>{let{classes:b,disableSpacing:c}=a;return(0,h.Z)({root:["root",!c&&"spacing"]},m,b)},q=(0,i.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,!c.disableSpacing&&b.spacing]}})(({ownerState:a})=>(0,e.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!a.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),r=f.forwardRef(function(a,b){let c=(0,j.Z)({props:a,name:"MuiDialogActions"}),{className:f,disableSpacing:h=!1}=c,i=(0,d.Z)(c,o),k=(0,e.Z)({},c,{disableSpacing:h}),l=p(k);return(0,n.jsx)(q,(0,e.Z)({className:(0,g.Z)(l.root,f),ownerState:k,ref:b},i))});var s=r},62232:function(a,b,c){c.d(b,{Z:function(){return f}});var d=c(85893),e=c(61903);function f(a){var b=a.placeholder,c=void 0===b?"":b,f=a.valueProp,g=void 0===f?"":f,h=a.setState,i=void 0===h?function(){return null}:h,j=a.errorMessage,k=void 0===j?"":j;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(e.Z,{variant:"outlined",style:{width:"100%"},error:!!k,helperText:k,placeholder:c,onChange:function(a){var b,c=a.target.value;if(""===c){i(c);return}var d=null!==(b=a.target.value)&& void 0!==b?b:"";if(d.trim()){var e=d.replaceAll(" ","_"),f=e[e.length-1],h=g[g.length-1];(h!==f||h===f&&"_"!==h)&&i(e)}},inputProps:{"aria-label":"".concat(c+" "," policy name text input"),"data-testid":"newPolicyNameInputId"},value:g})})}c(67294)},41912:function(a,b,c){c.d(b,{Z:function(){return A}});var d=c(47568),e=c(34051),f=c.n(e),g=c(85893),h=c(83321),i=c(72882),j=c(90629),k=c(7906),l=c(53184),m=c(53816),n=c(53252),o=c(295),p=c(37645),q=c(50657),r=c(31425),s=c(6514),t=c(11163),u=c(67294),v=c(46291),w=c(99226),x=c(98456);function y(a){var b,c=a.currentRole,e=void 0===c?"":c,h=a.excludeList,p=void 0===h?[]:h,q=a.selectCallback,r=void 0===q?function(){return null}:q,s=(0,u.useState)([]),t=s[0],y=s[1],z=(0,u.useState)(!1),A=z[0],B=z[1],C=(0,v.rt)(),D=(b=(0,d.Z)(f().mark(function a(){var b,c=arguments;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=c.length>0&& void 0!==c[0]?c[0]:null,!(r&&b)){a.next=5;break}return B(!0),a.next=5,r(b);case 5:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return(0,u.useEffect)(function(){var a;(a=(0,d.Z)(f().mark(function a(){var b,c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return B(!0),a.next=3,C.getRoles();case 3:(b=a.sent)&&(p.push(e),y(c=b.filter(function(a){return!p.includes(a)}))),B(!1);case 6:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},[]),(0,g.jsx)(g.Fragment,{children:A?(0,g.jsx)(w.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,g.jsx)(x.Z,{})}):(0,g.jsx)(i.Z,{component:j.Z,children:(0,g.jsxs)(k.Z,{sx:{minWidth:300},"aria-label":"Admin Role Table",children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(m.Z,{children:(0,g.jsx)(n.Z,{children:"Name"})})}),(0,g.jsx)(o.Z,{children:null==t?void 0:t.map(function(a,b){return(0,g.jsx)(m.Z,{onClick:function(){return D(a)},style:{cursor:"pointer"},hover:!0,children:(0,g.jsx)(n.Z,{children:a})},b)})})]})})})}var z=c(62232);function A(a){var b,c,e,w=a.selectMode,x=void 0!==w&&w,A=a.embeddedMode,B=void 0!==A&&A,C=a.selectCallback,D=void 0===C?function(){return null}:C,E=a.userNameProp,F=void 0===E?"":E,G=a.roleNameProp,H=void 0===G?"":G,I=(0,t.useRouter)(),J=(0,u.useState)(!1),K=J[0],L=J[1],M=(0,u.useState)(""),N=M[0],O=M[1],P=(0,u.useState)(""),Q=P[0],R=P[1],S=(0,u.useState)([]),T=S[0],U=S[1],V=(0,v.rt)(),W=function(){O(""),R(""),L(!0)},X=function(){L(!1),O("")},Y=(b=(0,d.Z)(f().mark(function a(b){var c,d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.preventDefault(),!((null==N?void 0:N.trim())&&N.replaceAll("_","").length>2)){a.next=13;break}return a.next=4,V.addRole(N);case 4:if(!(c=a.sent)){a.next=10;break}return a.next=8,V.getRoles();case 8:U(d=a.sent);case 10:X(),a.next=14;break;case 13:R("Please enter a name. Must be 3 characters or longer.");case 14:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),Z=(c=(0,d.Z)(f().mark(function a(){var b,c=arguments;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=c.length>0&& void 0!==c[0]?c[0]:null,!(D&&b)){a.next=4;break}return a.next=4,D(b);case 4:X();case 5:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)}),$=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"";a&&I.push("/admin/role/"+a)},_=(e=(0,d.Z)(f().mark(function a(){var b;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=[],!F){a.next=7;break}return a.next=4,V.getUserRoles(F);case 4:case 10:b=a.sent,a.next=16;break;case 7:if(!H){a.next=13;break}return a.next=10,V.getChildRoles(H);case 13:return a.next=15,V.getRoles();case 15:b=a.sent;case 16:b&&U(b);case 17:case"end":return a.stop()}},a)})),function(){return e.apply(this,arguments)});return(0,u.useEffect)(function(){var a;(a=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(B){a.next=3;break}return a.next=3,_();case 3:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},[]),(0,u.useEffect)(function(){var a;(a=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:B&&!K&&_();case 1:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},[K]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("strong",{style:{float:"left"},children:"Roles"}),x?null:(0,g.jsx)(h.Z,{style:{float:"right",marginBottom:"0.5em"},onClick:W,"data-testid":"addRoleTestId",children:"Add Role"}),(0,g.jsx)(i.Z,{component:j.Z,children:(0,g.jsxs)(k.Z,{sx:{minWidth:300},"aria-label":"Admin Role Table",children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(m.Z,{children:(0,g.jsx)(n.Z,{children:"Name"})})}),(0,g.jsx)(o.Z,{children:null==T?void 0:T.map(function(a,b){return(0,g.jsx)(m.Z,{hover:!0,children:x?(0,g.jsx)(n.Z,{children:a}):(0,g.jsx)(n.Z,{children:(0,g.jsx)(h.Z,{onClick:function(){return $(a)},children:a})})},b)})})]})}),(0,g.jsxs)(q.Z,{fullWidth:!0,maxWidth:"sm",open:K,onClose:X,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[(0,g.jsx)(p.Z,{id:"dialog-title",children:B?"Select New Role":"New Role"}),(0,g.jsx)(s.Z,{children:B?(0,g.jsx)(y,{currentRole:H,excludeList:T,selectCallback:Z}):(0,g.jsx)(z.Z,{placeholder:"New Role...",valueProp:N,setState:O,errorMessage:Q})}),(0,g.jsxs)(r.Z,{children:[B?null:(0,g.jsx)(h.Z,{onClick:Y,children:"Submit"}),(0,g.jsx)(h.Z,{onClick:X,children:"Close"})]})]})]})}}}])
//# sourceMappingURL=9562-4a53dde669a90a49.js.map
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["79274"],{7214:function(t,a,e){e.d(a,{Cj:()=>h,F7:()=>l,Hs:()=>w,Kd:()=>v,Kj:()=>m,Nw:()=>y,PA:()=>c,Py:()=>o,Qm:()=>C,Z0:()=>$,_Y:()=>i,_m:()=>d,dL:()=>_,dO:()=>k,hN:()=>u,h_:()=>n,j2:()=>p,q6:()=>b,uR:()=>r});e(39710),e(26847),e(81738),e(72489),e(56389),e(27530);var s=e(15459),l=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const c=99387==e.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,d=t=>t.sendMessagePromise({type:"recorder/info"}),r=(t,a)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:a}),o=(t,a)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:a}),_=(t,a,e,s,l="hour",c,d)=>t.callWS({type:"recorder/statistics_during_period",start_time:a.toISOString(),end_time:null==e?void 0:e.toISOString(),statistic_ids:s,period:l,units:c,types:d}),i=(t,a,e,s)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:a,units:s,fixed_period:e.fixed_period?{start_time:e.fixed_period.start instanceof Date?e.fixed_period.start.toISOString():e.fixed_period.start,end_time:e.fixed_period.end instanceof Date?e.fixed_period.end.toISOString():e.fixed_period.end}:void 0,calendar:e.calendar,rolling_window:e.rolling_window}),n=t=>t.callWS({type:"recorder/validate_statistics"}),h=(t,a,e)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:a,unit_of_measurement:e}),u=(t,a)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:a}),m=t=>{let a=null;if(!t)return null;for(const e of t)null!==e.change&&void 0!==e.change&&(null===a?a=e.change:a+=e.change);return a},b=(t,a)=>{let e=null;for(const s of a){if(!(s in t))continue;const a=m(t[s]);null!==a&&(null===e?e=a:e+=a)}return e},y=(t,a)=>t.some((t=>void 0!==t[a]&&null!==t[a])),g=["mean","min","max"],f=["sum","state","change"],$=(t,a)=>!(!g.includes(a)||0===t.mean_type)||!(!f.includes(a)||!t.has_sum),p=(t,a,e,s,l)=>{const c=new Date(e).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:a,start_time:c,adjustment:s,adjustment_unit_of_measurement:l})},v=(t,a,e)=>{const l=t.states[a];return l?(0,s.C)(l):(null==e?void 0:e.name)||a},k=(t,a,e)=>{let s;var l;a&&(s=null===(l=t.states[a])||void 0===l?void 0:l.attributes.unit_of_measurement);return void 0===s?null==e?void 0:e.statistics_unit_of_measurement:s},w=t=>t.includes(":"),C=t=>t.callWS({type:"recorder/update_statistics_issues"})},6291:function(t,a,e){e.d(a,{f:()=>c});e(39710),e(26847),e(81738),e(72489),e(1455),e(56389),e(27530);var s=e(73742),l=e(7616);const c=t=>{class a extends t{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const t=this.__unsubs.pop();t instanceof Promise?t.then((t=>t())):t()}this.__unsubs=void 0}}updated(t){if(super.updated(t),t.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const a of t.keys())if(this.hassSubscribeRequiredHostProps.includes(a))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){var t;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some((t=>void 0===this[t]))||(this.__unsubs=this.hassSubscribe())}}return(0,s.__decorate)([(0,l.Cb)({attribute:!1})],a.prototype,"hass",void 0),a}},94412:function(t,a,e){e.d(a,{H:()=>c});e(20655);var s=e(45657),l=e(66169);function c(t,a,e,c,d,r){const o=t.getPropertyValue(d+"-"+r).trim(),_=o.length>0?o:t.getPropertyValue(d).trim();let i=(0,s.Rq)(_);return 0===o.length&&r&&(i=(0,s.CO)((0,s.p3)(a?(0,l.C)((0,s.Rw)((0,s.wK)(i)),r):(0,l.W)((0,s.Rw)((0,s.wK)(i)),r)))),c?i+=e?"32":"7F":e&&(i+="7F"),i}},49859:function(t,a,e){e.a(t,(async function(t,s){try{e.r(a),e.d(a,{HuiEnergySourcesTableCard:()=>wt});e(26847),e(81738),e(6989),e(72489),e(27530);var l=e(73742),c=e(23985),d=e(59048),r=e(7616),o=e(31733),_=e(20480),i=e(28598),n=e(94412),h=(e(31138),e(6640)),u=e(7214),m=e(6291),b=e(93647),y=e(39884),g=t([h,i]);[h,i]=g.then?(await g)():g;let f,$,p,v,k,w,C,S,M,K,H,j,W,x,I,z,R,P,O,V,E,N,q,T,A,B,L,U,D,F,J,Q,Y,Z,G,X,tt,at,et,st,lt,ct,dt,rt,ot,_t,it,nt,ht,ut,mt,bt,yt,gt,ft,$t,pt,vt=t=>t;const kt={grid_return:"--energy-grid-return-color",grid_consumption:"--energy-grid-consumption-color",battery_in:"--energy-battery-in-color",battery_out:"--energy-battery-out-color",solar:"--energy-solar-color",gas:"--energy-gas-color",water:"--energy-water-color"};class wt extends((0,m.f)(d.oi)){hassSubscribe(){var t;return[(0,h.UB)(this.hass,{key:null===(t=this._config)||void 0===t?void 0:t.collection_key}).subscribe((t=>{this._data=t}))]}getCardSize(){return 3}setConfig(t){this._config=t}shouldUpdate(t){return(0,b.SN)(this,t)||t.size>1||!t.has("hass")}render(){var t,a,e,s,l,c,r,m,b,y,g;if(!this.hass||!this._config)return d.Ld;if(!this._data)return(0,d.dy)(f||(f=vt`${0}`),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));let pt=0,wt=0,Ct=0,St=0,Mt=0,Kt=0,Ht=0,jt=0,Wt=!1,xt=!1,It=!1,zt=0,Rt=0,Pt=0,Ot=0,Vt=0,Et=0,Nt=0,qt=0;const Tt=(0,h.Jj)(this._data.prefs),At=getComputedStyle(this),Bt=(null===(t=Tt.grid)||void 0===t?void 0:t[0].flow_from.some((t=>t.stat_cost||t.entity_energy_price||t.number_energy_price)))||(null===(a=Tt.grid)||void 0===a?void 0:a[0].flow_to.some((t=>t.stat_compensation||t.entity_energy_price||t.number_energy_price)))||(null===(e=Tt.gas)||void 0===e?void 0:e.some((t=>t.stat_cost||t.entity_energy_price||t.number_energy_price)))||(null===(s=Tt.water)||void 0===s?void 0:s.some((t=>t.stat_cost||t.entity_energy_price||t.number_energy_price))),Lt=(0,h.vE)(this.hass,this._data.prefs,this._data.statsMetadata),Ut=(0,h.b)(this.hass),Dt=void 0!==this._data.statsCompare;return(0,d.dy)($||($=vt` <ha-card> ${0} <div class="mdc-data-table"> <div class="mdc-data-table__table-container"> <table class="mdc-data-table__table" aria-label="Energy sources"> <thead> <tr class="mdc-data-table__header-row"> <th class="mdc-data-table__header-cell"></th> <th class="mdc-data-table__header-cell" role="columnheader" scope="col"> ${0} </th> ${0} <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th> ${0} </tr> </thead> <tbody class="mdc-data-table__content"> ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} </tbody> </table> </div> </div> </ha-card>`),this._config.title?(0,d.dy)(p||(p=vt`<h1 class="card-header">${0}</h1>`),this._config.title):"",this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.source"),Dt?(0,d.dy)(v||(v=vt`<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th> ${0}`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.previous_energy"),Bt?(0,d.dy)(k||(k=vt`<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.previous_cost")):""):"",this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.energy"),Bt?(0,d.dy)(w||(w=vt` <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.cost")):"",null===(l=Tt.solar)||void 0===l?void 0:l.map(((t,a)=>{var e;const s=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;Ct+=s;const l=Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;return Pt+=l,(0,d.dy)(C||(C=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.solar,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.solar,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),Dt?(0,d.dy)(S||(S=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(l,this.hass.locale),Bt?(0,d.dy)(M||(M=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,i.uf)(s,this.hass.locale),Bt?(0,d.dy)(K||(K=vt`<td class="mdc-data-table__cell"></td>`)):"")})),Tt.solar?(0,d.dy)(H||(H=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.solar_total"),Dt?(0,d.dy)(j||(j=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(Pt,this.hass.locale),Bt?(0,d.dy)(W||(W=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,i.uf)(Ct,this.hass.locale),Bt?(0,d.dy)(x||(x=vt`<td class="mdc-data-table__cell"></td>`)):""):"",null===(c=Tt.battery)||void 0===c?void 0:c.map(((t,a)=>{var e,s;const l=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0,c=(0,u.Kj)(this._data.stats[t.stat_energy_to])||0;St+=l-c;const r=Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0,h=Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_to])||0;return Ot+=r-h,(0,d.dy)(I||(I=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr> <tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.battery_out,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.battery_out,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),Dt?(0,d.dy)(z||(z=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(r,this.hass.locale),Bt?(0,d.dy)(R||(R=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,i.uf)(l,this.hass.locale),Bt?(0,d.dy)(P||(P=vt`<td class="mdc-data-table__cell"></td>`)):"",(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_to)}),this._handleMoreInfo,t.stat_energy_to,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.battery_in,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.battery_in,a)}),(0,u.Kd)(this.hass,t.stat_energy_to,null===(s=this._data)||void 0===s?void 0:s.statsMetadata[t.stat_energy_to]),Dt?(0,d.dy)(O||(O=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(-1*h,this.hass.locale),Bt?(0,d.dy)(V||(V=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,i.uf)(-1*c,this.hass.locale),Bt?(0,d.dy)(E||(E=vt`<td class="mdc-data-table__cell"></td>`)):"")})),Tt.battery?(0,d.dy)(N||(N=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.battery_total"),Dt?(0,d.dy)(q||(q=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(Ot,this.hass.locale),Bt?(0,d.dy)(T||(T=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,i.uf)(St,this.hass.locale),Bt?(0,d.dy)(A||(A=vt`<td class="mdc-data-table__cell"></td>`)):""):"",null===(r=Tt.grid)||void 0===r?void 0:r.map((t=>(0,d.dy)(B||(B=vt`${0} ${0}`),t.flow_from.map(((t,a)=>{var e;const s=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;pt+=s;const l=Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;zt+=l;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],r=c?(0,u.Kj)(this._data.stats[c])||0:null;null!==r&&(Wt=!0,wt+=r);const h=Dt&&c?(0,u.Kj)(this._data.statsCompare[c])||0:null;return null!==h&&(Rt+=h),(0,d.dy)(L||(L=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.grid_consumption,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.grid_consumption,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),Dt?(0,d.dy)(U||(U=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(l,this.hass.locale),Bt?(0,d.dy)(D||(D=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,i.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(s,this.hass.locale),Bt?(0,d.dy)(F||(F=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==r?(0,i.uf)(r,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")})),t.flow_to.map(((t,a)=>{var e;const s=-1*((0,u.Kj)(this._data.stats[t.stat_energy_to])||0);pt+=s;const l=t.stat_compensation||this._data.info.cost_sensors[t.stat_energy_to],c=l?-1*((0,u.Kj)(this._data.stats[l])||0):null;null!==c&&(Wt=!0,wt+=c);const r=-1*(Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_to])||0);zt+=r;const h=Dt&&l?-1*((0,u.Kj)(this._data.statsCompare[l])||0):null;return null!==h&&(Rt+=h),(0,d.dy)(J||(J=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_to)}),this._handleMoreInfo,t.stat_energy_to,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.grid_return,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.grid_return,a)}),(0,u.Kd)(this.hass,t.stat_energy_to,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_to]),Dt?(0,d.dy)(Q||(Q=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(r,this.hass.locale),Bt?(0,d.dy)(Y||(Y=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,i.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(s,this.hass.locale),Bt?(0,d.dy)(Z||(Z=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==c?(0,i.uf)(c,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")}))))),Tt.grid&&(null!==(m=Tt.grid)&&void 0!==m&&null!==(m=m[0].flow_from)&&void 0!==m&&m.length||null!==(b=Tt.grid)&&void 0!==b&&null!==(b=b[0].flow_to)&&void 0!==b&&b.length)?(0,d.dy)(G||(G=vt` <tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.grid_total"),Dt?(0,d.dy)(X||(X=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,i.uf)(zt,this.hass.locale),Bt?(0,d.dy)(tt||(tt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),Wt?(0,i.uf)(Rt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(pt,this.hass.locale),Bt?(0,d.dy)(at||(at=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),Wt?(0,i.uf)(wt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",null===(y=Tt.gas)||void 0===y?void 0:y.map(((t,a)=>{var e;const s=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;Mt+=s;const l=Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;Vt+=l;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],r=c?(0,u.Kj)(this._data.stats[c])||0:null;null!==r&&(xt=!0,Kt+=r);const h=Dt&&c?(0,u.Kj)(this._data.statsCompare[c])||0:null;return null!==h&&(Et+=h),(0,d.dy)(et||(et=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.gas,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.gas,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),Dt?(0,d.dy)(st||(st=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,i.uf)(l,this.hass.locale),Lt,Bt?(0,d.dy)(lt||(lt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,i.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(s,this.hass.locale),Lt,Bt?(0,d.dy)(ct||(ct=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==r?(0,i.uf)(r,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")})),Tt.gas?(0,d.dy)(dt||(dt=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.gas_total"),Dt?(0,d.dy)(rt||(rt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,i.uf)(Vt,this.hass.locale),Lt,Bt?(0,d.dy)(ot||(ot=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),xt?(0,i.uf)(Et,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(Mt,this.hass.locale),Lt,Bt?(0,d.dy)(_t||(_t=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),xt?(0,i.uf)(Kt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",null===(g=Tt.water)||void 0===g?void 0:g.map(((t,a)=>{var e;const s=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;Ht+=s;const l=Dt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;Nt+=l;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],r=c?(0,u.Kj)(this._data.stats[c])||0:null;null!==r&&(It=!0,jt+=r);const h=Dt&&c?(0,u.Kj)(this._data.statsCompare[c])||0:null;return null!==h&&(qt+=h),(0,d.dy)(it||(it=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,n.H)(At,this.hass.themes.darkMode,!1,!1,kt.water,a),backgroundColor:(0,n.H)(At,this.hass.themes.darkMode,!0,!1,kt.water,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),Dt?(0,d.dy)(nt||(nt=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,i.uf)(l,this.hass.locale),Ut,Bt?(0,d.dy)(ht||(ht=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,i.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(s,this.hass.locale),Ut,Bt?(0,d.dy)(ut||(ut=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==r?(0,i.uf)(r,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")})),Tt.water?(0,d.dy)(mt||(mt=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.water_total"),Dt?(0,d.dy)(bt||(bt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,i.uf)(Nt,this.hass.locale),Ut,Bt?(0,d.dy)(yt||(yt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),It?(0,i.uf)(qt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,i.uf)(Ht,this.hass.locale),Ut,Bt?(0,d.dy)(gt||(gt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),It?(0,i.uf)(jt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",[xt,It,Wt].filter(Boolean).length>1?(0,d.dy)(ft||(ft=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell"></td> <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td> </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.total_costs"),Dt?(0,d.dy)($t||($t=vt`<td class="mdc-data-table__cell"></td> <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),(0,i.uf)(Et+Rt+qt,this.hass.locale,{style:"currency",currency:this.hass.config.currency})):"",(0,i.uf)(Kt+wt+jt,this.hass.locale,{style:"currency",currency:this.hass.config.currency})):"")}_handleMoreInfo(t){var a;const e=null===(a=t.currentTarget)||void 0===a?void 0:a.entity;e&&!(0,u.Hs)(e)&&(0,y.B)(this,"hass-more-info",{entityId:e})}static get styles(){return(0,d.iv)(pt||(pt=vt`${0} .mdc-data-table{width:100%;border:0}.mdc-data-table__cell,.mdc-data-table__header-cell{color:var(--primary-text-color);border-bottom-color:var(--divider-color);text-align:var(--float-start)}.mdc-data-table__row:not(.mdc-data-table__row--selected):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.clickable{cursor:pointer}.total{--mdc-typography-body2-font-weight:var(--ha-font-weight-medium)}.total .mdc-data-table__cell{border-top:1px solid var(--divider-color)}ha-card{height:100%;overflow:hidden}.card-header{padding-bottom:0}.content{padding:16px}.has-header{padding-top:0}.cell-bullet{width:32px;padding-right:0;padding-inline-end:0;padding-inline-start:16px;direction:var(--direction)}.bullet{border-width:1px;border-style:solid;border-radius:4px;height:16px;width:32px}.mdc-data-table__cell--numeric{direction:ltr}`),(0,d.$m)(c))}constructor(...t){super(...t),this.hassSubscribeRequiredHostProps=["_config"]}}(0,l.__decorate)([(0,r.Cb)({attribute:!1})],wt.prototype,"hass",void 0),(0,l.__decorate)([(0,r.SB)()],wt.prototype,"_config",void 0),(0,l.__decorate)([(0,r.SB)()],wt.prototype,"_data",void 0),wt=(0,l.__decorate)([(0,r.Mo)("hui-energy-sources-table-card")],wt),s()}catch(f){s(f)}}))}}]);
//# sourceMappingURL=79274.efe61d8bc7010849.js.map
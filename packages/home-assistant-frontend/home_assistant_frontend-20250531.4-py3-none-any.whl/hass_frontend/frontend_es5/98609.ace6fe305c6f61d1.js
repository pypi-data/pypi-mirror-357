"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["98609"],{91648:function(e,s,a){a.a(e,(async function(e,t){try{a.r(s),a.d(s,{HuiAreaCardEditor:()=>f});a(39710),a(26847),a(18574),a(81738),a(94814),a(6989),a(87799),a(1455),a(67886),a(65451),a(46015),a(38334),a(94880),a(75643),a(29761),a(56389),a(27530);var i=a(73742),r=a(59048),o=a(7616),n=a(28105),c=a(95632),l=a(39884),_=(a(87979),a(44066)),h=a(90806),d=a(44272),u=a(36221),m=a(92523),p=e([_]);_=(p.then?(await p)():p)[0];let v,g=e=>e;const b=(0,c.f0)(h.I,(0,c.Ry)({area:(0,c.jt)((0,c.Z_)()),navigation_path:(0,c.jt)((0,c.Z_)()),theme:(0,c.jt)((0,c.Z_)()),show_camera:(0,c.jt)((0,c.O7)()),camera_view:(0,c.jt)((0,c.Z_)()),aspect_ratio:(0,c.jt)((0,c.Z_)()),alert_classes:(0,c.jt)((0,c.IX)((0,c.Z_)())),sensor_classes:(0,c.jt)((0,c.IX)((0,c.Z_)()))}));class f extends r.oi{_classesForArea(e,s,a){const t=Object.values(this.hass.entities).filter((a=>{var t;return(0,d.M)(a.entity_id)===s&&!a.entity_category&&!a.hidden&&(a.area_id===e||a.device_id&&(null===(t=this.hass.devices[a.device_id])||void 0===t?void 0:t.area_id)===e)})).map((e=>{var s;return(null===(s=this.hass.states[e.entity_id])||void 0===s?void 0:s.attributes.device_class)||""})).filter((e=>e&&("sensor"!==s||!a||a.includes(e))));return[...new Set(t)]}_buildOptions(e,s,a){const t=[...new Set([...s,...a])].map((s=>({value:s,label:this.hass.localize(`component.${e}.entity_component.${s}.name`)||s})));return t.sort(((e,s)=>(0,u.fe)(e.label,s.label,this.hass.locale.language))),t}setConfig(e){(0,c.hu)(e,b),this._config=e}async updated(){if(this.hass&&!this._numericDeviceClasses){const{numeric_device_classes:e}=await(0,m.getSensorNumericDeviceClasses)(this.hass);this._numericDeviceClasses=e}}render(){if(!this.hass||!this._config)return r.Ld;const e=this._binaryClassesForArea(this._config.area||""),s=this._sensorClassesForArea(this._config.area||"",this._numericDeviceClasses),a=this._buildBinaryOptions(e,this._config.alert_classes||_.DEVICE_CLASSES.binary_sensor),t=this._buildSensorOptions(s,this._config.sensor_classes||_.DEVICE_CLASSES.sensor),i=this._schema(this.hass.localize,this._config.show_camera||!1,a,t),o=Object.assign({camera_view:"auto",alert_classes:_.DEVICE_CLASSES.binary_sensor,sensor_classes:_.DEVICE_CLASSES.sensor},this._config);return(0,r.dy)(v||(v=g` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> `),this.hass,o,i,this._computeLabelCallback,this._valueChanged)}_valueChanged(e){const s=e.detail.value;s.show_camera||delete s.camera_view,(0,l.B)(this,"config-changed",{config:s})}constructor(...e){super(...e),this._schema=(0,n.Z)(((e,s,a,t)=>[{name:"area",selector:{area:{}}},{name:"show_camera",required:!1,selector:{boolean:{}}},...s?[{name:"camera_view",selector:{select:{options:["auto","live"].map((s=>({value:s,label:e(`ui.panel.lovelace.editor.card.generic.camera_view_options.${s}`)}))),mode:"dropdown"}}}]:[],{name:"",type:"grid",schema:[{name:"navigation_path",required:!1,selector:{navigation:{}}},{name:"theme",required:!1,selector:{theme:{}}},{name:"aspect_ratio",default:_.DEFAULT_ASPECT_RATIO,selector:{text:{}}}]},{name:"alert_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:a}}},{name:"sensor_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:t}}}])),this._binaryClassesForArea=(0,n.Z)((e=>this._classesForArea(e,"binary_sensor"))),this._sensorClassesForArea=(0,n.Z)(((e,s)=>this._classesForArea(e,"sensor",s))),this._buildBinaryOptions=(0,n.Z)(((e,s)=>this._buildOptions("binary_sensor",e,s))),this._buildSensorOptions=(0,n.Z)(((e,s)=>this._buildOptions("sensor",e,s))),this._computeLabelCallback=e=>{switch(e.name){case"theme":return`${this.hass.localize("ui.panel.lovelace.editor.card.generic.theme")} (${this.hass.localize("ui.panel.lovelace.editor.card.config.optional")})`;case"area":return this.hass.localize("ui.panel.lovelace.editor.card.area.name");case"navigation_path":return this.hass.localize("ui.panel.lovelace.editor.action-editor.navigation_path");case"aspect_ratio":return this.hass.localize("ui.panel.lovelace.editor.card.generic.aspect_ratio");case"camera_view":return this.hass.localize("ui.panel.lovelace.editor.card.generic.camera_view")}return this.hass.localize(`ui.panel.lovelace.editor.card.area.${e.name}`)}}}(0,i.__decorate)([(0,o.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,i.__decorate)([(0,o.SB)()],f.prototype,"_config",void 0),(0,i.__decorate)([(0,o.SB)()],f.prototype,"_numericDeviceClasses",void 0),f=(0,i.__decorate)([(0,o.Mo)("hui-area-card-editor")],f),t()}catch(v){t(v)}}))},90806:function(e,s,a){a.d(s,{I:()=>i});var t=a(95632);const i=(0,t.Ry)({type:(0,t.Z_)(),view_layout:(0,t.Yj)(),layout_options:(0,t.Yj)(),grid_options:(0,t.Yj)(),visibility:(0,t.Yj)()})}}]);
//# sourceMappingURL=98609.ace6fe305c6f61d1.js.map
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["89963"],{84075:function(e,i,t){t.d(i,{DJ:()=>s,RQ:()=>o,iJ:()=>a,pB:()=>n});t(26847),t(81738),t(94814),t(29981),t(87799),t(27530);const s=(e,i,t)=>{const s={type:"config_entries/subscribe"};return t&&t.type&&(s.type_filter=t.type),e.connection.subscribeMessage((e=>i(e)),s)},n=(e,i)=>{const t={};return i&&(i.type&&(t.type_filter=i.type),i.domain&&(t.domain=i.domain)),e.callWS(Object.assign({type:"config_entries/get"},t))},o=(e,i)=>e.callWS({type:"config_entries/get_single",entry_id:i}),a=(e,i)=>e.callApi("DELETE",`config/config_entries/entry/${i}`)},20990:function(e,i,t){t.d(i,{D4:()=>o,D7:()=>c,Ky:()=>n,V3:()=>l,XO:()=>a,d4:()=>d,oi:()=>r});t(96222);const s={"HA-Frontend-Base":`${location.protocol}//${location.host}`},n=(e,i,t)=>{var n;return e.callApi("POST","config/config_entries/flow",{handler:i,show_advanced_options:Boolean(null===(n=e.userData)||void 0===n?void 0:n.showAdvanced),entry_id:t},s)},o=(e,i)=>e.callApi("GET",`config/config_entries/flow/${i}`,void 0,s),a=(e,i,t)=>e.callApi("POST",`config/config_entries/flow/${i}`,t,s),r=(e,i)=>e.callApi("DELETE",`config/config_entries/flow/${i}`),d=(e,i)=>e.callApi("GET","config/config_entries/flow_handlers"+(i?`?type=${i}`:"")),c=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),l=(e,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"config_entries/flow/subscribe"})},6291:function(e,i,t){t.d(i,{f:()=>o});t(39710),t(26847),t(81738),t(72489),t(1455),t(56389),t(27530);var s=t(73742),n=t(7616);const o=e=>{class i extends e{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}updated(e){if(super.updated(e),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const i of e.keys())if(this.hassSubscribeRequiredHostProps.includes(i))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((e=>void 0===this[e]))||(this.__unsubs=this.hassSubscribe())}}return(0,s.__decorate)([(0,n.Cb)({attribute:!1})],i.prototype,"hass",void 0),i}},85771:function(e,i,t){t(26847),t(2394),t(18574),t(81738),t(94814),t(22960),t(6989),t(1455),t(67886),t(65451),t(46015),t(38334),t(94880),t(75643),t(29761),t(27530);var s=t(73742),n=t(59048),o=t(7616),a=t(37528),r=t(39884),d=t(36221),c=(t(72953),t(84075)),l=t(20990),h=t(96222);var p=t(6291),u=t(35580);let _,g,b=e=>e;class f extends n.oi{render(){return(0,n.dy)(_||(_=b` <div class="icon"> <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">${0}</div> `),(0,u.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}constructor(...e){super(...e),this.darkOptimizedIcon=!1,this.clickable=!1}}f.styles=(0,n.iv)(g||(g=b`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}`)),(0,s.__decorate)([(0,o.Cb)()],f.prototype,"domain",void 0),(0,s.__decorate)([(0,o.Cb)({attribute:!1})],f.prototype,"title",void 0),(0,s.__decorate)([(0,o.Cb)({attribute:"dark-optimized-icon",type:Boolean})],f.prototype,"darkOptimizedIcon",void 0),(0,s.__decorate)([(0,o.Cb)({attribute:!1,type:Boolean,reflect:!0})],f.prototype,"clickable",void 0),f=(0,s.__decorate)([(0,o.Mo)("integration-badge")],f);var v=t(77908);let y,m,k,$,w,S=e=>e;const x=new Set(["google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]);class z extends((0,p.f)(n.oi)){hassSubscribe(){return[(0,l.V3)(this.hass,(e=>{e.forEach((e=>{"removed"===e.type||x.has(e.flow.handler)||this._discoveredDomains.add(e.flow.handler)})),this.hass.loadBackendTranslation("title",Array.from(this._discoveredDomains)),this._discoveredDomainsReceived=!0})),(0,c.DJ)(this.hass,(e=>{let i=!1;const t=[],s=new Set;if(e.forEach((e=>{if(null===e.type||"added"===e.type){if(x.has(e.entry.domain))return;t.push(e.entry),s.add(e.entry.domain),null===e.type&&(i=!0)}else if("removed"===e.type)this._entries=this._entries.filter((i=>i.entry_id!==e.entry.entry_id));else if("updated"===e.type){if(x.has(e.entry.domain))return;const i=e.entry;this._entries=this._entries.map((e=>e.entry_id===i.entry_id?i:e))}})),!t.length&&!i)return;this.hass.loadBackendTranslation("title",Array.from(s));const n=i?[]:this._entries;this._entries=[...n,...t]}),{type:["device","hub","service"]})]}render(){if(!this._discoveredDomainsReceived)return n.Ld;let e=new Set;this._entries.forEach((i=>{e.add(i.domain)})),e=new Set([...e,...this._discoveredDomains]);let i=[];for(const s of e.values())i.push([s,(0,h.Lh)(this.hass.localize,s)]);i=i.sort(((e,i)=>(0,d.$K)(e[0],i[0],this.hass.locale.language)));const t=i.length;return 0===t?(0,n.dy)(y||(y=S` <div class="all-set-icon">ðŸŽ‰</div> <h1> ${0} </h1> <p> ${0} </p> <div class="footer"> <ha-button unelevated @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(i.length>12&&(i=i.slice(0,11)),(0,n.dy)(m||(m=S` <h1> ${0} </h1> <p> ${0} </p> <div class="badges"> ${0} ${0} </div> <div class="footer"> <ha-button unelevated @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),i.map((([e,i])=>{var t;return(0,n.dy)(k||(k=S`<integration-badge .domain="${0}" .title="${0}" .darkOptimizedIcon="${0}"></integration-badge>`),e,i,null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode)})),t>i.length?(0,n.dy)($||($=S`<div class="more"> ${0} </div>`),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:t-i.length})):n.Ld,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}async _scanUSBDevices(){var e;(0,a.p)(this.hass,"usb")&&await(e=this.hass,e.callWS({type:"usb/scan"}))}async _finish(){(0,r.B)(this,"onboarding-step",{type:"integration"})}static get styles(){return[v.I,(0,n.iv)(w||(w=S`.badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:24px}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}`))]}constructor(...e){super(...e),this._entries=[],this._discoveredDomains=new Set,this._discoveredDomainsReceived=!1}}(0,s.__decorate)([(0,o.Cb)({attribute:!1})],z.prototype,"hass",void 0),(0,s.__decorate)([(0,o.Cb)({attribute:!1})],z.prototype,"onboardingLocalize",void 0),(0,s.__decorate)([(0,o.SB)()],z.prototype,"_entries",void 0),(0,s.__decorate)([(0,o.SB)()],z.prototype,"_discoveredDomains",void 0),(0,s.__decorate)([(0,o.SB)()],z.prototype,"_discoveredDomainsReceived",void 0),z=(0,s.__decorate)([(0,o.Mo)("onboarding-integrations")],z)},35580:function(e,i,t){t.d(i,{X1:()=>s,u4:()=>n,zC:()=>o});t(44261);const s=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,n=e=>e.split("/")[4],o=e=>e.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=89963.ba4744ffb7c98fdf.js.map
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["31954"],{42236:function(t,i,e){e.d(i,{U:()=>s});const s=t=>`/api/image_proxy/${t.entity_id}?token=${t.attributes.access_token}&state=${t.state}`},95257:function(t,i,e){e.r(i),e.d(i,{HuiPictureCard:()=>$});e(40777),e(26847),e(87799),e(1455),e(27530);var s=e(73742),n=e(59048),a=e(7616),o=e(31733),h=e(25191),c=e(4427),_=e(44272),r=(e(31138),e(42236)),g=e(76815),d=e(88887),f=e(37807),u=e(93647),l=e(99389);let m,p,y,b=t=>t;class $ extends n.oi{static async getConfigElement(){return await Promise.all([e.e("73614"),e.e("86689"),e.e("15601"),e.e("15634"),e.e("22092"),e.e("83246"),e.e("2769"),e.e("96859"),e.e("96670"),e.e("37541")]).then(e.bind(e,30479)),document.createElement("hui-picture-card-editor")}static getStubConfig(){return{type:"picture",image:"https://demo.home-assistant.io/stub_config/t-shirt-promo.png"}}getCardSize(){return 5}setConfig(t){if(!t||!t.image&&!t.image_entity)throw new Error("Image required");this._config=Object.assign({tap_action:{action:"more-info"}},t)}shouldUpdate(t){if(!this._config||(0,u.SN)(this,t))return!0;if(this._config.image_entity&&t.has("hass")){const i=t.get("hass");if(!i||i.states[this._config.image_entity]!==this.hass.states[this._config.image_entity])return!0}return!1}updated(t){if(super.updated(t),!this._config||!this.hass)return;const i=t.get("hass"),e=t.get("_config");i&&e&&i.themes===this.hass.themes&&e.theme===this._config.theme||(0,c.R)(this,this.hass.themes,this._config.theme)}render(){var t;if(!this._config||!this.hass)return n.Ld;let i;if(this._config.image_entity&&(i=this.hass.states[this._config.image_entity],!i))return(0,n.dy)(m||(m=b`<hui-warning .hass="${0}"> ${0} </hui-warning>`),this.hass,(0,l.i)(this.hass,this._config.image_entity));let e=this._config.image;if(this._config.image_entity){switch((0,_.M)(this._config.image_entity)){case"image":e=(0,r.U)(i);break;case"person":i.attributes.entity_picture&&(e=i.attributes.entity_picture)}}return(0,n.dy)(p||(p=b` <ha-card @action="${0}" .actionHandler="${0}" tabindex="${0}" class="${0}"> <img alt="${0}" src="${0}"> </ha-card> `),this._handleAction,(0,g.K)({hasHold:(0,f._)(this._config.hold_action),hasDoubleClick:(0,f._)(this._config.double_tap_action)}),(0,h.o)((0,f._)(this._config.tap_action)||this._config.image_entity?"0":void 0),(0,o.$)({clickable:Boolean(this._config.image_entity&&!this._config.tap_action||this._config.tap_action&&"none"!==this._config.tap_action.action||this._config.hold_action&&"none"!==this._config.hold_action.action||this._config.double_tap_action&&"none"!==this._config.double_tap_action.action)}),(0,h.o)(this._config.alt_text||(null===(t=i)||void 0===t?void 0:t.attributes.friendly_name)),this.hass.hassUrl(e))}_handleAction(t){(0,d.G)(this,this.hass,this._config,t.detail.action)}}$.styles=(0,n.iv)(y||(y=b`ha-card{overflow:hidden;height:100%}ha-card.clickable{cursor:pointer}img{display:block;width:100%}`)),(0,s.__decorate)([(0,a.Cb)({attribute:!1})],$.prototype,"hass",void 0),(0,s.__decorate)([(0,a.SB)()],$.prototype,"_config",void 0),$=(0,s.__decorate)([(0,a.Mo)("hui-picture-card")],$)}}]);
//# sourceMappingURL=31954.4a88b12b77ae9cd3.js.map
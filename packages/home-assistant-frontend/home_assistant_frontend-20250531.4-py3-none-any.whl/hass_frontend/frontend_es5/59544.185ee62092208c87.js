"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["59544"],{18271:function(i,t,s){s.d(t,{l:()=>e});s(1455);const e=async(i,t)=>new Promise((s=>{const e=t(i,(i=>{e(),s(i)}))}))},38255:function(i,t,s){s.a(i,(async function(i,t){try{var e=s(73742),a=s(59048),n=s(7616),o=s(12790),r=s(29402),c=s(35580),h=(s(46358),i([r]));r=(h.then?(await h)():h)[0];let d,l,_,u,f,v,p,g=i=>i;class m extends a.oi{render(){if(this.icon)return(0,a.dy)(d||(d=g`<ha-icon .icon="${0}"></ha-icon>`),this.icon);if(!this.domain)return a.Ld;if(!this.hass)return this._renderFallback();const i=(0,r.KS)(this.hass,this.domain,this.deviceClass).then((i=>i?(0,a.dy)(l||(l=g`<ha-icon .icon="${0}"></ha-icon>`),i):this._renderFallback()));return(0,a.dy)(_||(_=g`${0}`),(0,o.C)(i))}_renderFallback(){if(this.domain&&this.domain in r.Ls)return(0,a.dy)(u||(u=g` <ha-svg-icon .path="${0}"></ha-svg-icon> `),r.Ls[this.domain]);if(this.brandFallback){var i;const t=(0,c.X1)({domain:this.domain,type:"icon",darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode});return(0,a.dy)(f||(f=g` <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> `),t)}return(0,a.dy)(v||(v=g`<ha-svg-icon .path="${0}"></ha-svg-icon>`),r.Rb)}}m.styles=(0,a.iv)(p||(p=g`img{width:var(--mdc-icon-size,24px)}`)),(0,e.__decorate)([(0,n.Cb)({attribute:!1})],m.prototype,"hass",void 0),(0,e.__decorate)([(0,n.Cb)()],m.prototype,"domain",void 0),(0,e.__decorate)([(0,n.Cb)({attribute:!1})],m.prototype,"deviceClass",void 0),(0,e.__decorate)([(0,n.Cb)()],m.prototype,"icon",void 0),(0,e.__decorate)([(0,n.Cb)({attribute:"brand-fallback",type:Boolean})],m.prototype,"brandFallback",void 0),m=(0,e.__decorate)([(0,n.Mo)("ha-domain-icon")],m),t()}catch(d){t(d)}}))},6291:function(i,t,s){s.d(t,{f:()=>n});s(39710),s(26847),s(81738),s(72489),s(1455),s(56389),s(27530);var e=s(73742),a=s(7616);const n=i=>{class t extends i{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const i=this.__unsubs.pop();i instanceof Promise?i.then((i=>i())):i()}this.__unsubs=void 0}}updated(i){if(super.updated(i),i.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of i.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){var i;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(i=this.hassSubscribeRequiredHostProps)&&void 0!==i&&i.some((i=>void 0===this[i]))||(this.__unsubs=this.hassSubscribe())}}return(0,e.__decorate)([(0,a.Cb)({attribute:!1})],t.prototype,"hass",void 0),t}},44066:function(i,t,s){s.a(i,(async function(i,e){try{s.r(t),s.d(t,{DEFAULT_ASPECT_RATIO:()=>j,DEVICE_CLASSES:()=>N,HuiAreaCard:()=>T});s(40777),s(39710),s(26847),s(2394),s(44438),s(81738),s(94814),s(29981),s(22960),s(6989),s(93190),s(72489),s(25718),s(87799),s(1455),s(67886),s(65451),s(46015),s(38334),s(94880),s(75643),s(29761),s(56389),s(27530);var a=s(73742),n=s(59048),o=s(7616),r=s(31733),c=s(20480),h=s(28105),d=s(40141),l=s(4427),_=s(44272),u=s(67050),f=s(28598),v=s(27417),p=s(39800),g=s(18271),m=(s(31138),s(38255)),b=(s(48017),s(73048)),C=s(85993),y=s(10500),$=s(16230),L=s(70947),k=s(21202),A=s(6291),w=s(12723),M=(s(99389),i([m,b,w,f]));[m,b,w,f]=M.then?(await M)():M;let S,x,H,V,z,Z,O,B,E,I=i=>i;const j="16:9",F=["sensor"],R=["binary_sensor"],D=["light","switch","fan"],P=["camera"],N={sensor:["temperature","humidity"],binary_sensor:["motion","moisture"]},q={light:{on:"M17 16V18C17 18.55 16.53 19 16 19H12C11.42 19 11 18.55 11 18V16C8.77 14.34 8.32 11.21 10 9S14.77 6.34 17 8 19.63 12.79 18 15C17.69 15.38 17.35 15.72 17 16M16 20H12V21C12 21.55 12.42 22 13 22H15C15.53 22 16 21.55 16 21M7.66 15H7V16C7 16.55 7.42 17 8 17H9V16.88C8.44 16.33 8 15.7 7.66 15M13.58 5C12.46 2.47 9.5 1.33 7 2.45S3.31 6.5 4.43 9.04C4.77 9.81 5.3 10.5 6 11V13C6 13.55 6.42 14 7 14H7.28C7.07 13.35 6.97 12.68 7 12C6.97 8.29 9.87 5.21 13.58 5Z",off:"M20.84 22.73L16.74 18.63C16.55 18.85 16.29 19 16 19H12C11.42 19 11 18.55 11 18V16C9.37 14.8 8.71 12.82 9.1 11L7.5 9.39C7.17 10.2 6.97 11.08 7 12C6.97 12.68 7.07 13.35 7.28 14H7C6.42 14 6 13.55 6 13V11C5.3 10.5 4.77 9.81 4.43 9.04C4 8.05 3.91 7 4.12 6L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M13.58 5C12.46 2.47 9.5 1.33 7 2.45C6.68 2.58 6.39 2.75 6.13 2.93L9.67 6.47C10.76 5.63 12.1 5.08 13.58 5M18.06 14.86C19.6 12.66 19.14 9.62 17 8C15.2 6.67 12.84 6.72 11.12 7.92L18.06 14.86M12 21C12 21.55 12.42 22 13 22H15C15.53 22 16 21.55 16 21V20H12V21M7 15V16C7 16.55 7.42 17 8 17H9V16.88C8.43 16.33 8 15.7 7.66 15H7Z"},switch:{on:"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z",off:"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z"},fan:{on:"M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12.5,2C17,2 17.11,5.57 14.75,6.75C13.76,7.24 13.32,8.29 13.13,9.22C13.61,9.42 14.03,9.73 14.35,10.13C18.05,8.13 22.03,8.92 22.03,12.5C22.03,17 18.46,17.1 17.28,14.73C16.78,13.74 15.72,13.3 14.79,13.11C14.59,13.59 14.28,14 13.88,14.34C15.87,18.03 15.08,22 11.5,22C7,22 6.91,18.42 9.27,17.24C10.25,16.75 10.69,15.71 10.89,14.79C10.4,14.59 9.97,14.27 9.65,13.87C5.96,15.85 2,15.07 2,11.5C2,7 5.56,6.89 6.74,9.26C7.24,10.25 8.29,10.68 9.22,10.87C9.41,10.39 9.73,9.97 10.14,9.65C8.15,5.96 8.94,2 12.5,2Z",off:"M12.5,2C9.64,2 8.57,4.55 9.29,7.47L15,13.16C15.87,13.37 16.81,13.81 17.28,14.73C18.46,17.1 22.03,17 22.03,12.5C22.03,8.92 18.05,8.13 14.35,10.13C14.03,9.73 13.61,9.42 13.13,9.22C13.32,8.29 13.76,7.24 14.75,6.75C17.11,5.57 17,2 12.5,2M3.28,4L2,5.27L4.47,7.73C3.22,7.74 2,8.87 2,11.5C2,15.07 5.96,15.85 9.65,13.87C9.97,14.27 10.4,14.59 10.89,14.79C10.69,15.71 10.25,16.75 9.27,17.24C6.91,18.42 7,22 11.5,22C13.8,22 14.94,20.36 14.94,18.21L18.73,22L20,20.72L3.28,4Z"},binary_sensor:{motion:"M13.5,5.5C14.59,5.5 15.5,4.58 15.5,3.5C15.5,2.38 14.59,1.5 13.5,1.5C12.39,1.5 11.5,2.38 11.5,3.5C11.5,4.58 12.39,5.5 13.5,5.5M9.89,19.38L10.89,15L13,17V23H15V15.5L12.89,13.5L13.5,10.5C14.79,12 16.79,13 19,13V11C17.09,11 15.5,10 14.69,8.58L13.69,7C13.29,6.38 12.69,6 12,6C11.69,6 11.5,6.08 11.19,6.08L6,8.28V13H8V9.58L9.79,8.88L8.19,17L3.29,16L2.89,18L9.89,19.38Z",moisture:"M10 3.25C10 3.25 16 10 16 14C16 17.31 13.31 20 10 20S4 17.31 4 14C4 10 10 3.25 10 3.25M20 7V13H18V7H20M18 17H20V15H18V17Z"}};class T extends((0,A.f)(n.oi)){static async getConfigElement(){return await s.e("98609").then(s.bind(s,91648)),document.createElement("hui-area-card-editor")}static async getStubConfig(i){var t;return{type:"area",area:(null===(t=(await(0,g.l)(i.connection,C.sG))[0])||void 0===t?void 0:t.area_id)||""}}_isOn(i,t){const s=this._entitiesByDomain(this._config.area,this._devicesInArea(this._config.area,this._devices),this._entities,this._deviceClasses,this.hass.states)[i];if(s)return(t?s.filter((i=>i.attributes.device_class===t)):s).find((i=>!(0,$.rk)(i.state)&&!d.tj.includes(i.state)))}_average(i,t){const s=this._entitiesByDomain(this._config.area,this._devicesInArea(this._config.area,this._devices),this._entities,this._deviceClasses,this.hass.states)[i].filter((i=>!t||i.attributes.device_class===t));if(!s)return;let e;const a=s.filter((i=>!(!(0,f.SL)(i)||isNaN(Number(i.state)))&&(e?i.attributes.unit_of_measurement===e:(e=i.attributes.unit_of_measurement,!0))));if(!a.length)return;const n=a.reduce(((i,t)=>i+Number(t.state)),0);return`${(0,f.uf)(n/a.length,this.hass.locale,{maximumFractionDigits:1})}${e?(0,v.L)(e,this.hass.locale):""}${e||""}`}hassSubscribe(){return[(0,C.sG)(this.hass.connection,(i=>{this._areas=i})),(0,y.q4)(this.hass.connection,(i=>{this._devices=i})),(0,L.LM)(this.hass.connection,(i=>{this._entities=i}))]}getCardSize(){return 3}setConfig(i){if(!i.area)throw new Error("Area Required");this._config=i,this._deviceClasses=Object.assign({},N),i.sensor_classes&&(this._deviceClasses.sensor=i.sensor_classes),i.alert_classes&&(this._deviceClasses.binary_sensor=i.alert_classes)}shouldUpdate(i){if(i.has("_config")||!this._config)return!0;if(i.has("_devicesInArea")||i.has("_areas")||i.has("_entities"))return!0;if(!i.has("hass"))return!1;const t=i.get("hass");if(!t||t.themes!==this.hass.themes||t.locale!==this.hass.locale)return!0;if(!this._devices||!this._devicesInArea(this._config.area,this._devices)||!this._entities)return!1;const s=this._entitiesByDomain(this._config.area,this._devicesInArea(this._config.area,this._devices),this._entities,this._deviceClasses,this.hass.states);for(const e of Object.values(s))for(const i of e)if(t.states[i.entity_id]!==i)return!0;return!1}willUpdate(i){var t,s;(i.has("_config")||null===this._ratio)&&(this._ratio=null!==(t=this._config)&&void 0!==t&&t.aspect_ratio?(0,p.Z)(null===(s=this._config)||void 0===s?void 0:s.aspect_ratio):null,(null===this._ratio||this._ratio.w<=0||this._ratio.h<=0)&&(this._ratio=(0,p.Z)(j)))}render(){if(!(this._config&&this.hass&&this._areas&&this._devices&&this._entities))return n.Ld;const i=this._entitiesByDomain(this._config.area,this._devicesInArea(this._config.area,this._devices),this._entities,this._deviceClasses,this.hass.states),t=this._area(this._config.area,this._areas);if(null===t)return(0,n.dy)(S||(S=I` <hui-warning .hass="${0}"> ${0} </hui-warning> `),this.hass,this.hass.localize("ui.card.area.area_not_found"));const s=[];let e;F.forEach((e=>{e in i&&this._deviceClasses[e].forEach((a=>{let o=null;switch(a){case"temperature":o=t.temperature_entity_id;break;case"humidity":o=t.humidity_entity_id}const r=o?this.hass.states[o]:void 0;(r||i[e].some((i=>i.attributes.device_class===a)))&&s.push((0,n.dy)(x||(x=I` <div class="sensor"> <ha-domain-icon .hass="${0}" .domain="${0}" .deviceClass="${0}"></ha-domain-icon> ${0} </div> `),this.hass,e,a,r?this.hass.formatEntityState(r):this._average(e,a)))}))})),this._config.show_camera&&"camera"in i&&(e=i.camera[0].entity_id);const a=t.picture||e,o="grid"===this.layout;return(0,n.dy)(H||(H=I` <ha-card class="${0}" style="${0}"> ${0} <div class="container ${0}" @click="${0}"> <div class="alerts"> ${0} </div> <div class="bottom"> <div> <div class="name">${0}</div> ${0} </div> <div class="buttons"> ${0} </div> </div> </div> </ha-card> `),a?"image":"",(0,c.V)({paddingBottom:o||a?"0":`${(100*this._ratio.h/this._ratio.w).toFixed(2)}%`}),t.picture||e?(0,n.dy)(V||(V=I` <hui-image .config="${0}" .hass="${0}" .image="${0}" .cameraImage="${0}" .cameraView="${0}" .aspectRatio="${0}" fitMode="cover"></hui-image> `),this._config,this.hass,t.picture?t.picture:void 0,e,this._config.camera_view,o?void 0:this._config.aspect_ratio||j):t.icon?(0,n.dy)(z||(z=I` <div class="icon-container"> <ha-icon icon="${0}"></ha-icon> </div> `),t.icon):n.Ld,(0,r.$)({navigate:void 0!==this._config.navigation_path}),this._handleNavigation,R.map((t=>t in i?this._deviceClasses[t].map((i=>{const s=this._isOn(t,i);return s?(0,n.dy)(Z||(Z=I` <ha-state-icon class="alert" .hass="${0}" .stateObj="${0}"></ha-state-icon> `),this.hass,s):n.Ld})):n.Ld)),t.name,s.length?(0,n.dy)(O||(O=I`<div class="sensors">${0}</div>`),s):"",D.map((t=>{if(!(t in i))return"";const s=this._isOn(t);return D.includes(t)?(0,n.dy)(B||(B=I` <ha-icon-button class="${0}" .path="${0}" .domain="${0}" @click="${0}"> </ha-icon-button> `),s?"on":"off",q[t][s?"on":"off"],t,this._toggle):""})))}updated(i){if(super.updated(i),!this._config||!this.hass)return;const t=i.get("hass"),s=i.get("_config");(!i.has("hass")||t&&t.themes===this.hass.themes)&&(!i.has("_config")||s&&s.theme===this._config.theme)||(0,l.R)(this,this.hass.themes,this._config.theme)}_handleNavigation(){this._config.navigation_path&&(0,u.c)(this._config.navigation_path)}_toggle(i){i.stopPropagation();const t=i.currentTarget.domain;D.includes(t)&&this.hass.callService(t,this._isOn(t)?"turn_off":"turn_on",void 0,{area_id:this._config.area}),(0,k.j)("light")}getGridOptions(){return{columns:12,rows:3,min_columns:3}}constructor(...i){super(...i),this._deviceClasses=N,this._ratio=null,this._entitiesByDomain=(0,h.Z)(((i,t,s,e,a)=>{const n=s.filter((s=>!s.entity_category&&!s.hidden_by&&(s.area_id?s.area_id===i:s.device_id&&t.has(s.device_id)))).map((i=>i.entity_id)),o={};for(const r of n){const i=(0,_.M)(r);if(!(D.includes(i)||F.includes(i)||R.includes(i)||P.includes(i)))continue;const t=a[r];t&&((!F.includes(i)&&!R.includes(i)||e[i].includes(t.attributes.device_class||""))&&(i in o||(o[i]=[]),o[i].push(t)))}return o})),this._area=(0,h.Z)(((i,t)=>t.find((t=>t.area_id===i))||null)),this._devicesInArea=(0,h.Z)(((i,t)=>new Set(i?t.filter((t=>t.area_id===i)).map((i=>i.id)):[])))}}T.styles=(0,n.iv)(E||(E=I`ha-card{overflow:hidden;position:relative;background-size:cover;height:100%}.container{display:flex;flex-direction:column;justify-content:space-between;position:absolute;top:0;bottom:0;left:0;right:0;background:linear-gradient(0,rgba(33,33,33,.9) 0%,rgba(33,33,33,0) 45%)}ha-card:not(.image) .container::before{position:absolute;content:"";width:100%;height:100%;background-color:var(--sidebar-selected-icon-color);opacity:.12}.image hui-image{height:100%}.icon-container{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.icon-container ha-icon{--mdc-icon-size:60px;color:var(--sidebar-selected-icon-color)}.sensors{color:#e3e3e3;font-size:var(--ha-font-size-l);--mdc-icon-size:24px;opacity:.6;margin-top:8px}.sensor{white-space:nowrap;float:left;margin-right:4px;margin-inline-end:4px;margin-inline-start:initial}.alerts{padding:16px}ha-state-icon{display:inline-flex;align-items:center;justify-content:center;position:relative}.alerts ha-state-icon{background:var(--accent-color);color:var(--text-accent-color,var(--text-primary-color));padding:8px;margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;border-radius:50%}.name{color:#fff;font-size:var(--ha-font-size-2xl)}.bottom{display:flex;justify-content:space-between;align-items:center;padding:16px}.navigate{cursor:pointer}ha-icon-button{color:#fff;background-color:var(--area-button-color,#727272b2);border-radius:50%;margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;--mdc-icon-button-size:44px}.on{color:var(--state-light-active-color)}`)),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],T.prototype,"hass",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],T.prototype,"layout",void 0),(0,a.__decorate)([(0,o.SB)()],T.prototype,"_config",void 0),(0,a.__decorate)([(0,o.SB)()],T.prototype,"_entities",void 0),(0,a.__decorate)([(0,o.SB)()],T.prototype,"_devices",void 0),(0,a.__decorate)([(0,o.SB)()],T.prototype,"_areas",void 0),T=(0,a.__decorate)([(0,o.Mo)("hui-area-card")],T),e()}catch(S){e(S)}}))},35580:function(i,t,s){s.d(t,{RU:()=>a,X1:()=>e,u4:()=>n,zC:()=>o});s(44261);const e=i=>`https://brands.home-assistant.io/${i.brand?"brands/":""}${i.useFallback?"_/":""}${i.domain}/${i.darkOptimized?"dark_":""}${i.type}.png`,a=i=>`https://brands.home-assistant.io/hardware/${i.category}/${i.darkOptimized?"dark_":""}${i.manufacturer}${i.model?`_${i.model}`:""}.png`,n=i=>i.split("/")[4],o=i=>i.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=59544.185ee62092208c87.js.map
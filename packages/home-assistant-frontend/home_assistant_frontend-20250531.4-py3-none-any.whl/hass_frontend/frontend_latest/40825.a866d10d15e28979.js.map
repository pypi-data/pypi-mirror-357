{"version":3,"file":"40825.a866d10d15e28979.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/common/entity/context/get_entity_context.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/components/chips/ha-assist-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/components/trace/hat-graph-const.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/mixins/subscribe-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/panels/lovelace/cards/energy/hui-energy-sankey-card.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250531.4/src/util/text.ts"],"names":["COLORS","getColorByIndex","index","length","getGraphColorByIndex","style","themeColor","getPropertyValue","theme2hex","getAllGraphColors","memoizeOne","map","_color","newArgs","lastArgs","getEntityContext","stateObj","hass","entry","entities","entity_id","getEntityEntryContext","entity","device","area","floor","deviceId","device_id","devices","undefined","areaId","area_id","areas","floorId","floor_id","floors","OVERFLOW_MARGIN","FONT_SIZE","NODE_GAP","LABEL_DISTANCE","HaSankeyChart","LitElement","render","options","grid","top","bottom","left","right","tooltip","trigger","formatter","this","_renderTooltip","appendTo","document","body","html","_createData","data","_sizeController","value","width","SankeyChart","_processLinks","nodes","rawLinks","accountedIn","Map","accountedOut","links","forEach","link","sourceNode","find","n","id","source","targetNode","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","push","_findParentIndex","sections","parent","l","offset","i","section","findIndex","args","vertical","ResizeController","callback","entries","contentRect","params","valueFormatter","node","marker","label","filteredNodes","filter","indexes","Set","sort","depthMap","nodesWithIndex","a","b","aParentIndex","bParentIndex","labelSpace","NODE_SIZE","type","flat","itemStyle","color","depth","draggable","orient","nodeWidth","nodeGap","lineStyle","opacity","layoutIterations","position","distance","minMargin","overflow","labelLayout","longestWord","text","split","reduce","longest","current","wordWidth","measureTextWidth","fontSize","rect","align","lineCount","ceil","labelRect","height","lineHeight","emphasis","focus","styles","css","attribute","Boolean","String","HaAssistChip","AssistChip","renderOutline","filled","super","getContainerClasses","active","renderPrimaryContent","renderLeadingIcon","renderTrailingIcon","sharedStyles","elevatedStyles","reflect","SPACING","BRANCH_HEIGHT","StatisticMeanType","STATISTIC_TYPES","getRecorderInfo","conn","sendMessagePromise","getStatisticIds","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","calendar","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","change","calculateStatisticsSumGrowth","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","states","computeStateName","name","getDisplayUnit","unit","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","SubscribeMixin","superClass","SubscribeClass","connectedCallback","_checkSubscribed","disconnectedCallback","__unsubs","unsub","pop","Promise","then","unsubFunc","updated","changedProps","has","hassSubscribeRequiredHostProps","key","keys","hassSubscribe","isConnected","prop","DEFAULT_CONFIG","group_by_floor","group_by_area","HuiEnergySankeyCard","setConfig","config","_config","getEnergyDataCollection","collection_key","subscribe","_data","getCardSize","getGridOptions","columns","min_columns","rows","min_rows","shouldUpdate","nothing","localize","prefs","energySourcesByType","summedData","compareSummedData","_","getSummedData","computedStyle","getComputedStyle","homeNode","totalFromGrid","total","from_grid","formatNumber","locale","solar","totalSolarProduction","sum","battery","netBattery","from_battery","to_battery","netBatteryOut","max","netBatteryIn","flow_to","totalToGrid","to_grid","untrackedConsumption","deviceNodes","parentLinks","device_consumption","idx","stat_consumption","statsMetadata","included_in_stat","devicesWithoutParent","_groupByFloorAndArea","Object","level","Infinity","floorNodeId","targetNodeId","areaNodeId","deviceNode","deviceSections","_getDeviceSections","hasData","title","layout","_valueFormatter","no_area","no_floor","unshift","parentSection","childSection","parentIds","remainingLinks","textMeasureCanvas","fontFamily","createElement","context","getContext","font","textMetrics","measureText","actualBoundingBoxRight","actualBoundingBoxLeft"],"mappings":"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"}
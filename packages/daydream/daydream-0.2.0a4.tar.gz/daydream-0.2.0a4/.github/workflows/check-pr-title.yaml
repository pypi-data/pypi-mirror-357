name: check-pr-title

on:
  pull_request:
    types: [opened, edited, synchronize]

permissions:
  contents: read

jobs:
  check-pr-title:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        persist-credentials: false

    - name: Install uv
      uses: astral-sh/setup-uv@f0ec1fc3b38f5e7cd731bb6ce540c5af426746bb  # v6.1.0
      with:
        enable-cache: true
        cache-dependency-glob: "uv.lock"

    - name: Check PR title format
      run: uv run --no-project .github/bin/check-pr-title-format
      env:
        PR_TITLE: ${{ github.event.pull_request.title }}

(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{70378:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/custom-fields",function(){return l(76513)}])},56358:function(e,t,l){"use strict";l.d(t,{q:function(){return s}});var i=l(24246);let s=(0,l(4454).IUT)({displayName:"TrashCanOutlineIcon",viewBox:"0 0 11 12",path:(0,i.jsx)("path",{d:"M4.5166 1.60859L4.1084 2.21875H7.22363L6.81543 1.60859C6.7832 1.56133 6.72949 1.53125 6.67148 1.53125H4.6584C4.60039 1.53125 4.54668 1.55918 4.51445 1.60859H4.5166ZM7.6748 1.03711L8.46328 2.21875H8.75977H9.79102H9.96289C10.2486 2.21875 10.4785 2.44863 10.4785 2.73438C10.4785 3.02012 10.2486 3.25 9.96289 3.25H9.79102V9.78125C9.79102 10.7309 9.02188 11.5 8.07227 11.5H3.25977C2.31016 11.5 1.54102 10.7309 1.54102 9.78125V3.25H1.36914C1.0834 3.25 0.853516 3.02012 0.853516 2.73438C0.853516 2.44863 1.0834 2.21875 1.36914 2.21875H1.54102H2.57227H2.86875L3.65723 1.03496C3.88066 0.701953 4.25664 0.5 4.6584 0.5H6.67148C7.07324 0.5 7.44922 0.701953 7.67266 1.03496L7.6748 1.03711ZM2.57227 3.25V9.78125C2.57227 10.1615 2.87949 10.4688 3.25977 10.4688H8.07227C8.45254 10.4688 8.75977 10.1615 8.75977 9.78125V3.25H2.57227ZM4.29102 4.625V9.09375C4.29102 9.28281 4.13633 9.4375 3.94727 9.4375C3.7582 9.4375 3.60352 9.28281 3.60352 9.09375V4.625C3.60352 4.43594 3.7582 4.28125 3.94727 4.28125C4.13633 4.28125 4.29102 4.43594 4.29102 4.625ZM6.00977 4.625V9.09375C6.00977 9.28281 5.85508 9.4375 5.66602 9.4375C5.47695 9.4375 5.32227 9.28281 5.32227 9.09375V4.625C5.32227 4.43594 5.47695 4.28125 5.66602 4.28125C5.85508 4.28125 6.00977 4.43594 6.00977 4.625ZM7.72852 4.625V9.09375C7.72852 9.28281 7.57383 9.4375 7.38477 9.4375C7.1957 9.4375 7.04102 9.28281 7.04102 9.09375V4.625C7.04102 4.43594 7.1957 4.28125 7.38477 4.28125C7.57383 4.28125 7.72852 4.43594 7.72852 4.625Z",fill:"currentColor"})})},95492:function(e,t,l){"use strict";l.d(t,{l:function(){return s}});var i=l(24246);let s=(0,l(4454).IUT)({displayName:"TrashCanSolidIcon",viewBox:"0 0 12 15",path:(0,i.jsx)("path",{d:"M8.37857 1.18083C8.23393 0.892838 7.93661 0.710938 7.6125 0.710938H4.3875C4.06339 0.710938 3.76607 0.892838 3.62143 1.18083L3.42857 1.56094H0.857143C0.383036 1.56094 -1.19209e-07 1.94158 -1.19209e-07 2.41094C-1.19209e-07 2.8803 0.383036 3.26094 0.857143 3.26094H11.1429C11.6162 3.26094 12 2.8803 12 2.41094C12 1.94158 11.6162 1.56094 11.1429 1.56094H8.57143L8.37857 1.18083ZM11.167 4.11094H0.857143V12.6109C0.857143 13.5486 1.62589 14.3109 2.57143 14.3109H9.45268C10.3754 14.3109 11.167 13.5486 11.167 12.6109V4.11094ZM9.02411 6.23594V12.1859C9.02411 12.4197 8.80714 12.6109 8.59554 12.6109C8.33571 12.6109 8.16696 12.4197 8.16696 12.1859V6.23594C8.16696 6.00219 8.33571 5.81094 8.59554 5.81094C8.80714 5.81094 9.02411 6.00219 9.02411 6.23594ZM6.45268 6.23594V12.1859C6.45268 12.4197 6.23571 12.6109 6.02411 12.6109C5.76429 12.6109 5.57143 12.4197 5.57143 12.1859V6.23594C5.57143 6.00219 5.76429 5.81094 6.02411 5.81094C6.23571 5.81094 6.45268 6.00219 6.45268 6.23594ZM3.85714 6.23594V12.1859C3.85714 12.4197 3.66429 12.6109 3.42857 12.6109C3.19286 12.6109 3 12.4197 3 12.1859V6.23594C3 6.00219 3.19286 5.81094 3.42857 5.81094C3.66429 5.81094 3.85714 6.00219 3.85714 6.23594Z",fill:"currentColor"})})},77213:function(e,t,l){"use strict";l.d(t,{Z:function(){return x}});var i=l(24246),s=l(4454),a=l(88038),o=l.n(a),n=l(86677);l(27378);var r=l(25980),d=l(90867),c=l(77830),u=()=>{let e=(0,n.useRouter)();return(0,i.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(s.xuv,{children:[(0,i.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(s.wpx,{onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,i.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=e=>{let{children:t,title:l,padded:a=!0,mainProps:c}=e,x=(0,r.hz)(),m=(0,n.useRouter)(),p="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,h=!(x.flags.privacyRequestsConfiguration&&p),{data:v}=(0,d.JE)(void 0,{skip:h}),{data:f}=(0,d.PW)(void 0,{skip:h}),g=x.flags.privacyRequestsConfiguration&&(!v||!f)&&p;return(0,i.jsxs)(s.kCb,{"data-testid":l,direction:"column",h:"100vh",children:[(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",l]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(s.kCb,{as:"main",direction:"column",py:a?6:0,px:a?10:0,h:a?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[g?(0,i.jsx)(u,{}):null,t]})]})}},19904:function(e,t,l){"use strict";l.d(t,{Tg:function(){return o}});var i=l(24246),s=l(16134),a=l(31793);let o=e=>(0,s.C)(a.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:l}=e;return o(t)?(0,i.jsx)(i.Fragment,{children:l}):null}},70416:function(e,t,l){"use strict";l.d(t,{d:function(){return s}});var i=l(24246);let s=(0,l(4454).IUT)({displayName:"AddIcon",viewBox:"0 0 10 10",path:(0,i.jsx)("path",{d:"M4.33331 4.33398V0.333984H5.66665V4.33398H9.66665V5.66732H5.66665V9.66732H4.33331V5.66732H0.333313V4.33398H4.33331Z",fill:"currentColor"})})},97181:function(e,t,l){"use strict";l.d(t,{d:function(){return d}});var i=l(24246),s=l(4454),a=l(34090),o=l(27378),n=l(46238),r=l(40324);let d=e=>{let{name:t,label:l,labelProps:d,tooltip:c,isRequired:u,layout:x="inline",helperText:m,...p}=e,[h,v,{setValue:f}]=(0,a.U$)(t),g=!!(v.touched&&v.error),[C,j]=(0,o.useState)("");h.value||"tags"!==p.mode&&"multiple"!==p.mode||(h.value=[]),"tags"===p.mode&&"string"==typeof h.value&&(h.value=[h.value]);let _="tags"===p.mode?(e,t)=>e?e.value!==C||h.value.includes(C)?p.optionRender?p.optionRender(e,t):e.label:'Create "'.concat(C,'"'):void 0:p.optionRender||void 0,b=e=>{j(e),p.onSearch&&p.onSearch(e)},y=(e,t)=>{f(e),p.onChange&&p.onChange(e,t)};return"inline"===x?(0,i.jsx)(s.NIc,{isInvalid:g,isRequired:u,children:(0,i.jsxs)(s.rjZ,{templateColumns:l?"1fr 3fr":"1fr",children:[l?(0,i.jsx)(r.__,{htmlFor:p.id||t,...d,children:l}):null,(0,i.jsxs)(s.jqI,{align:"center",children:[(0,i.jsxs)(s.jqI,{vertical:!0,flex:1,className:"mr-2",children:[(0,i.jsx)(s.WPr,{...h,id:p.id||t,"data-testid":"controlled-select-".concat(h.name),...p,optionRender:_,onSearch:"tags"===p.mode?b:void 0,onChange:y,value:h.value||void 0,status:g?"error":void 0}),m&&(0,i.jsx)(s.Q6r,{children:m}),(0,i.jsx)(r.Bc,{isInvalid:g,message:v.error,fieldName:h.name})]}),(0,i.jsx)(n.b,{label:c,className:g?"mt-2 self-start":void 0})]})]})}):(0,i.jsx)(s.NIc,{isInvalid:g,isRequired:u,children:(0,i.jsxs)(s.gCW,{alignItems:"start",children:[(0,i.jsxs)(s.jqI,{align:"center",children:[l?(0,i.jsx)(r.__,{htmlFor:p.id||t,fontSize:"xs",my:0,mr:1,...d,children:l}):null,(0,i.jsx)(n.b,{label:c})]}),(0,i.jsx)(s.WPr,{...h,id:p.id||t,"data-testid":"controlled-select-".concat(h.name),...p,optionRender:_,onSearch:"tags"===p.mode?b:void 0,onChange:y,value:h.value||void 0,status:g?"error":void 0}),m&&(0,i.jsx)(s.Q6r,{style:{marginTop:0},children:m}),(0,i.jsx)(r.Bc,{isInvalid:g,message:v.error,fieldName:h.name})]})})}},10342:function(e,t,l){"use strict";var i=l(24246),s=l(4454),a=l(46238);t.Z=e=>{let{title:t,tooltip:l,children:o,...n}=e;return(0,i.jsxs)(s.xuv,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",...n,children:[(0,i.jsxs)(s.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,l?(0,i.jsx)(s.xvT,{as:"span",mx:1,children:(0,i.jsx)(a.b,{label:l})}):void 0]}),(0,i.jsx)(s.Kqy,{p:6,spacing:6,children:o})]})}},76513:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return Y}});var i=l(24246),s=l(77213),a=l(4454),o=l(27378),n=l(58754),r=l(92222),d=l(59003),c=l(16134),u=l(812),x=l(19904),m=l(14481),p=l(46628),h=l(72625),v=l(61317);let f=new Map([["string","Single Select"],["string[]","Multi Select"],["open-text","Open Text"]]),g=new Map([[v.P6.SYSTEM,"system:information"],[v.P6.DATA_USE,"taxonomy:data use"],[v.P6.DATA_CATEGORY,"taxonomy:data category"],[v.P6.DATA_SUBJECT,"taxonomy:data subject"],[v.P6.PRIVACY_DECLARATION,"system:data use"]]);var C=l(32885);let j=e=>{var t;let l=null!==(t=g.get(e.getValue()))&&void 0!==t?t:e.getValue();return(0,i.jsx)(h.G3,{...e,value:l})},_=e=>{let{row:t,getValue:l}=e,s=t.original.allow_list_id?l():"open-text",a=f.get(s)||s;return(0,i.jsx)(h.A4,{value:a})},b=e=>{let{row:t,getValue:l,isDisabled:s}=e,a=!!l(),[o]=(0,C.yM)(),n=async e=>o({...t.original,active:e});return(0,i.jsx)(h.S1,{enabled:a,onToggle:n,title:"Disable custom field",message:"Are you sure you want to disable this custom field?",isDisabled:s,"aria-label":a?"Disable custom field":"Enable custom field"})};var y=l(56358),w=l(58452);let T=e=>{let{customField:t,onEdit:l,onDelete:s,...o}=e,n=(0,a.qY0)();return(0,i.jsxs)(a.xuv,{...o,children:[(0,i.jsx)(a.wpx,{"aria-label":"Edit property","data-testid":"edit-property-button",size:"small",className:"mr-[10px]",icon:(0,i.jsx)(a.dY8,{}),onClick:e=>{e.stopPropagation(),l(t,e)}}),(0,i.jsx)(a.wpx,{"aria-label":"Delete property","data-testid":"delete-property-button",size:"small",className:"mr-[10px]",icon:(0,i.jsx)(y.q,{}),onClick:e=>{e.stopPropagation(),n.onOpen()}}),(0,i.jsx)(w.Z,{isOpen:n.isOpen,onClose:n.onClose,onConfirm:()=>{s(t),n.onClose()},title:"Delete custom field",message:(0,i.jsx)(a.xvT,{color:"gray.500",children:"Are you sure you want to delete this custom field? This will remove the custom field and all stored values and this action can't be undone."}),continueButtonText:"Confirm",isCentered:!0,icon:(0,i.jsx)(a.aNP,{})})]})};var E=l(95346),S=l(14047),I=l(34090),R=l(55484);let L={color:"gray.600",fontSize:"14px",fontWeight:"semibold",minWidth:"150px"};var N=e=>{let{customLabelProps:t,disabled:l=!1,isRequired:s=!1,label:o,type:n="text",placeholder:r,...d}=e,[c,u]=(0,I.U$)(d),{id:x,name:m,autoFocus:p}=d,h="custom-input-".concat(c.name);return(0,i.jsxs)(a.NIc,{display:"flex",isRequired:s,isInvalid:!!(u.error&&u.touched),children:[o&&(0,i.jsx)(a.lXp,{htmlFor:x||m,...t||L,children:o}),(0,i.jsxs)(a.gCW,{align:"flex-start",w:"inherit",children:["number"===n&&(0,i.jsxs)(a.Y2U,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,i.jsx)(a.zuI,{...c,autoComplete:"off",autoFocus:p,"data-testid":h}),(0,i.jsxs)(a.FiK,{children:[(0,i.jsx)(a.WQu,{}),(0,i.jsx)(a.Y_d,{})]})]}),"text"===n&&(0,i.jsx)(a.IIB,{...c,autoComplete:"off",autoFocus:p,color:"gray.700",isDisabled:l,placeholder:r,size:"sm","data-testid":h}),"textarea"===n&&(0,i.jsx)(a.gxH,{...c,autoComplete:"off",autoFocus:p,color:"gray.700",placeholder:r,resize:"none",size:"sm",value:c.value||"","data-testid":h}),(0,i.jsx)(a.J1D,{children:u.error})]})]})},H=l(70416),P=l(10342),M=l(95492),V=l(97181);let A={...L,minWidth:"unset"},U=e=>{let{values:t,validationSchema:l,errors:s,dirty:n,isValid:r,isSubmitting:d,isLoading:c,onClose:u,handleDropdownChange:x,isEditing:m}=e,{validateForm:p}=(0,I.u6)();return(0,o.useEffect)(()=>{p()},[l,p]),(0,i.jsxs)(I.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,i.jsx)(a.xuv,{py:3,children:(0,i.jsxs)(P.Z,{title:"Field Information",children:[(0,i.jsx)(N,{isRequired:!0,label:"Name",name:"name",customLabelProps:A}),(0,i.jsx)(N,{label:"Description",name:"description",customLabelProps:A}),(0,i.jsx)(V.d,{label:"Location",name:"resource_type",options:E.C7,labelProps:A,disabled:m})]})}),(0,i.jsx)(a.xuv,{py:3,children:(0,i.jsxs)(P.Z,{title:"Configuration",children:[(0,i.jsx)(V.d,{label:"Field Type",name:"field_type",labelProps:A,options:E.Hn,onChange:x}),t.field_type!==E.Uv.OPEN_TEXT?(0,i.jsx)(a.kCb,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:(0,i.jsx)(I.F2,{name:"allow_list.allowed_values",render:e=>{let{allowed_values:l}=t.allow_list;return(0,i.jsxs)(a.kCb,{flexDirection:"column",gap:"6",pl:"6",children:[(0,i.jsx)(a.kCb,{flexDirection:"column",children:l.map((t,s)=>(0,i.jsxs)(a.kCb,{flexGrow:1,gap:"3",mt:s>0?3:void 0,children:[(0,i.jsx)(N,{customLabelProps:{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",minW:"126px",pr:"8px"},isRequired:!0,label:"List item ".concat(s+1),name:"allow_list.allowed_values[".concat(s,"]")}),(0,i.jsx)(a.wpx,{"aria-label":"Remove this list value","data-testid":"remove-list-value-btn-".concat(s),icon:(0,i.jsx)(M.l,{}),disabled:l.length<=1,onClick:()=>e.remove(s),type:"text"})]},s))}),(0,i.jsxs)(a.kCb,{alignItems:"center",children:[(0,i.jsx)(a.xvT,{color:"gray.600",fontSize:"xs",fontWeight:"500",lineHeight:"16px",pr:"8px",children:"Add a list value"}),(0,i.jsx)(a.wpx,{"aria-label":"Add a list value","data-testid":"add-list-value-btn",icon:(0,i.jsx)(H.d,{h:"7px",w:"7px"}),onClick:()=>{e.push("")},size:"small"}),0===l.length&&(null==s?void 0:s.allow_list)?(0,i.jsx)(a.xvT,{color:"red.500",pl:"18px",size:"sm",children:s.allow_list.allowed_values}):null]})]})}})}):null]})}),(0,i.jsxs)(a.kCb,{justifyContent:"space-between",width:"100%",children:[(0,i.jsx)(a.wpx,{onClick:u,disabled:c||d,className:"mr-3","data-testid":"cancel-btn",children:"Cancel"}),(0,i.jsx)(a.wpx,{htmlType:"submit",type:"primary","data-testid":"save-btn",loading:c,disabled:!n||!r||d,children:"Save"})]})]})},k={description:"",field_type:E.Uv.OPEN_TEXT,name:"",resource_type:v.P6.SYSTEM,allow_list:{name:"",description:"",allowed_values:[]}},z=R.IX(R.Z_().optional().label("allowed_values")),F=R.IX(R.Z_().required("List item is required")).min(1,"Must add at least one list value").label("allowed_values"),D=R.Ry().shape({name:R.Z_().required("Name is required").trim(),allow_list:R.Ry().shape({allowed_values:z})}),Z=R.Ry().shape({name:R.Z_().required("Name is required").trim(),allow_list:R.Ry().shape({allowed_values:F})}),q=(e,t)=>{var l,i,s;let a;if(!e)return;e.field_type!==v.AL.STRING||e.allow_list_id||(a=E.Uv.OPEN_TEXT),e.field_type===v.AL.STRING&&e.allow_list_id&&(a=E.Uv.SINGLE_SELECT),e.field_type===v.AL.STRING_&&e.allow_list_id&&(a=E.Uv.MULTIPLE_SELECT);let o=t?{name:null!==(l=t.name)&&void 0!==l?l:"",description:null!==(i=t.description)&&void 0!==i?i:"",allowed_values:null!==(s=t.allowed_values)&&void 0!==s?s:[]}:k.allow_list;return{...e,field_type:a||E.Uv.OPEN_TEXT,allow_list:o}},O=e=>{let{isOpen:t,onClose:l,isLoading:s,customField:n}=e,{errorAlert:r,successAlert:d}=(0,S.V)(),[c]=(0,C.Ld)(),[x]=(0,C.yM)(),[m]=(0,C.Nt)(),{data:p,isLoading:h}=(0,C.vA)(null==n?void 0:n.allow_list_id,{skip:!(null==n?void 0:n.allow_list_id)}),[f,g]=(0,o.useState)(D);if(h||!t)return null;let j=q(n,p),_=!!j,b=e=>{e===E.Uv.OPEN_TEXT?g(D):g(Z)},y=async e=>{if([E.Uv.SINGLE_SELECT,E.Uv.MULTIPLE_SELECT].includes(e.field_type)){var t,i;if(new Set(null===(t=e.allow_list)||void 0===t?void 0:t.allowed_values.map(e=>e.toLowerCase().trim()).map(e=>e)).size<e.allow_list.allowed_values.length){r("List item value must be unique");return}let{allow_list:l}=e;e.allow_list_id&&(l.id=e.allow_list_id),l.name||(l.name=Date.now().toString()+Math.random().toString());let s=await m(l);(0,u.D4)(s)||e.allow_list_id||(e.allow_list_id=null===(i=s.data)||void 0===i?void 0:i.id)}e.field_type===E.Uv.OPEN_TEXT&&(e.allow_list_id=void 0),[E.Uv.SINGLE_SELECT,E.Uv.OPEN_TEXT].includes(e.field_type)&&(e.field_type=v.AL.STRING),e.field_type===E.Uv.MULTIPLE_SELECT&&(e.field_type=v.AL.STRING_);let s={...e};delete s.allow_list;let a=n?await x(s):await c(s);(0,u.D4)(a)?r((0,u.e$)(a.error),"Custom field has failed to save due to the following:"):(l(),d("Custom field successfully saved"))};return(0,i.jsxs)(a.u_l,{id:"custom-field-modal-hello-world",isOpen:t,onClose:l,size:"lg",returnFocusOnClose:!1,isCentered:!0,children:[(0,i.jsx)(a.ZAr,{}),(0,i.jsxs)(a.hzk,{id:"modal-content","data-testid":"custom-field-modal",maxHeight:"80%",overflowY:"auto",children:[(0,i.jsx)(a.xBx,{id:"modal-header",fontWeight:"semibold",lineHeight:5,fontSize:"sm",py:"18px",px:6,height:"56px",backgroundColor:"gray.50",borderColor:"gray.200",borderWidth:"0px 0px 1px 1p",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxSizing:"border-box",children:n?"Manage Custom Field":"Add a custom field"}),(0,i.jsx)(a.fef,{px:6,py:0,children:(0,i.jsx)(I.J9,{initialValues:j||k,validationSchema:f,onSubmit:y,enableReinitialize:!0,validateOnChange:!0,children:e=>(0,i.jsx)(U,{isEditing:_,validationSchema:f,isLoading:s,onClose:l,handleDropdownChange:b,...e})})})]})]})},W="Add a custom field",G=()=>(0,i.jsx)(a.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,i.jsxs)(a.gCW,{children:[(0,i.jsx)(a.xvT,{fontSize:"md",fontWeight:"600",children:"It looks like it’s your first time here!"}),(0,i.jsxs)(a.xvT,{fontSize:"sm",children:["You haven’t created any custom fields yet.",(0,i.jsx)("br",{}),"To create a custom field, click on the"," ",(0,i.jsxs)("strong",{children:['"',W,'"']})," button"]})]})}),B=(0,r.Cl)(),X=e=>{let{...t}=e,l=(0,a.pmc)(),{isLoading:s}=(0,C.GH)(),n=(0,c.C)(C.fN),[h]=(0,C.UF)(),{isOpen:f,onClose:g,onOpen:y}=(0,a.qY0)(),[w,E]=(0,o.useState)(),[S,I]=(0,o.useState)(),R=(0,x.Tg)([v.Sh.CUSTOM_FIELD_UPDATE]),L=(0,x.Tg)([v.Sh.CUSTOM_FIELD_DELETE]),N=e=>{R&&(E(e),y())},H=async e=>{if(L&&e.id){let t=await h({id:e.id});if((0,u.D4)(t)){l((0,p.Vo)((0,u.e$)(t.error)));return}l((0,p.t5)("Custom field deleted"))}},P=(0,o.useMemo)(()=>[B.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(m.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,i.jsx)(m.Rr,{value:"Label",...e})}),B.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(m.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,i.jsx)(m.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),B.accessor(e=>e.field_type,{id:"field_type",cell:_,header:e=>(0,i.jsx)(m.Rr,{value:"Field Type",...e})}),B.accessor(e=>e.resource_type,{id:"resource_type",cell:j,header:e=>(0,i.jsx)(m.Rr,{value:"Locations",...e})}),R&&B.accessor(e=>e.active,{id:"enable",cell:b,header:e=>(0,i.jsx)(m.Rr,{value:"Enable",...e}),meta:{disableRowClick:!0}}),(R||L)&&B.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e;return(0,i.jsx)(T,{customField:t.original,onEdit:N,onDelete:H})},meta:{disableRowClick:!0}})].filter(Boolean),[L,R]),M=(0,d.b7)({getCoreRowModel:(0,r.sC)(),getFilteredRowModel:(0,r.vL)(),getSortedRowModel:(0,r.tj)(),onGlobalFilterChange:I,globalFilterFn:"includesString",columns:P,data:n,state:{globalFilter:S},columnResizeMode:"onChange"});return(0,i.jsxs)(a.xuv,{...t,children:[(0,i.jsx)(a.xuv,{maxWidth:600,children:(0,i.jsx)(a.xvT,{mb:10,fontSize:"sm",children:n.length>0?"Custom fields enable you to capture metrics specific to your organization and have those metrics appear in the data map and in reports.":"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,i.jsxs)(a.xuv,{"data-testid":"custom-fields-page",children:[(0,i.jsxs)(m.Q$,{children:[(0,i.jsx)(m.HO,{globalFilter:S,setGlobalFilter:I,placeholder:"Search for a custom field"}),(0,i.jsx)(a.Ugi,{alignItems:"center",spacing:4,children:(0,i.jsx)(()=>(0,i.jsx)(x.ZP,{scopes:[v.Sh.CUSTOM_FIELD_DEFINITION_CREATE],children:(0,i.jsx)(a.wpx,{type:"primary","data-testid":"add-custom-field-btn",onClick:y,children:W})}),{})})]}),s?(0,i.jsx)(a.xuv,{p:2,borderWidth:1,children:(0,i.jsx)(m.I4,{rowHeight:26,numRows:10})}):(0,i.jsx)(m.ZK,{tableInstance:M,onRowClick:R?N:void 0,emptyTableNotice:(0,i.jsx)(G,{}),enableSorting:!0}),f&&(0,i.jsx)(O,{customField:w,isOpen:f,onClose:()=>{E(void 0),g()},isLoading:!1})]})]})};var Y=()=>(0,i.jsx)(s.Z,{title:"Custom fields",children:(0,i.jsxs)(a.xuv,{"data-testid":"custom-fields-management",children:[(0,i.jsx)(n.Z,{heading:"Custom fields"}),(0,i.jsx)(X,{})]})})}},function(e){e.O(0,[8033,6060,7553,4481,7980,2888,9774,179],function(){return e(e.s=70378)}),_N_E=e.O()}]);
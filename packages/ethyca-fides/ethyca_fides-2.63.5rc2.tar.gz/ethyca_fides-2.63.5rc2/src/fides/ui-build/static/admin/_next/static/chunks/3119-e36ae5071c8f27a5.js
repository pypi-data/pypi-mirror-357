"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3119],{18225:function(e,t,i){var r=i(24246),s=i(4454);t.Z=e=>{let{alignment:t="center",...i}=e;return(0,r.jsx)(s.kCb,{boxSize:"full",align:"center",justify:t,children:(0,r.jsx)(s.$jN,{color:"primary",...i})})}},77213:function(e,t,i){i.d(t,{Z:function(){return f}});var r=i(24246),s=i(4454),n=i(88038),a=i.n(n),l=i(86677);i(27378);var o=i(25980),c=i(90867),d=i(77830),u=()=>{let e=(0,l.useRouter)();return(0,r.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(s.xuv,{children:[(0,r.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(s.wpx,{onClick:()=>{e.push(d.fz)},children:"Configure"})]}),(0,r.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:i,padded:n=!0,mainProps:d}=e,f=(0,o.hz)(),x=(0,l.useRouter)(),h="/privacy-requests"===x.pathname||"/datastore-connection"===x.pathname,p=!(f.flags.privacyRequestsConfiguration&&h),{data:j}=(0,c.JE)(void 0,{skip:p}),{data:g}=(0,c.PW)(void 0,{skip:p}),m=f.flags.privacyRequestsConfiguration&&(!j||!g)&&h;return(0,r.jsxs)(s.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(s.kCb,{as:"main",direction:"column",py:n?6:0,px:n?10:0,h:n?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[m?(0,r.jsx)(u,{}):null,t]})]})}},79789:function(e,t,i){i.d(t,{Hn:function(){return l},XU:function(){return a},Z5:function(){return o},aG:function(){return u},cB:function(){return n},hX:function(){return d},vQ:function(){return c}});var r=i(24246),s=i(4454);let n=e=>{let{text:t,...i}=e;return(0,r.jsx)(s.X6q,{fontSize:"sm",mt:4,mb:1,...i,children:t})},a=e=>{let{children:t}=e;return(0,r.jsx)(s.xvT,{fontSize:"14px",mb:4,children:t})},l=e=>{let{children:t,href:i}=e;return(0,r.jsx)(s.rUS,{href:i,textDecoration:"underline",isExternal:!0,children:t})},o=e=>{let{children:t}=e;return(0,r.jsx)(s.QI$,{fontSize:"14px",mb:4,children:t})},c=e=>{let{children:t}=e;return(0,r.jsx)(s.GSI,{fontSize:"14px",mb:4,ml:6,children:t})},d=e=>{let{children:t}=e;return(0,r.jsx)(s.EKh,{display:"block",whiteSpace:"pre",p:4,mb:4,overflowX:"scroll",children:t})},u=e=>{let{data:t}=e;return(0,r.jsxs)(s.iA_,{fontSize:"14px",children:[(0,r.jsx)(s.hrZ,{children:(0,r.jsxs)(s.Tr,{children:[(0,r.jsx)(s.Th,{children:"Permission"}),(0,r.jsx)(s.Th,{children:"Description"})]})}),(0,r.jsx)(s.p3B,{children:t.map(e=>(0,r.jsxs)(s.Tr,{children:[(0,r.jsx)(s.Td,{children:(0,r.jsx)(s.Vp9,{children:e.permission})}),(0,r.jsx)(s.Td,{children:e.description})]},e.permission))})]})}},89200:function(e,t,i){var r=i(24246),s=i(14481),n=i(98559),a=i(80356);t.Z=e=>{let{resource:t}=e;return(0,r.jsx)(s.G3,{value:(0,n.Z)(t),fontWeight:(0,a.Z)(t)?"semibold":"normal"})}},5945:function(e,t,i){var r=i(24246),s=i(14481),n=i(8151);let a={[n.e.ATTENTION_REQUIRED]:"error",[n.e.APPROVED]:"success",[n.e.IN_REVIEW]:"warning",[n.e.CLASSIFYING]:"info",[n.e.NONE]:"marble"};t.Z=e=>{let{status:t}=e;return(0,r.jsx)(s.A4,{color:a[t],value:t})}},81406:function(e,t,i){var r=i(24246),s=i(4454);t.Z=()=>(0,r.jsxs)(s.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,r.jsx)(s.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,r.jsx)(s.xvT,{fontSize:"sm",children:"You're up to date!"})]})},99763:function(e,t,i){var r=i(24246),s=i(4454),n=i(79789),a=i(8151),l=i(61099),o=i(7940),c=i(61317);t.Z=e=>{var t;let{resource:i,onClose:d}=e,u=(0,o.G)(i),f=(0,a.u)(i),x=(u===c.D$.FIELD||u===c.D$.TABLE)&&f===a.e.IN_REVIEW;return(0,r.jsxs)(s.dys,{isOpen:!!i,onClose:d,size:"md",children:[(0,r.jsx)(s.P1B,{}),(0,r.jsxs)(s.scA,{"data-testid":"resource-details",children:[(0,r.jsx)(s.OXI,{children:(null==i?void 0:i.name)||(null==i?void 0:i.urn)}),(0,r.jsx)(s.cCv,{}),(0,r.jsxs)(s.Ng0,{children:[(0,r.jsx)(n.cB,{text:"Title",mt:0}),(0,r.jsx)(n.XU,{children:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:null==i?void 0:i.urn}),(null==i?void 0:i.description)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.cB,{text:"Description"}),(0,r.jsx)(n.XU,{children:null==i?void 0:i.description})]}),x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.cB,{text:"Data categories"}),(0,r.jsx)(l.Z,{resource:i})]})]})]})]})}},28976:function(e,t,i){var r=i(24246),s=i(4454);t.Z=e=>{let{onHideClick:t,onDetailClick:i}=e;return(0,r.jsxs)(s.v2r,{children:[(0,r.jsx)(s.j2t,{as:s.wpx,size:"small",type:"text",icon:(0,r.jsx)(s.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"actions-menu"}),(0,r.jsxs)(s.qyq,{children:[i&&(0,r.jsx)(s.sNh,{onClick:i,"data-testid":"view-resource-details",children:"View details"}),t&&(0,r.jsx)(s.sNh,{onClick:t,"data-testid":"hide-resource",children:"Hide"})]})]})}},25077:function(e,t,i){i.d(t,{Z:function(){return T}});var r=i(24246),s=i(59003),n=i(92222),a=i(4454),l=i(27378),o=i(30952),c=i(14481),d=i(81406),u=i(99763),f=i(72625),x=i(14047),h=i(28976),p=i(8151),j=i(70675),g=e=>{let{resource:t,onDetailClick:i}=e,{successAlert:s}=(0,x.V)(),n=(0,p.u)(t),[l,{isLoading:o}]=(0,j.v8)(),[c,{isLoading:d}]=(0,j.cM)(),[u,{isLoading:f}]=(0,j.vi)(),g=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),s("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},m=async()=>{var e;await c({staged_resource_urn:t.urn}),s("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},I=async()=>{var e;await u({staged_resource_urn:t.urn}),s("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},v=o||d||f;return(0,r.jsxs)(a.kCb,{gap:2,justify:"space-between",children:[n===p.e.ATTENTION_REQUIRED&&(0,r.jsx)(a.wpx,{size:"small",onClick:g,loading:o,disabled:v,"data-testid":"classify-btn",children:"Classify"}),n===p.e.IN_REVIEW&&(0,r.jsx)(a.wpx,{size:"small",onClick:m,loading:d,disabled:v,"data-testid":"approve-btn",children:"Approve"}),(0,r.jsx)(a.LZC,{}),(0,r.jsx)(h.Z,{onHideClick:I,onDetailClick:i})]})},m=i(89200),I=i(5945),v=i(61099),C=i(79947),L=i(61317);let _=(0,n.Cl)();var A=(e,t)=>{let i=[];return e?e===L.D$.TABLE?[_.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{resource:t.original})},header:"Table"}),_.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(I.Z,{status:(0,p.u)(t.original)})},header:"Status"}),_.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(v.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),_.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),_.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(f.Cy,{time:e.getValue()}),header:"Updated"}),_.display({id:"actions",cell:e=>{let{row:i}=e;return(0,r.jsx)(g,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===L.D$.FIELD?[_.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{resource:t.original})},header:"Field"}),_.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(I.Z,{status:(0,p.u)(t.original)})},header:"Status"}),_.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,r.jsx)(C.Z,{type:e.getValue()}),header:"Data type"}),_.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(v.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),_.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),_.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(f.Cy,{time:e.getValue()}),header:"Updated"}),_.display({id:"actions",cell:e=>{let{row:i}=e;return(0,r.jsx)(g,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:i:i},S=i(7940),N=i(80356);let y=[L.LL.ADDITION,L.LL.CLASSIFYING,L.LL.CLASSIFICATION_ADDITION,L.LL.CLASSIFICATION_QUEUED,L.LL.CLASSIFICATION_UPDATE,L.LL.MONITORED,L.LL.PROMOTING,L.LL.REMOVAL,L.LL.REMOVING],E={items:[],total:0,page:1,size:50,pages:1};var T=e=>{let{resourceUrn:t,onRowClick:i}=e,{PAGE_SIZES:f,pageSize:x,setPageSize:h,onPreviousPageClick:p,isPreviousPageDisabled:g,onNextPageClick:m,isNextPageDisabled:I,startRange:v,endRange:C,pageIndex:L,setTotalPages:_,resetPageIndexToDefault:T}=(0,c.oi)(),[b,D]=(0,l.useState)("");(0,l.useEffect)(()=>{T()},[t,T]);let{isFetching:R,isLoading:w,data:O}=(0,j.z8)({staged_resource_urn:t,page:L,size:x,diff_status:y,search:b}),{items:P,total:k,pages:Z}=(0,l.useMemo)(()=>null!=O?O:E,[O]);(0,l.useEffect)(()=>{_(Z)},[Z,_]);let[z,F]=(0,l.useState)(void 0),U=A((0,S.G)(P[0]),F),V=(0,s.b7)({getCoreRowModel:(0,n.sC)(),getGroupedRowModel:(0,n.qe)(),getExpandedRowModel:(0,n.rV)(),columns:U,manualPagination:!0,data:P,columnResizeMode:"onChange",getRowId:e=>e.urn});return w||R?(0,r.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Q$,{children:(0,r.jsx)(a.kCb,{gap:6,align:"center",children:(0,r.jsx)(a.xuv,{flexShrink:0,children:(0,r.jsx)(o.f,{value:b,onChange:D})})})}),(0,r.jsx)(c.ZK,{tableInstance:V,emptyTableNotice:(0,r.jsx)(d.Z,{}),getRowIsClickable:e=>(0,N.Z)(e),onRowClick:i}),(0,r.jsx)(c.s8,{totalRows:k||0,pageSizes:f,setPageSize:h,onPreviousPageClick:p,isPreviousPageDisabled:g,onNextPageClick:m,isNextPageDisabled:I,startRange:v,endRange:C}),(0,r.jsx)(u.Z,{resource:z,onClose:()=>F(void 0)})]})}},8151:function(e,t,i){i.d(t,{e:function(){return s},u:function(){return a}});var r,s,n=i(61317);(r=s||(s={})).ATTENTION_REQUIRED="Attention required",r.IN_REVIEW="In review",r.APPROVED="Approved",r.CLASSIFYING="Classifying",r.NONE="None";let a=e=>{if(!e)return"Approved";let t=e.diff_status===n.LL.ADDITION||e.diff_status===n.LL.REMOVAL,i=e.child_diff_statuses&&(e.child_diff_statuses[n.LL.ADDITION]||e.child_diff_statuses[n.LL.REMOVAL]);if(t||i)return"Attention required";let r=e.diff_status===n.LL.CLASSIFICATION_QUEUED||e.diff_status===n.LL.CLASSIFYING,s=e.child_diff_statuses&&(e.child_diff_statuses[n.LL.CLASSIFICATION_QUEUED]||e.child_diff_statuses[n.LL.CLASSIFYING]);if(r||s)return"Classifying";let a=e.diff_status===n.LL.CLASSIFICATION_ADDITION||e.diff_status===n.LL.CLASSIFICATION_UPDATE,l=e.child_diff_statuses&&(e.child_diff_statuses[n.LL.CLASSIFICATION_ADDITION]||e.child_diff_statuses[n.LL.CLASSIFICATION_UPDATE]);return a||l?"In review":"Approved"}},94780:function(e,t,i){i.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return n}});var r=i(24246),s=i(4454);let n=e=>e.split(".")[1],a=[(0,r.jsx)(s.PJP.S9g,{},"layers"),(0,r.jsx)(s.PJP.iA_,{},"table"),(0,r.jsx)(s.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let l=i.splice(0,2).join("."),o=[];return i.reduce((e,r,s)=>{let n=s===i.length-1,c="".concat(e).concat(".").concat(r);return o.push({title:r,href:n?void 0:"".concat(t,"/").concat(l,"/").concat(c),icon:a[s]}),c},l),[{title:n(l),href:"".concat(t,"/").concat(l),icon:(0,r.jsx)(s.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let r=i.shift(),s=[];return i.reduce((e,r,n)=>{let l=n===i.length-1,o="".concat(e).concat(".").concat(r);return s.push({title:r,href:l?void 0:"".concat(t,"/").concat(o),icon:a[n]}),o},r),s}}}]);